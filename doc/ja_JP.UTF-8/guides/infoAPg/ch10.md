設計様式の利用文書型定義 (DTD)〜への設計様式の適用SGML ドキュメントは、特定の文書型定義 (DTD) に準拠します。インフォメーション・マネージャに文書型定義で定義された要素の処理方法を理解させるには、文書型定義の基本的な要素に属性を適用します。これらの属性は、インフォメーション・マネージャの設計様式に対応します。これらは、インフォメーション・マネージャが解釈し、ドキュメントからオンラインのライブラリを構築するセマンティクスです。この節の例は、DocBook DTD のバージョン 2.2.1 のものです。インフォメーション・マネージャの設計様式は、インフォメーション・マネージャにおけるドキュメントの編成モデルに基づいています。インフォメーション・マネージャは、インフォメーション・ライブラリをグループ化して、そのタイトルがハイパーテキスト目次になっているセクションのブックを含むブックケースにします。これには、表やグラフィックのような特定の要素へのアクセスが含まれます。ブックケース、ブック、セクション、タイトル、リンク、表、およびグラフィックは、ブラウザがインフォメーションを管理するために識別しなければならない重要な要素の例です。インフォメーション・マネージャは、このような種類のインフォメーションのそれぞれに対応する設計様式を提供します。インフォメーション・マネージャでこれらを識別するには、文書型定義に対応する設計様式を適用します。特に、識別したい属性をもつ各要素に、属性を追加します。文書型定義の保守を容易にするには、インフォメーション・マネージャによって提供されるパラメータ・エンティティ参照を使用します。パラメータ・エンティティ参照の使用インフォメーション・マネージャは、インフォメーション・マネージャ設計様式を使用する簡易な（そして推奨の）方法として、パラメータ・エンティティ参照を提供します。インフォメーション・マネージャ設計様式のエンティティ名は、/usr/dt/infolib/<lang>/SGML/dtinfo.afに格納されています。完全な属性を入力するのではなく、属性リストでパラメータ・エンティティ参照を使用することによって、文書型定義への変更を最少限にして、インフォメーション・マネージャの最新の機能を利用することができます。次に、例を示します。完全な属性を適用するには、次のようにします。&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        DTINFO.TITLE CDATA #FIXED &ldquo;#CONTENT&rdquo;
>パラメータ・エンティティ参照を使用するには、次のようにします。&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        %DTINFO.Title; &ldquo;#CONTENT&rdquo;
>文書型定義の編集の詳細については、「設計様式の適用」「DTINFO 設計様式の記述」を参照してください。DTINFO 設計様式の記述設計様式の記述は、記述された設計様式と連携して共通に使用される関連様式を識別します。関連様式は、その対応する属性名を使用して、マニュアル中で識別されます。この節では、以下に示すことを説明します。「セクション様式」「値様式」「スコープ様式」「ハイパーテキスト様式」「スタイル様式」目次、ブックケース規定、およびスクラッチのスタイル・シートの作成は容易ですが、既存のブックケース、スタイル・シート、および目次の文書型定義に、インフォメーション・マネージャの設計様式を適用することができます。詳細については、ブックケース様式、スタイル・シート様式、および「目次の設計様式」を参照してください。これらの設計様式は、ほとんどのdtdocbook2infolibのサブコマンドの使用前に、適用しなければなりません。値の理解データ値をとるインフォメーション・マネージャ設計様式では、単純な機能言語が、要素内容、属性値、およびリテラルの連携を形成する機構を提供します。引き数は、表「値の作成の構文」で定義されています。
# 値の作成の構文構文意味attr()attr() は引き数として使用される属性名の値を返します。IMPLIED 属性は、空の文字列を返します。attr() は、現在の要素についてのみ参照します。concat()concat() は、文字列の引き数（リテラル、要素内容、属性値、または他の機能の値）を連結します。firstof()firstof() は、その引き数中の最初の空でない文字列を返します。これは、その引き数によって定義される可能性の順序から値を選択します。要素名要素名は、現在の要素の内容モデルのメンバである要素の名前を、値として使用します。リテラル文字列リテラル文字列は、リテラル文字列指定するために、引用符  '...' または "..." のいずれかを使用します。#CONTENT#CONTENT は、現在の要素内容のすべてを値として使用します。表で説明されている構文を組み合わせて、値を作成することができます。また、必要に応じて、リテラル文字列を追加することもできます。次に、設計様式で値を指定する例を示します。DTINFO.Title  CDATA             #FIXED
                                    "concat( attr(Label), RefTitle, ManVolNum )"
DTINFO.Graphic  CDATA           #FIXED
                                  "firstof( attr(Fileref), attr(Other), #CONTENT )"セクション様式設計様式セクション様式インフォメーション・マネージャに、SGML ファイルの構造を理解させるには、セクション設計様式を適用しなければなりません。様式の値の使用と意味は、その様式の型に依存します。たとえば、章のタイトルに指定されると、値はハイパーテキスト目次に表示されます。DTINFO.Graphicでは、値はグラフィック・データを含むファイルの名前です。これらの関係性は、表「様式の値の意味」で説明しています。様式の値の意味セクション様式値様式の意味、適用時DTINFO.Sectionセクションの値は、インフォメーション・マネージャの表示ウィンドウに表示されるものです。デフォルト値は #CONTENT です。DTINFO.TitleDTINFO.Section のタイトルの値は、インフォメーション・マネージャのブック・リストに表示されます。DTINFO.Graphicグラフィックの値は、グラフィック・データを含むファイル名です。この値は、エンティティ参照からも引き出されます。DTINFO.Ignoreこの情報は、データベースあるいは 全テキスト索引 (FulText Index) に格納されません。（したがって表示されません。）DTINFO.ShortTitle短縮タイトルの値は、表示ウィンドウにおいて、タイトルの一部分が切り詰められるところで使用されます。DTINFO.SectionDTINFO.Section様式を、章のようなインフォメーションの一部分を分離するコンテナ要素に適用します。DTINFO.Sectionを使用して、インフォメーション・マネージャの表示ウィンドウに、インフォメーションの単位として、どの要素を表示するかを定義します。dtdocbook2infolibは、DTINFO.Sectionを使用して、階層構造を引き出すことができます。エンティテ名:DTINFO.Section属性テンプレート:DTINFO.Section CDATA FIXED &ldquo;#CONTENT&rdquo;関連様式:DTINFO.ID(必須),DTINFO.Scope,DTINFO.ShortTitle,DTINFO.Style,DTINFO.Title(必須),DTINFO.Value例:&lt;!ELEMENT Preface - - (DocInfo?, Title, TitleAbbrev?, (%sect1.gp;)) >
&lt;!ATTLIST Preface
        %commonatts;

        %DTINFO.Section;            &ldquo;#CONTENT&rdquo;
        %DTINFO.Style;              &ldquo;sty1&rdquo;
        %DTINFO.Title;              &ldquo;#CONTENT&rdquo;
        %DTINFO.ID;                 &ldquo;attr(id)&rdquo;
>DTINFO.Title通常は、章のタイトル、ヘッダ、キャプション、図のタイトル、表のタイトル、および例のタイトルなど、どのようなタイトルであってもDTINFO.Titleを適用します。エンティティ名:DTINFO.Title属性テンプレート:DTINFO.Title CDATA #FIXED関連様式:DTINFO.Scope,DTINFO.Value例:&lt;!ELEMENT RefMeta - - (RefEntryTitle, ManVolNum?,RefMiscInfo*) >
&lt;!ATTLIST RefMeta
        %commonatts;

        %DTINFO.Title;          #&ldquo;CONTENT&rdquo;
        %DTINFO.Value;          &ldquo;concat( RefEntryTitle, ManVolNum)&rdquo;
>DTINFO.ShortTitle既存の文書型定義にタイトルの省略形があれば、その要素にDTINFO.ShortTitleを適用します。この要素の内容は、決して表示ウィンドウに表示されませんが、ダイアログのリスト項目として現われる可能性があります。内容は、全テキスト索引 (FulText Index) に現われません。エンティティ名:DTINFO.ShortTitle属性テンプレート:DTINFO.ShortTitle CDATA #FIXED関連様式:DTINFO.Value例:&lt;!ELEMENT TitleAbbrev - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST TitleAbbrev
        %commonatts;

        %DTINFO.ShortTitle;  &ldquo;#CONTENT&rdquo;
>DTINFO.Graphicグラフィック、数学の式、またはある種の表を指示する要素にDTINFO.Graphicを適用します。エンティティ名:DTINFO.Graphic属性テンプレート:DTINFO.Graphic CDATA #FIXED関連様式:DTINFO.Scope,DTINFO.ID.例:&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref   ENTITY   #IMPLIED
        Fileref     CDATA    #IMPLIED
        Format      NOTATION
                    %notationtypes; #IMPLIED
        Id          ID       #IMPLIED

        %DTINFO.Graphic; &ldquo;#CONTENT&rdquo;
        %DTINFO.ID;      &ldquo;:attr( ID )&rdquo;
        %DTINFO.Scope.Graphic;
>
* **`DTINFO.Table`** We may not support DTINFO.Table - so it may be commented
out in future documentation.CALS の表モデルにしたがって、SGML でエンコードされた表を指示する要素は、`DTINFO.Table`属性を受け付けるべきです。そうでなければ、`DTINFO.Graphic`を受け付けるべきです。エンティティ名:`DTINFO.Table`属性テンプレート:`DTINFO.Table CDATA #FIXED`関連様式:`Scope.Table`例:&lt;!ELEMENT InformalTable - - ((%tblcontent.gp;)) -(Table|InformalTable)&gt;
&lt;!ATTLIST InformalTable
        %commonatts;

        Colsep   %yesorno;                          #IMPLIED
        Frame    (Top|Bottom|Topbot|All|Sides|None) #IMPLIED
        Orient   (Port | Land)                      #IMPLIED
        Pgwide   %yesorno;                          #IMPLIED
        Rowsep   %yesorno;                          #IMPLIED
        Tabstyle NMTOKEN                            #IMPLIED

        %DTINFO.Table;      &ldquo;#CONTENT&rdquo;
        %DTINFO.Scope.Table;
&gt;DTINFO.Ignore表示したくないインフォメーションを含む要素にDTINFO.Ignoreを適用します。要素に有用なハイパーテキスト・インフォメーションがある場合は、構築過程において使用されます。たとえば、DTINFO.Valueを指定して、ハイパーテキストの値を作成することができます。エンティティ名:DTINFO.Ignore属性テンプレート:DTINFO.Ignore CDATA #FIXED関連様式:DTINFO.Value例:&lt;!ELEMENT InternalComment - - ((%inlinechar.gp;)+)>
&lt;!ATTLIST InternalComment
        %DTINFO.Ignore; &ldquo;#CONTENT&rdquo;
        %DTINFO.Value;          &ldquo;#CONTENT&rdquo;
>値様式設計様式セクションの値様式DTINFO.Value様式は、設計様式の戻り値を定義します。DTINFO.Valueは、最上位の要素への値を返します。たとえば、要素fooが内容モデルa?、bをもち、fooは設計様式DTINFO.Title firstof &ldquo;(a,b)&rdquo;を使用する、と仮定しましょう。aの値は、そのLabel属性とその内容を連結することによって形成されます。この形成は、DTINFO.Valueを使用して処理し、fooに与えることができます。値設計様式は、以下のとおりです。DTINFO.ValueDTINFO.Value属性は、設計様式の戻り値を指定します。DTINFO.Valueの値は、値として使用されるストリームを作成する機能言語です。値は、暗黙の連結の様式をとります。引き数は、表「値の作成の構文」で定義しています。エンティティ名:DTINFO.Value属性テンプレート:DTINFO.Value CDATA #FIXED &ldquo;Value&rdquo;関連様式: すべてのセクション様式例:&lt;!ELEMENT RefMeta - - (RefEntryTitle, ManVolNum?,RefMiscInfo*) >
&lt;!ATTLIST RefMeta
        %commonatts;

        %DTINFO.Title;
        %DTINFO.Value; &ldquo;concat( RefEntryTitle,'(`,
ManVolNum,')')&rdquo;
>スコープ様式設計様式スコープ様式インフォメーション・マネージャでは、ユーザが検索の範囲を定義することができます。どのブックを検索範囲に含めるかブラウザに指示したり、ブック、テキスト本体、例、索引、グラフィック、表、タイトル、またはそれらの組み合わせから成るすべてのコンポーネントの検索可否を指定したりすることができます。スコープ設計様式は、インフォメーション・マネージャの検索範囲に、どの要素を含めるかを決定します。たとえば、全テキスト索引 (FulText Index) 内で、どのスコープ情報に索引を付与するかを決定します。スコープは、DTINFO.Scopeが適用される要素内に含まれるどのような要素にも適用されます。スコープ様式を要素に適用するには、DTINFO.Scope属性を５種類の値のいずれかで適用します。要素にスコープ様式を適用しない場合、データはデフォルトのスコープBody Textをもちます。DTINFO.Scopeとして指定可能な値は、Example、Graphic、Index、Table および Title であり、次に示すエンティティによって表現されます。DTINFO.Scope.ExampleDTINFO.Scope属性を、値Exampleで、例をその一部とする検索範囲に含めたいデータをもつ要素に適用します。エンティティ名:DTINFO.Scope.Example属性テンプレート:DTINFO.Scope Name #FIXED Example例:<!ELEMENT Example - - (Title, TitleAbbrev?, (%para.gp; |
                        %list.gp; | %object.gp;)+) >
<!ATTLIST Example
        %commonatts;
        Label  CDATA  #IMPLIED

        %DTINFO.Scope.Example;
>DTINFO.Scope.GraphicDTINFO.Scope属性を、値Graphicで、グラフィックをその一部とする検索範囲に含めたい要素に適用します。この設計様式により、あるグラフィック型の内部に含まれるどのような文字列も、検索による抽出および索引付けが可能になります。エンティティ名:DTINFO.Scope.Graphic属性テンプレート:DTINFO.Scope Name #FIXED Graphic関連様式:DTINFO.Graphic,DTINFO.ID,DTINFO.Value例:&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref   ENTITY               #IMPLIED
        Fileref      CDATA               #IMPLIED
        Format      NOTATION
                         %notationtypes  #IMPLIED
        Id                 ID                   #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.ID;             &ldquo;attr( Id )&rdquo;
        %DTINFO.Scope.Graphic;
        %DTINFO.Value;          &ldquo;attr( Fileref )&rdquo;
>DTINFO.Scope.IndexDTINFO.Scope属性を、値Indexで、索引をその一部とする検索範囲に含めたい要素に適用します。エンティティ名:DTINFO.Scope.Index属性テンプレート:DTINFO.Scope Name #FIXED Index関連様式:DTINFO.Section例:<!ELEMENT (SetIndex | Index) - - (DocInfo?, (Title,
                       TitleAbbrev?)?, (%component.gp;)*, (IndexDiv+ |
                       IndexEntry+)) >
<!ATTLIST (SetIndex | Index)
        %commonatts;

        %DTINFO.Section;
        DTINFO.Scope.Index;
>DTINFO.Scope.TableDTINFO.Scope属性を、値Tableで、表をその一部とする検索範囲に含めたい要素に適用します。この設計様式により、CALS SGML の表モデル内部のどのような文字列にも検索のための索引付けが行われます。エンティティ名:DTINFO.Scope.Table属性テンプレート:DTINFO.Scope Name #FIXED Table関連様式:DTINFO.Table例:<!ELEMENT InformalTable - - ((%tblcontent.gp;)) -(Table|InformalTable)>
<!ATTLIST InformalTable
        %commonatts;
        Colsep       %yesorno;                          #IMPLIED
        Frame        (Top|Bottom|Topbot|All|Sides|None) #IMPLIED
        Orient      (Port | Land)                       #IMPLIED
        Pgwide      %yesorno;                           #IMPLIED
        Rowsep    %yesorno;                             #IMPLIED
        Tabstyle    NMTOKEN                             #IMPLIED

        %DTINFO.Table;
        %DTINFO.Scope.Table;
>DTINFO.Scope.TitleDTINFO.Scope属性を、値Titleで、タイトルをその一部とする検索範囲に含めたい要素に適用します。エンティティ名:DTINFO.Scope.Title属性テンプレート:DTINFO.Scope Name #FIXED Title関連様式:DTINFO.Title,DTINFO.Value例:&lt;!ELEMENT RefMeta - - (RefEntryTitle, ManVolNum?, RefMiscInfo*) >
&lt;!ATTLIST RefMeta
        %commonatts;

        %DTINFO.Title;
        %DTINFO.Scope.Title;
        %DTINFO.Value; &ldquo;concat( RefEntryTitle, ManVolNum)&rdquo;
>ハイパーテキスト様式設計様式ロケーション様式ハイパーテキスト設計様式に対応する属性は、DTINFO.IDとDTINFO.IDREFです。これらの属性への値の設定については、表「値の作成の構文」を参照してください。SGML 参照の具体的な構文は、DTINFO.IDとDTINFO.IDREFの値が、1024文字を超えてはならず、英数字で始まらなければならない、と規定しています。DTINFO.IDDTINFO.ID属性を、リンク先を指定する要素に適用します。エンティティ名:DTINFO.ID属性テンプレート:DTINFO.ID CDATA #FIXED &ldquo;Value&rdquo;関連様式: すべて例:&lt;!ELEMENT Anchor - O EMPTY >
!ATTLIST Anchor
        Id              ID              #REQUIRED
        Pagenum         CDATA           #IMPLIED
        Remap           CDATA           #IMPLIED
        Role            CDATA           #IMPLIED
        XRefLabel       CDATA           #IMPLIED

        %DTINFO.ID;                     &ldquo;attr( Id )&rdquo;
>各DTINFO.IDの値は一意でなければなりません。DTINFO.IDREFDTINFO.IDREF属性を、DTINFO.IDREFの値として指定された位置へ移動するためのホット・スポットとして使用されるデータを含む要素に適用します。エンティティ名:DTINFO.IDREF属性テンプレート:DTINFO.IDREF CDATA #FIXED &ldquo;Value&rdquo;関連様式: すべて例:&lt;!ELEMENT Link - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST Link
        Endterm         IDREF           #IMPLIED
        Linkend         IDREF           #REQUIRED
        Type            CDATA           #IMPLIED

        %DTINFO.IDREF; &ldquo;attr( Linkend )&rdquo;
>DTINFO.IDREFの値は、既存のDTINFO.IDの値にすべきです。スタイル様式設計様式スタイル様式スタイル設計様式に対応する属性は、以下のとおりです。DTINFO.Styleインフォメーション・マネージャ設計様式、DTINFO.Styleを、すでに構造様式DTINFO.Sectionを適用し、その継承されたスタイル・シートを上書きしたい要素に適用します。DTINFO.Styleは、DTINFO設計様式であるBookcase、BookおよびDTINFO.Sectionの要素にのみ使用することができます。DTINFO.Styleの値は、スタイル・シートの名前（スタイル・シートのDTINFO.ID設計様式の値）であり、ブックケース規定ドキュメントで指定されたスタイル・シートとして解決されなければなりません。スタイル・シートは、それらが新規のスタイル・シートで上書きされない限り、すべての副次的なセクションによって継承されなければなりません。DTINFO.Styleの内容はスタイル・シート名のIDと一致する文字列（要素ではない）であるため、%DTINFO.Style; &ldquo;&lsquo;sty1&rsquo;&rdquo;または様式%DTINFO.Style &ldquo;concat(&lsquo;sty1&rsquo;)&rdquo;のように、２回引用符で囲まなければなりません。エンティティ名:DTINFO.Style属性テンプレート:DTINFO.Style CDATA #FIXED &ldquo;Value&rdquo;関連様式:DTINFO.Section例:&lt;!ELEMENT Preface - - (DocInfo?, Title, TitleAbbrev?, (%sect1.gp;)) >
&lt;!ATTLIST Preface
        %commonatts;

        %DTINFO.Section;
        %DTINFO.Style;  &ldquo;&lsquo;sty1&rsquo;&rdquo;
>設計様式の適用設計様式既存の文書型定義への適用ここで説明する手続きによって、文書型定義に設計様式を適用します。文書型定義の要素に設計様式を適用する時期については、「DTINFO 設計様式の記述」を参照してください。設計様式の属性の適用は、ドキュメント・インスタンスを無効にするわけではなく、ドキュメント・インスタンスの修正も必要としません。文書型定義の先頭で、エンティティ宣言を追加し、インフォメーション・マネージャ設計様式のステートメントを使用します。&lt;!ENTITY % DOCBOOK PUBLIC
 &ldquo;-//Common Desktop Environment//ENTITIES DtInfo Architectural Forms//EN&rdquo;
>
%DOCBOOK;文書型定義を解析し、何を表示したいのかを理解します。コンテナ要素およびそれぞれに対応する「セクション様式」を識別します。たとえば、図のキャプションの要素は、Title様式に対応します。修正している要素の属性リストにおいて、パラメータ・エンティティ参照または完全な属性を入力します。パラメータ・エンティティ参照を使用します。&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        %DTINFO.Title; &ldquo;#CONTENT&rdquo;
>To use the complete attribute:&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        DTINFO.Title CDATA #FIXED &ldquo;#CONTENT&rdquo;
>設計様式のなかには、関連する様式を必須とするものがあります。たとえば、DTINFO.Section様式には、DTINFO.TitleとDTINFO.IDが必須です。詳細については、「DTINFO 設計様式の記述」を参照してください。対象とする要素について、「ハイパーテキスト様式」を適用するかどうかを決定します。&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref       ENTITY          #IMPLIED
        Fileref         CDATA           #IMPLIED
        Format          NOTATION
                        %notationtypes  #IMPLIED
        Id              ID              #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.ID;                     &ldquo;attr( Id )&rdquo;
>最低限、DTINFO.Section、DTINFO.Title、およびDTINFO.ID様式
を適用した後、ブックケースを構築することができます。対象とする要素について、「データ様式」を適用するかどうかを決定します。&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref       ENTITY          #IMPLIED
        Fileref         CDATA           #IMPLIED
        Format          NOTATION
                        %notationtypes  #IMPLIED
        Id              ID              #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.ID;                     &ldquo;attr( Id )&rdquo;
        %DTINFO.Value;                  &ldquo;attr( Fileref )&rdquo;
>対象とする要素について、「スコープ様式」を適用するかどうかを決定します。&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref       ENTITY          #IMPLIED
        Fileref         CDATA           #IMPLIED
        Format          NOTATION
                        %notationtypes  #IMPLIED
        Id              ID              #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.Scope.Graphic;
        %DTINFO.ID;                 &ldquo;attr( Id )&rdquo;
        %DTINFO.Value;              &ldquo;attr( Fileref )&rdquo;
>DTINFO.Section設計様式を適用した要素について、このセクションによって継承されたものではないスタイル・シートを使用するかどうかを決定します。別のスタイル・シートを使用するには、「スタイル様式」を適用します。&lt;!ELEMENT Preface - - (DocInfo?, Title, TitleAbbrev?, (%sect1.gp;)) >
&lt;!ATTLIST Preface
        %commonatts;

        %DTINFO.Section;
        %DTINFO.Style;     &ldquo;sty1&rdquo;
>設計様式を必要とする各要素について、手順４から７を繰り返します。