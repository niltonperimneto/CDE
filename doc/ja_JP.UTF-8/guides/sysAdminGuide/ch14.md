
# ワークスペース・マネージャのカスタマイズ


dtwm、「ワークスペース・マネージャ<$nopage>」を参照してください<$nopage>ウィンドウ・マネージャ「ワークスペース・マネージャ」も参照してくださいMotif ウィンドウ・マネージャ、「ワークスペース・マネージャ<$nopage>を参照してくださいこの章では、デスクトップ・ワークスペース・マネージャのカスタマイズの方法について説明します。













ワークスペース・マネージャ定義ワークスペース・マネージャは、デスクトップが提供するウィンドウ・マネージャです。他のウィンドウ・マネージャのように、次のことをコントロールします。

ウィンドウ枠コンポーネントの外観

ウィンドウの重なり順やフォーカス動作などのウィンドウの動作

キー割り当てとボタン割り当て

アイコン化されたウィンドウの外観

[ワークスペース]メニューと[ウィンドウ]メニュー

さらに、次のデスクトップ・コンポーネントをコントロールします。

ワークスペース。いくつものワークスペースを管理し、各ワークスペースごとにどのウィンドウを開いているか監視します。

ワークスペース背景。スタイル・マネージャを使用して背景を変更しますが、背景の管理はワークスペース・マネージャの機能のひとつです。背景ワークスペース背景

フロントパネルワークスペース・マネージャによって管理されたワークスペース・マネージャフロントパネルの管理フロントパネル。フロントパネルは独自の構成ファイルを使用しますが、そのファイルはワークスペース・マネージャが作成および管理します。

これらのほとんどはスタイル・マネージャで変更できます。スタイル・マネージャは、よく行われる変更を手間をかけずにすばやく行えるようにします。他のリソースは手動で設定しなければなりません。

ワークスペース・マネージャはdtwmです。Motif ウィンドウ・マネージャをベースとしています。
# 関連項目


ワークスペース・マネージャのリファレンス情報については、dtwm(1) およびdtwmrc(4)のマニュアル・ページを参照してください。

ワークスペース・マネージャのリソースの設定については、を参照してください。

フロントパネル構成ファイルの情報については、を参照してください。

リソース設定の追加情報については、を参照してください。
# ワークスペース・マネージャ構成ファイルワークスペース・マネージャ構成ファイル構成ファイルワークスペース・マネージャ構成ファイルウィンドウ・マネージャ


ワークスペース・マネージャは、ウィンドウ・メニュー、ワークスペース・メニュー、ボタン割り当て、構成ファイルからのキー割り当てに関する情報を獲得します。

ワークスペース・マネージャは、次のファイルのいずれかを使用します。

個人用ファイル:`HomeDirectory`/.dt/dtwmrc ファイルdtwmrc

システム・カスタム・ファイル:/etc/dt/config/`language`/sys.dtwmrc ファイルsys.dtwmrc

組み込みファイル:/usr/dt/config/`language`/sys.dtwmrc

ワークスペース・マネージャは、上記に示した順で構成ファイルを検索し、最初に見つけたファイルを使用します。

２つ以上のセッション言語を使用するユーザは、個人用の言語依存構成ファイル`HomeDirectory`/.dt/`language`/dtwrmcを`HomeDirectory`/.dt/dtwmrcより優先するものとして作成することができます。
# 個人用構成ファイルを作成または変更するにはワークスペース・マネージャ個人用カスタマイズ


個人用ワークスペース・マネージャ構成ファイルは`HomeDirectory`/.dt/dtwmrcです。このファイルが存在している場合は、これを使用します。

[デスクトップツール]アプリケーション・グループの[Dtwmrc の編集]アクションdtwmrc ファイル編集[Dtwmrc の編集]をダブルクリックします。

すでに個人用dtwmrcファイルがある場合は、エディタに読み込まれます。ない場合は、sys.dtwmrcが`HomeDirectory`/.dt/dtwmrcにコピーされ、それからエディタに読み込まれます。

ファイルを編集します。

エディタを終了します。

ファイルは、その元のソースにかかわらず、個人用dtwmrcとして保存されます。
# システム共通構成ファイルを作成するにはワークスペース・マネージャシステム共通のカスタマイズ


システム共通のワークスペース・マネージャ構成ファイルは/etc/dt/config/`language`/sys.dtwmrcです。

/usr/dt/config/`language`/sys.dtwmrc ファイルsys.dtwmrcを/etc/dt/config/`language`/sys.dtwmrcへコピーします。

`HomeDirectory`/.dt/dtwmrcが存在する場合は、このファイルを使用しません。
# 他のファイルを取り込む（参照する）にはワークスペース・マネージャ他のファイルの取り込み


次の構文を使用します。include
{`path
    path`&hellip;
}include 文、ワークスペース・マネージャ・ファイル内の

たとえば、次の行は/users/ellen/mymenuファイルを参照します。include
{
   /users/ellen/mymenu
}

include 文は、構成ファイルをすべてコピーせずに機能を追加する場合に有用です。たとえば、すべての構成ファイルを管理せずに新しいキー割り当てを作成したいとします。この場合、次の内容の`HomeDirectory`/.dt/dtwmrcファイルを作成できます。include
{
 /etc/dt/config/C/sys.dtwmrc
}
Keys DtKeyBindings
{
  Alt&lt;Key>F5 root  f.menu  Applications
}
Menu Applications
{
  &ldquo;GraphicsApp&rdquo; f.exec &ldquo;/usr/bin/GraphicsApp/GApp&rdquo;
  &hellip;
}
# ワークスペース・マネージャを再起動するにはワークスペース・マネージャ再起動


構成ファイルに対する変更内容を有効にするには、ワークスペース・マネージャを必ず再起動してください。

[ワークスペース]メニューから[ワークスペースマネージャ
の再起動]を選択します（ポインタが背景上にあるときにマウス・ボタン３を押します）。
# ワークスペースのカスタマイズワークスペースカスタマイズ


ワークスペース名やワークスペース数の変更など、多くのワークスペースのカスタマイズは、デスクトップのインタフェースを使用して行うことができます。ただし、システム共通デフォルトを設定するリソースは、ワークスペース・マネージャが提供します。
# システム共通のベースのワークスペース数を変更するにはワークスペース〜の数


デフォルトのデスクトップ設定では、４つのワークスペースが提供されます。ワークスペース・スイッチに関連付けられたポップアップ・メニューを使用して、ワークスペースを追加したり削除したりできます。

ワークスペース・マネージャは、デフォルトのワークスペース数を変更するためのリソースを提供します。

workspaceCountリソースを使用して、ワークスペースの数を設定します。

Dtwm*workspaceCount:`number`workspaceCount リソース

ワークスペース・マネージャのリソース設定については、を参照してください。

たとえば、次のリソースは、ワークスペース数を 6 に設定します。Dtwm*workspaceCount: 6
# システム共通ワークスペース名を指定するにはワークスペース名前


内部的には、ワークスペースは番号割り当て規則ws`n`（`n`は 0, 1, 2 など）によって番号が付けられます。たとえば、４つのデフォルト・ワークスペースは、内部的にws0からws3までの番号が付けられます。

titleリソースを使用して指定したワークスペース名を変更します。title リソースDtwm*ws`n`:`name`Dtwm*ws`n`.title:`name`

ワークスペース・マネージャのリソース設定については、を参照してください。

たとえば、次のリソースは４つのデフォルト・ワークスペースを指定した名前に設定します。Dtwm*ws0*title:  Anna
Dtwm*ws1*title:  Don
Dtwm*ws2*title   Julia
Dtwm*ws3*title   Patti
# 追加背景を作成するには背景追加


背景イメージを作成します。ビットマップ・ファイルまたはピックスマップ・ファイルにしてください。

背景ファイルの位置次のディレクトリのいずれかに背景を指定します（ディレクトリを作成しなければならない場合もあります）。

システム共通背景:/etc/dt/backdrops

個人用背景:`HomeDirectory`/.dt/backdrops

[ワークスペース]メニューから[ワークスペースマネージャの再起動]を選択します。

システム共通背景および個人用背景は、/usr/dt/backdropsの組み込み背景に追加されます。

既存の組み込み背景は、同じ名前の個人用背景またはシステム共通背景を作成することによって置き換えることができます。
# グラフィック・イメージで背景を置き換えるには背景グラフィック・イメージを使用


背景は、ディスプレイのルート・ウィンドウルート・ウィンドウ全体を覆っています。スタイル・マネージャの[背景]ダイアログ・ボックスは、背景が透過的であるNoBackdrop 設定NoBackdrop 設定を提供します。

すべてのワークスペースの背景の背後には、ひとつのルート・ウィンドウしかありません。したがって、ルート・ウィンドウにあるグラフィック・イメージは、すべてのワークスペースで存在します。どのワークスペースがルート・ウィンドウを背景で覆うか指定できます。ただし、NoBackdrop が有効である場合、表示可能なイメージはすべてのワークスペースで同じになります。

グラフィック・イメージを作成します。これは、ルート・ウィンドウにイメージを表示するためのツールの形式でなければなりません。たとえばxsetrootを使用する場合は、ビットマップ・ファイルを作成しなければなりません。

ファイルがすでに存在しなければ、実行可能ファイル`HomeDirectory`/.dt/sessions/sessionetcを作成します。sessionetcファイルは、ログインするごとに実行されます。

コマンドを入力して、sessionetcファイルのイメージを表示します。

たとえば、次のコマンドは、ルート・ウィンドウに指定したビットマップを表示します。xsetroot&numsp;-bitmap&numsp;/users/ellen/.dt/icons/root.bm
# ワークスペース・マネージャのメニューメニューワークスペース・マネージャワークスペース・マネージャメニュー


ワークスペース・マネージャには、次の３つのデフォルト・メニューがあります。

[ワークスペース]メニュー[ワークスペース]メニュー定義

ルート・メニューとも呼ばれます。ポインタが背景にあるときにマウス・ボタン３を押すと表示されます。このメニューはボタン割り当てによって、マウス・ボタンに関連付けられています。

[ウィンドウ]メニュー[ウィンドウ]メニュー定義

ポインタがウィンドウ・メニュー・ボタン（ウィンドウ枠の左上隅）上にあるときにマウス・ボタン１または３を押すと表示されます。このメニューはwindowMenuリソースwindowMenu リソースによって、ボタンに関連付けられています。

フロントパネル・メニューフロントパネルメニュー

ポインタがフロントパネルのウィンドウ・メニュー・ボタン上にあるときにマウス・ボタン１または３を押すと表示されます。
# ワークスペース・マネージャのメニュー構文[ウィンドウ]メニュー構文[ワークスペース]メニュー構文


ワークスペース・マネージャのメニュー構文は、次のとおりです。Menu`MenuName`{`selection1`[`mnemonic`] [`accelerator`]`function`[`argument`]`selection2`[`mnemonic`] [`accelerator`]`function`[`argument`]&hellip;
}

where:

`selection`

メニューに表示されるテキストまたはビットマップ。テキストにスペースを入れるときは、テキストを引用符で囲みます。ビットマップには、@/`path`構文を使用します。

`mnemonic`

メニューが表示されたときに、キーボード・ショートカットとして動作する１文字。_`character`という形式で指定します。

`accelerator`

メニューが表示されているかどうかにかかわらずアクティブなキーボード・ショートカットです。アクセラレータの構文は`modifier`<Key>`Keyname`で、修飾子は、Ctrl、Shift、Alt（拡張文字）、およびLockです。すべての可能なキー名のリストについては、システムの &ldquo;X11 include&rdquo; ディレクトリのkeysymdef.hファイルを参照してください。

`function`ワークスペース・マネージャ関数

これを選択したときに実行される関数です。関数のリストについては、dtwmrc(4)のマニュアル・ページを参照してください。

`argument`

関数の引き数です。詳細については、dtwmrc(4)のマニュアル・ページを参照してください。

たとえば、次の Restore というラベルの付いたメニュー項目は、ウィンドウを元に戻します。メニューが表示されたときに &ldquo;R&rdquo; と入力してもウィンドウは復元されます。拡張文字[F5]を押しても同じです。Restore    _R    Alt<Key> F5    f.normalize

ワークスペース・マネージャのメニュー構文の詳細については、dtwmrc(4)のマニュアル・ページを参照してください。
# 既存のワークスペース (ルート) メニューを変更するには[ワークスペース]メニュー変更$nopage>ルート・メニュー、「ワークスペース・メニュー」を参照してください


編集するため、適切なファイルを開きます。

個人用:`HomeDirectory`/.dt/dtwmrc

システム共通:/etc/dt/config/`language`/sys.dtwmrc

これらのファイル作成の詳細については、を参照してください。

[ワークスペース]メニューの記述を編集します。

デフォルトの[ワークスペース]メニューはDtRootMenuDtRootMenu です。Menu DtRootMenu
{
    &ldquo;Workspace Menu&rdquo;   f.title
    &ldquo;Shuffle Up&rdquo;       f.circle_up
    &ldquo;Shuffle Down&rdquo;     f.circle_down
    &hellip;
}
# 新規ワークスペース (ルート) メニューを作成するには[ワークスペース]メニュー作成


編集するため、適切なファイルを開きます。

個人用:`HomeDirectory`/.dt/dtwmrc

システム共通:/etc/dt/config/`language`/sys.dtwmrc

これらのファイル作成の詳細については、を参照してください。

新規メニューを作成します。Menu`menu_name`{
        &hellip;
}

を参照してください。

ボタン割り当てを作成または編集して新規メニューを表示します。

既存のメニューを新規メニューに置き換える場合は、[ワークスペース]メニューを表示するボタン割り当てを編集します。<Btn3Down> root f.menu`menu_name`

メニューが追加メニューである場合、新しいマウス・ボタンを割り当てます。たとえば、次のようにボタンを割り当てると、背景上で[Shift]キーとマウス・ボタン３を押したときにメニューが表示されます。Shift<Btn3Down> root f.menu`menu_name`

[ワークスペース]メニューから[ワークスペースマネージャの再起動]を選択します。
# 新規ウィンドウ・メニューを作成するには[ウィンドウ]メニュー新規


[ウィンドウ]メニューは、ワークスペース・マネージャに組み込まれ、通常はカスタマイズしません。アプリケーション間でウィンドウの動作の一貫性を保つには、ウィンドウ・・メニューをあまり大幅に変更しないでください。

編集するため、適切なファイルを開きます。

個人用:`HomeDirectory`/.dt/dtwmrc

システム共通:/etc/dt/config/`language`/sys.dtwmrc

これらのファイル作成の詳細については、を参照してください。

新規メニューを作成します。Menu`menu_name`{
        &hellip;
}

windowMenuリソースを使用して新規メニューを指定します。Dtwm*windowMenu:`menu_name`

[ワークスペース]メニューから[ワークスペースマネージャの再起動]を選択します。
# ボタン割り当てのカスタマイズワークスペース・マネージャボタン割り当てボタン割り当てマウス割り当て、「ボタン割り当て」を参照してください


ボタン割り当ては、ウィンドウ・マネージャ機能とマウス・ボタン操作および可能なキーボード修飾キーとを関連付けることです。ボタン割り当ては、すべてのワークスペースに適用されます。

デスクトップのデフォルトのボタン割り当ての定義は、DtButtonBindingsDtButtonBindingsというボタン割り当てセットのワークスペース・マネージャ構成ファイルに定義されています。Buttons DtButtonBindings
{
  &hellip;
}
# ボタン割り当て構文ボタン割り当て構文


ボタン割り当ての構文は次のとおりです。Buttons`ButtonBindingSetName`{[`modifier`]<`button_nameMouse_action`>`context  function``[argument`][`modifier`]<`button_nameMouse_action`>`context  function``[argument`]

where:

`button_name`

Btn1&mdash;左マウス・ボタン