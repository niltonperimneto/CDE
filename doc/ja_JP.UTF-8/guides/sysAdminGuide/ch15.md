
# アプリケーションのリソース、フォント、カラーの処理


スタイル・マネージャを使用するか、追加のフォントやカラーのリソースをカスタマイズすることによって、ディスプレイに対していろいろなカラーやフォントを選択することができます。この章では、フォントとカラーのリソースをカスタマイズする方法について説明します。

また、この章では、デスクトップ・テキスト・エディタ (dtpad) やメール・プログラム (dtmail) などのDtEditorウィジェット・アプリケーションのスタイル変換方法、これらの変換と競合するDtEditorウィジェット・アプリケーション・メニュー・アクセラレータに代わるものを指定する方法についても説明します。UNIX のキー割り当て











.
# アプリケーション・リソースの設定アプリケーション・リソース、「リソース」を参照してください<$nopage>リソース設定


アプリケーションはリソースを使用して、外観と動作を設定します。たとえば、スタイル・マネージャ (dtstyle) が提供するリソースにより、カラー・パレットに関する情報が入っているファイルをシステムが検索する場所を指定できます。dtstyle*paletteDirectories: /usr/dt/palettes/C \HomeDirectory/.dt/palettes

デスクトップ・アプリケーションの app-default ファイルは、/usr/dt/app-defaults/`language`ディレクトリにあります。リソースapp-defaultsapp-defaultsデスクトップ・アプリケーション
# システム共通リソースを設定するにはリソースシステム共通


リソースをファイル/etc/dt/config/`language`/sys.resources ファイルＸリソース、「リソース」を参照してください<$nopage>sys.resourcesに追加します（ファイルを作成しなければならない場合もあります）。

たとえば、/etc/dt/config/C/sys.resourcesに次のように指定します。AnApplication*resource:`value`

この場合、リソースAnApplication*resourceが次のログイン時に各ユーザの RESOURCE_MANAGER 属性に設定されます。
# 個人用リソースを設定するにはリソース個人用


リソースをファイル`HomeDirectory`/.Xdefaultsに追加します。.Xdefaults ファイル [Xdefaults file]

[デスクトップツール]アプリケーション・グループにある[リソースの再読込み]をダブルクリックします。
# デスクトップがリソースを読み込む方法


リソースは、セッション・マネージャによってセッションの起動時に読み込まれます。セッション・マネージャがリソースを RESOURCE_MANAGER に読み込む方法の詳細については、を参照してください。
# UNIX 割り当ての定義UNIX キー割り当てEMACS スタイル変換DtEditor、〜のスタイル変換


デフォルトでは UNIX 割り当ては可能ではありません。
# EMACS スタイル変換を指定するにはEMACS 変換


次のように指定します。

デスクトップのテキスト (dtpad) やメール・プログラム (dtmail) などのDtEditorウィジェット・アプリケーションの EMACS スタイル変換

これらの変換と競合するDtEditorウィジェット・アプリケーション・メニュー・アクセラレータに代わるもの

次の行を`HomeDirectory`/.Xdefaultsファイルに追加します。

#include &ldquo;/usr/dt/app-defaults/`language`/UNIXbindings&rdquo;

`language`は、LANG 環境変数の値です。

セッションを再起動します。
# EMACS スタイル変換を変更するには


ファイル/usr/dt/app-defaults/`language`/UNIXbindingsの内容を`HomeDirectory`/.Xdefaultsに挿入します。

.Xdefaultsファイルで割り当てを編集します。

編集を終了したらセッションを再起動します。
# UNIXbindings ファイルが提供する UNIX 割り当てUNIXbindings ファイル


/usr/dt/app-defaults/`language`/UNIXbindingsファイルは、次の割り当てを行います。

UNIX 割り当てが可能なときには[Delete]キーは直前の文字を削除し、[Shift]+[Delete]キーは次の割り当てを行います。すべてのベンダがこれらのキーを提供しているわけではないことに注意してください。別のキー割り当てについては、各ベンダのマニュアルを参照してください。

は、dtpadが無効にする UNIX 割り当てと競合するメニュー・アクセラレータとアクセラレータ・テキストのリストです。
# dtpadが無効にするメニューするアクセラレータとアクセラレータ・テキスト


`メニュー・アクセラレータとアクセラレータ・テキスト`

`無効キー`

Dtpad*fileMenu.print.acceleratorText:

Dtpad*fileMenu.print.accelerator:

Dtpad*editMenu.undo.acceleratorText:

Ctrl+_

Dtpad*editMenu.undo.accelerator:

Ctrl<Key>_

Dtpad*editMenu.paste.acceleratorText:

Shift+Insert

Dtpad*editMenu.paste.accelerator:

Shift<Key>osfInsert

Dtpad*editMenu.selectAll.acceleratorText:

Ctrl+/

Dtpad*editMenu.selectAll.accelerator:

Ctrl<Key>/

は、UNIX 割り当てと競合するメニュー・アクセラレータとアクセラレータ・テキストのdtmailメール作成ウィンドウの無効キーのリストです。
# dtmailメール作成ウィンドウの無効キー


`メニュー・アクセラレータとアクセラレータ・テキスト`

`無効キー`

Dtmail*ComposeDialog*menubar*Edit.Undo.acceleratorText:

Ctrl+_

Dtmail*ComposeDialog*menubar*Edit.Undo.accelerator:

Ctrl<Key>_

Dtmail*ComposeDialog*menubar*Edit.Paste.acceleratorText:

Shift+Insert

Dtmail*ComposeDialog*menubar*Edit.Paste.accelerator:

Shift<Key>osfInsert

Dtmail*ComposeDialog*menubar*Edit.Find/Change.acceleratorText:

Ctrl+S

Dtmail*ComposeDialog*menubar*Edit.Find/Change.accelerator:

Ctrl<Key>s

次の変換は、(GNU スタイル) EMACS コントロールとメタ・キー割り当て、および追加の割り当てを提供します。適切な場合は、[Shift]キーを通常の割り当てと組み合わせて使用し、操作方向を逆にすることもできます。たとえば、[Ctrl]+[F]キーは通常１文字前に移動するので、[Ctrl]+[Shift]+[F]キーは１文字後にカーソルを移動します。

追加の割り当ては次のとおりです。

* **Ctrl+comma** 

1 語後ろ (backward-word)
* **Ctrl+Shift+comma** 

1 語前 (forward-word)
* **Ctrl+period** 

1 語前 (forward-word)
* **Ctrl+Shift+period** 

1 語後ろ (backward-word)
* **Ctrl+Return** 

ファイルの最後 (end-of-file)
* **Ctrl+Shift+Return** 

ファイルの最初 (beginning-of-file)


GNU EMACS は、[Delete]キーに対して、delete-next-character() ではなく delete-previous-character() を割り当てます。[Meta]+[F]キーは通常は[ファイル]メニューのニーモニックのため、forward-word() への割り当ては無視されます。forward-word の割り当てのうち、ひとつを使用します（たとえば、[Ctrl]+[period]）。

は、DtEditor.text変換のリストです。
# DtEditor.text変換


`修飾キー

`キー`

`アクション・ルーチン`

c ~s

<Key>a:

beginning-of-line()\n\

c s

<Key>a:

end-of-line()\n\

c ~s

<Key>b:

backward-character()\n\

c s

<Key>b:

forward-character()\n\

c ~s

<Key>b:

backward-character()\n\

c s

<Key>b:

backward-word()\n\

m ~s

<Key>b:

backward-word()\n\

m s

<Key>b:

forward-word()\n\

c ~s

<Key>d:

delete-next-character()\n\

c s

<Key>d:

delete-previous-
character()\n\

m ~s

<Key>d:

kill-next-word()\n\

m s

<Key>d:

kill-previous-word()\n\

c ~s

<Key>e:

end-of-line()\n\

c s

<Key>e:

beginning-of-line()\n\

c ~s

<Key>f:

forward-character()\n\

c s

<Key>f:

backward-character()\n\

m ~s

<Key>f:

forward-word()\n\

m s

<Key>f:

backward-word()\n\

c

<Key>j:

newline-and-indent()\n\

c ~s

<Key>k:

kill-to-end-of-line()\n\

c s

<Key>k:

kill-to-start-of-line()\n\

c

<Key>l:

redraw-display()\n\

c

<Key>m:

newline()\n\

c s

<Key>n:

process-up()\n\

c ~s

<Key>n:

process-down()\n\

c

<Key>o:

newline-and-backup()\n\

c ~s

<Key>p:

process-up()\n\

c s

<Key>p:

process-down()\n\

c ~s

<Key>u:

kill-to-start-of-line()\n\

c s

<Key>u:

kill-to-end-of-line()\n\

c ~s

<Key>v:

next-page()\n\

c s

<Key>v:

previous-page()\n\

m ~s

<Key>v:

previous-page()\n\

m s

<Key>v:

next-page()\n\

c

<Key>w:

kill-selection()\n\

c ~s

<Key>y:

unkill()\n\

m

<Key>]:

forward-paragraph()\n\

m

<Key>[:

backward-paragraph()\n\

c ~s

<Key>comma:

backward-word()\n\

c s

<Key>comma:

forward-word()\n\

m

<Key>\\<:

beginning-of-file()\n\

c ~s

<Key>period:

forward-word()\n\

c s

<Key>period:

backward-word()\n\

m

<Key>\\>:

end-of-file()\n\

c ~s

<Key>Return:

end-of-file()\n\

c s

<Key>Return:

beginning-of-file()\n\

~c ~s ~m ~a

<Key>osfDelete:

delete-previous-
character()\n\

~c s ~m ~a

<Key>osfDelete:

delete-next-character()
# フォントの管理2フォント管理


スタイル・マネージャの[フォント]ダイアログ・ボックスを使用して、すべてのアプリケーションに対して希望のフォント・サイズを選択できます。コマンド行でフォントを指定するか、次のことを行ってリソースを使用することもできます。

個々のアプリケーションにフォント・リソースを設定する

[フォント]ダイアログ・ボックスによって異なるフォントを使用するように割り当てる

`フォント`は、テキスト文字列が印刷または表示される型のスタイルです。デスクトップには、異なるスタイルやサイズのさまざまな種類のフォントが入っています。

ビットマップ・フォントフォントビットマップのフォントビットマップのは、ドットのマトリックスから成ります。（デフォルトでは、スタイル・マネージャはビットマップ・フォントだけを構成します。）フォントは、完全にひとつのファイルに格納されます。多くのファイルには、いろいろなサイズ、スラント、線の太さが入っている必要があります。

フォントは、リソースの値およびコマンドのパラメータとして指定されます。XLFD 名（Ｘ論理フォント記述名）は、希望のフォントを要求するための方法です。システムは、指定された記述ともっともよく一致するフォントを探し出します。フォントXLFD (Ｘ論理フォント記述）XLFD（Ｘ論理フォント記述）
# デスクトップ・フォント・リソースの設定リソースフォントフォントリソース、設定


スタイル・マネージャの[フォント]ダイアログ・ボックスにより、テキストのエントリをラベルなどに対してフォントを（７種類のサイズまで）設定できます。
# [フォント]ダイアログ・ボックスが設定するリソースフォント]ダイアログ・ボックス


フォントが選択されると、次のリソースが RESOURCE_MANAGER 属性に書き込まれます。

SystemFontは、メニュー・バー、メニュー区画、プッシュ・ボタン、トグル・ボタン、ラベルなどのシステム領域に使用します。次のリソースはSystemFontによって設定されます。

*FontList

デスクトップのクライアントと、Motif ツールキットを使用して作成されたその他のクライアントのシステム領域に表示されます。

UserFontは、ウィンドウに入力するテキストに使用します。次のリソースがUserFontによって設定されます。

*FontFont リソース

Ｘアプリケーションの以前のバージョンをサポートします。

*FontSetFontSet リソース

一次設定です。

*XmText*FontListXmText*FontList リソース

テキスト・エントリ・ボックスに表示されます。

*XmTextField*FontListXmTextField*FontList リソース

テキスト・エントリ・ボックスに表示されます。
# [フォント]ダイアログ・ボックスが使用するリソース


[フォント]ダイアログ・ボックスでの各選択に対して使用されるフォントは、/usr/dt/app-defaults/Dtstyleリソース・ファイルで指定します。最高７種類までのサイズを指定できます。

NumFontsNumFonts リソースフォントスタイル・マネージャにおける〜の数

[フォント]ダイアログ・ボックスにあるフォント・サイズの数

SystemFont[1-7]フォントシステム、スタイル・マネージャの

SystemFontの[フォント]ダイアログ・ボックス選択に特定フォントを割り当てる、最高７種類までのリソース

UserFont[1-7]フォントユーザ、スタイル・マネージャの

UserFontの[フォント]ダイアログ・ボックス選択に特定フォントを割り当てる、最高７種類までのリソース

これらのリソースのデフォルト・フォントは、さまざまなディスプレイで読み込み可能なように設定されています。アプリケーション用の特定フォントがほしい場合は、これらのデスクトップ・フォントを変更するよりもアプリケーションのフォント・リソースでフォントを設定します。

アプリケーション・フォントの詳細については、DtStdAppFontNames(5) とDtStdInterfaceFontNames(5) のマニュアル・ページを参照してください。
# 使用可能なフォントを表示するにはフォント使用可能な〜の表示


次の行を入力します。xlsfonts [-`options`] [-fn`pattern`]xlsfonts コマンド

システムで使用できる XLFD 名とフォント別名が表示されます。ビットマップ・フォントは、14個の XLFD フィールドの全部の値を示します。スケーラブル・タイプフェースは、`PixelSize`、`PointSize`、`ResolutionX`、および`ResolutionY`の位置にあるゼロを示します。

特定フォントをチェックするには、xlsfontsのパターン一致機能を使用します。ワイルドカードを使用して、一致させるつもりがないパターンの一部を置き換えます。

xlsfontsがdtで始まるフォント名を表示しない場合は、フォント・パスにデスクトップ・フォントが入っていません。デスクトップ・フォントを使用可能なフォントに入れるには次のコマンドを入力します。xset +fp`directory name`

`directory name`は、デスクトップ・フォントが入っているディレクトリです。セッション起動によって設定されるデフォルトの位置は、/usr/dt/config/xfonts/`language`です。

追加情報については、次を参照してください。

xsetとxlsfontsのマニュアル・ページには、使用可能なオプションのリストがあります。

Using the X Window Systemでは、フォント別名とxsetクライアントについて説明しています。
# コマンド行でフォントを指定するには


-xrmコマンド行オプションを使用して、特定クライアントのフォント・リソースを指定します。たとえば、次のようになります。`application name`-xrm &ldquo;*bitstream-charter-medium-r-normal-8-88-75-75-p-45-iso8859-1&rdquo;
# Ｘ論理フォント記述 (XLFD)フォントＸ論理フォント記述


フォントは、ダッシュ (-) で区切られた14個の異なる特性をリストすることによって指定されます。これは、Ｘ論理フォント記述 (XLFD) と呼ばれます。ある場合には、リストにある属性はワイルドカード「* 」に、属性内の文字はワイルドカード「?」にそれぞれ置き換えることができます。は、フォント属性文字列指定のリストです。

属性文字列指定の形式は次のとおりです。フォント属性文字列の指定

&ldquo;-`Foundry`-`FamilyName`-`WeightName`-