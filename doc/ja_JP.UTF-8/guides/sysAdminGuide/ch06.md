
# デスクトップからの印刷の構成および管理


印刷管理デスクトップ・ユーザがファイルを印刷するにはさまざまな方法があります。おもに、デスクトップからの印刷とアプリケーションからの印刷の２種類に分類されます。

デスクトップから印刷するには、次の方法があります。

[ファイルマネージャ]でファイルを選択し、[選択]メニューまたはアイコンのポップアップ・メニューから[印刷]を選択する。

[ファイルマネージャ]からフロントパネルの[プリンタ]コントロールまたはサブパネルの[個人プリンタ]へファイルをドラッグする

[ファイルマネージャ]から[印刷マネージャ]メイン・ウィンドウにあるプリンタにファイルをドラッグする

アプリケーションから印刷するには、[印刷]コマンドを使用します。このコマンドは通常、アプリケーションのウィンドウ内のメニューまたは他のコントロールでアクセスします。








# プリンタの追加および削除


この節では、デスクトップからのプリンタの追加と削除の手順について説明します。
# プリンタをデスクトップに追加するにはプリンタ追加


プリンタをシステムの構成に追加します。

お使いのオペレーティング・システムのシステム管理マニュアルの指示にしたがってください。

次のコマンドを実行します。env LANG=language/usr/dt/bin/dtprintinfo -populateこのコマンドを実行するには、スーパー・ユーザの権限が必要なことに注意してください。

印刷マネージャを再起動するか、アプリケーション・マネージャにある[デスクトップツール]アプリケーション・グループから[アクションの再読込み]をダブルクリックします。プリンタが表示されることを確認します。

メールをユーザに送信して、印刷マネージャを再起動するか[アクションの再読込み]を実行するように通知します。

印刷マネージャ印刷マネージャは呼び出されるたびに、システム・プリンタ構成リストを読み込みます。印刷マネージャが新規プリンタを検出すると、新しいデスクトップのプリンタ・アクションとそのプリンタのアイコンを自動的に作成します。プリンタをデスクトップに表示させること以外に必要な作業はありません。
# プリンタをデスクトップから削除するにはプリンタ削除


システムの構成からプリンタを削除します。

お使いのオペレーティング・システムのシステム管理マニュアルの指示にしたがってください。

印刷マネージャを再起動するか、アプリケーション・マネージャにある[デスクトップツール]アプリケーション・グループから[アクションの再読込み]をダブルクリックします。プリンタが表示されることを確認します。

メールをユーザに送信して、印刷マネージャを再起動するか[アクションの再読込み]を実行するように通知します。

印刷マネージャは呼び出されるたびに、システム・プリンタ構成リストを読み込みます。プリンタがリストから削除されたことを確認すると、印刷マネージャおよびファイル・マネージャからプリンタのアイコンを自動的に削除します。プリンタをデスクトップから削除すること以外に必要な作業はありません。

印刷マネージャは、フロントパネルからプリンタを削除することはできません。したがって、構成からプリンタを削除するときは必ずシステム上のすべてのユーザにメールを送信して、削除したプリンタのアイコンをフロントパネルから削除するように通知してください。
# ジョブ更新間隔の変更プリンタジョブ更新間隔プリント・ジョブ更新間隔


印刷マネージャジョブ更新間隔印刷マネージャに表示された情報を更新する回数を変更するには、ジョブ更新間隔を変更します。デフォルトでは、印刷マネージャはプリント・ジョブの情報について30秒ごとにプリンタに問い合せます。[オプションの設定]ダイアログ・ボックス（[表示]メニューから[オプションの設定]を選択すると表示されます）にある[更新]の間隔スライダを使用して、印刷マネージャがプリンタに問い合せる間隔を変更できます。
# プリンタ・アイコンのイメージプリンタアイコン・イメージアイコンプリンタ・イメージ


プリンタを追加すると、そのプリンタにデフォルトのプリンタ・アイコンが自動的に割り当てられます。別のアイコンを使いたい場合は、アイコン・ファイルを/etc/dt/appconfig/icons/`language`、またはアイコン検索パスにしたがって他のディレクトリに格納します。このアイコンを選択してプリンタのデフォルトのアイコンを置き換えることができます。

アイコンの完全なセット（大、中、または極小）を必ず作成してください。そうしないと印刷マネージャのアイコン・セレクタには表示されません。

アイコン検索パスの詳細については、を参照してください。
# アイコン・ファイル名とサイズ


アイコンのファイル名の命名規則は、次のとおりです。`base_name.size`.`type`

次に意味を説明します。

`size`

l(大)、m(中)、t(極小) があります。アイコン・サイズの詳細については、を参照してください。

`type`

pm(カラー・ピックスマップ)、bm(ビットマップ)

たとえば、カラー・プリンタのピックスマップの中型のアイコン・ファイル名はColorPrinter.m.pm、極小型サイズのアイコン・ファイル名はColorPrinter.t.pmになります。

アイコン作成の詳細については、を参照してください。
# アイコン、プリンタ・ラベル、またはプリンタの記述をグローバルに変更するには


プリンタを追加したらユーザが印刷マネージャを使用してグローバル・プリンタ属性を変更する前に、すぐにその属性を変更してください。ユーザが印刷マネージャを使用してプリンタ属性を変更してしまうと、ユーザは変更内容を見ることはできません。

アイコン、プリンタ・ラベル、または記述のうち希望の情報を/etc/dt/appconfig/types/`language`/`printer_queue_name`.dtファイルで編集します。

ICONフィールドで、`basename`を新規アイコンのベース名に更新します。

プリンタラベルLABELフィールドで、`labelname`をプリンタの新規ラベルに更新します。

プリンタ[アイテムヘルプの使い方]ヘルププリンタ・アイコについてDESCRIPTIONフィールドでテキストを変更します。

このフィールドに、プリンタの位置、プリンタの種類、およびプリンタの接続先を設定すると便利です。２行以上追加するには、次の例のように行の最後に\を入れます。DESCRIPTION    This is a PostScript Printer in Building 1\
               Room 123. Call 555-5555 for problems.
# デフォルト・プリンタの構成プリンタデフォルト


次の操作により、デフォルト・プリンタにアクセスします。

フロントパネルの[プリンタ]コントロールでオブジェクトをドロップする

ファイル・マネージャにあるオブジェクトを選択するか、[選択]メニューまたはアイコンのポップアップ・メニューから[印刷]を選択する

デフォルト・プリンタを使用するアプリケーションから印刷する
# デフォルトの印刷の宛先を変更するには印刷デフォルトの宛先


すべてのユーザのデフォルト・プリンタを変更するには、次のようにします。

ファイル/etc/dt/config/Xsession.d/0010.dtpathsを開きます。

/etc/dt/config/Xsession.d/0010.dtpathsが存在しない場合は、/usr/dt/config/Xsession.d/0010.dtpathsからコピーします。

LPDEST=`printer`行で、`printer`をデフォルトの印刷の新しい宛先に変更します。LPDEST 変数

LPDEST=`printer`行が存在しない場合は追加します。`printer`はデフォルト・プリンタにしたいプリンタ名です。

ユーザはログ・アウトからログインし直す必要があります。

単一ユーザのデフォルト・プリンタを変更するには、そのユーザは次のことを行ってください。

サブパネルの[個人プリンタ]からフロントパネルに別のプリンタをコピーします。

デフォルト・プリンタとして別のプリンタを指定するには、次のようにします。

ホーム・フォルダに入って、ファイル.dtprofileを開きます。

LPDEST 環境変数の値を設定する行を追加または編集します。LPDEST=`printer_device;`export LPDESTcshを使用している場合の構文は次のとおりです。:setenv LPDEST`printer_device`

たとえば、次の行はデフォルト・プリンタをデバイス名がlaser3dであるプリンタに変更します。LPDEST=laser3d; export LPDEST

cshを使用している場合の構文は次のとおりです。setenv LPDEST laser3d
# 印刷の概念印刷概念
プリンタ・アイコンにオブジェクト（ファイル・アイコンやテキスト選択）をドラッグして、そこにドロップすることによって印刷を開始することができます。また、アプリケーションの印刷コマンドを選択することによって印刷を開始することができます。それぞれの場合、印刷処理の進行は異なります。
# ドラッグ＆ドロップ起動による印刷印刷ドラッグ＆ドロップによる
プリンタ・コントロールファイルをドロップすることにより印刷要求が起動されると、システムは次を実行します。

システムは、ドロップされたオブジェクトの定義をデータ型データベースで検索します。

データ型用の一意の印刷アクション（印刷アクションの ARG_TYPE フィールドを使用して指定されます）がある場合は、そのアクションを使用します。ない場合は、デフォルトのプリント・アクションdtlpを使用します。たとえば、ファイルが PostScript ファイルである場合、システムは PostScript ファイル用の[印刷]アクションを使用します（このアクションは/usr/dt/appconfig/types/<language>/dt.dtで定義されます）。このデータ型用のアクション作成ツールを使用した場合、入力した印刷コマンドは、このデータ型でファイルを印刷するために使用される固有の印刷アクションになります。

ファイルは、通常の UNIXlp印刷サブシステムを使用してプリンタに配信されます。
# CDE アプリケーションからの印刷印刷CDE アプリケーションからの
カレンダ・マネージャ (dtcm)、ヘルプ・マネージャ (dthelp)、メーラ (dtmail)、およびテキスト・エディタ (dtpad) のように多くの CDE アプリケーションには、組み込みの印刷サポートがあります。これらのアプリケーションは、その印刷を実現するために、Ｘプリント・サーバのサービスを利用します。Ｘプリント・サーバは、単に通常の（ビデオ）Ｘサーバですが、さまざまなプリンタ（ラスター、PCL、および PostScriptのような）のタイプで出力できるように機能が拡張されています。CDE アプリケーションの内部から印刷要求が発行されると（たとえば、テキスト・エディタの[ファイル]メニューから[印刷...]コマンドを選択することによって）、次の処理が行われます。

アプリケーションはダイアログを表示し、汎用的、アプリケーション固有、あるいはプリンタ固有の印刷オプションのユーザによる設定を可能にします。

アプリケーションは、Ｘプリント・サーバに命令を送信します。命令には、ページおよびジョブ・バウンダリ・インジケータによって拡張された標準のＸ描画リクエストが含まれます。

Ｘプリント・サーバは、命令を翻訳してターゲットのプリンタに適切な出力に変換します。変換された特定の出力は、Ｘプリント・サーバと選択されたターゲットのプリンタの機能に依存します。

Ｘプリント・サーバは、通常の UNIXlp印刷サブシステムを使用して、プリンタ出力をプリンタに配送します。
# CDE アプリケーションからの印刷をサポートするには印刷CDE アプリケーションのためのサポート
アプリケーションおよびＸプリント・サーバに加えて、CDE アプリケーションからの印刷をサポートするには、２つのプログラムが必要です。すなわち、プリント・ディスプレイ・マネージャ (PDM) および PDM デーモンです。プリンタ固有の印刷オプションの表示と設定は、プリント・ディスプレイ・マネージャ (PDM) と呼ばれる特別なプログラムで処理されます。プリンタの各クラスにはそれ自身の PDM があり、そのプリンタ固有のオプションと機能が設定されます。PDM デーモンと呼ばれる２番目のクラスのプログラムは、アプリケーションによるプリンタ固有の印刷オプションの表示または設定要求の認識および選択されたプリンタの正しい PDM の起動という作業を処理します。要約すると、CDE アプリケーションからの印刷を正常に行うには、次のことが必要です。

プリンタがシステムの構成に正しく追加されていること

印刷の構成をサポートするために必要な正しく構成されたＸプリント・サーバが実行されていること（CDE のデフォルトのＸプリント・サーバはXprtです）

印刷の構成をサポートするために必要な正しく構成された PDM デーモン が実行されていること（CDE のデフォルトの PDM デーモンはdtpdmdです）

印刷の構成をサポートするために必要な正しく構成されたプリント・ディスプレイ・マネージャ (PDM) が実行されていること（CDE のデフォルトのプリント・ディスプレイ・マネージャ (PDM) はdtpdmです）