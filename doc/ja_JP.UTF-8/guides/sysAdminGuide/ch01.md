
# ログイン・マネージャの構成


ログイン・マネージャは、ログイン画面の表示、ユーザの認証、ユーザのセッションの起動を行うサーバです。グラフィカルなログインは、従来のビットマップ・ディスプレイ用のキャラクタ・モードでのログインに代わる魅力的な方法です。ログイン・サーバが管理するログイン画面は、ログイン・。サーバのディスプレイに直接表示することも、ネットワーク上のＸ端末またはワークステーションのディスプレイに表示することもできます。ログイン・マネージャログイン・サーバも参照してください。ログイン・マネージャ定義ログイン・サーバログイン画面の表示ログイン・サーバユーザの認証ログイン・サーバセッションの起動ログイン・サーバディスプレイの接続

ログイン・サーバを起動、停止、カスタマイズするときは、必ず root ユーザで行ってください。















ログイン・サーバには次の機能があります。ログイン・マネージャカスタマイズログイン・サーバ概要

特に指示しなければビットマップ・ディスプレイに、指示すればローカルなビットマップ・ディスプレイおよびネットワーク上のビットマップ・ディスプレイにログイン画面を表示できます。

キャラクタ・コンソール・ディスプレイに直接接続できます。

ネットワーク上の他のログイン・サーバからユーザがログイン画面を表示できるようにする選択画面を表示できます。

ログイン・サーバへのアクセスをコントロールできます。

従来のキャラクタ・モード・ログインにアクセスできます。

ログイン・マネージャが管理するディスプレイは、ログイン・マネージャのサーバに接続することも、ネットワーク上のＸ端末またはワークステーションに接続することもできます。ローカル・ディスプレイでは、ログイン・サーバが自動的にＸサーバを起動し、ログイン画面を表示します。Ｘ端末などのネットワーク・ディスプレイでは、ログイン・サーバはＸディスプレイ・マネージャ・プロトコル (XDMCP)XDMCP1.0 をサポートします。このプロトコルにより、ディスプレイは、ログイン・サーバがディスプレイにログイン画面を表示するよう要求できます。
# ログイン・サーバの起動


ログイン・サーバは、通常、システムのブート時に起動されます。コマンド行からもログイン・サーバを起動できます。ログイン・サーバ起動ログイン・サーバコマンド行からの起動

システムのブート時にログイン・サーバを起動するよう設定するには、次のように入力します。/usr/dt/bin/dtconfig -e

ログイン・サーバは、リブート時に自動的に起動されます。

コマンド行からログイン・サーバを起動するには、次のように入力します。/usr/dt/bin/dtlogin -daemon

一時的に構成をテストするためにログイン・サーバをコマンド行から起動することはできますが、通常はシステムのブート時にログイン・サーバを起動してください。
# ローカル・ディスプレイおよびネットワーク・ディスプレイの管理


にログイン・サーバの構成を示します。
# ログイン・サーバの構成例Ｘ端末ログイン・サーバの構成

# ログイン・サーバのプロセスIDの検出ログイン・サーバプロセスID


デフォルトでは、ログイン・サーバはプロセスIDを/var/dt/XpidXpid ファイルに格納します。

これを変更するため、Dtlogin.pidFileリソースをXconfigXconfig ファイル変更ファイルに設定できます。変更を行った場合、ログイン・サーバの起動時に指定したディレクトリが存在していなければなりません。

Xconfigを変更するには、Xconfigを/usr/dt/configから/etc/dt/configへコピーします。/etc/dt/config/Xconfigを変更した後で、次のように入力し、Xconfigをもう一度読み込むようログイン・サーバに通知します。/usr/dt/bin/dtconfig -reset

これは、コマンドkill -HUP`login server process ID`を発行します。

たとえば、ログイン・サーバのプロセスIDを/var/myservers/Dtpidに格納するには、Xconfigファイルで次のように設定してください。Dtlogin.pidFile: /var/myservers/Dtpid

ログイン・サーバを再起動すると、ログイン・サーバはプロセスIDを/var/myservers/DtpidDtpid ファイルに格納します。/var/myserversディレクトリは、ログイン・サーバの起動時に存在しなければなりません。
# ローカル・ディスプレイでのログイン画面の表示


起動時、ログイン・サーバはXserversXservers ファイルサーバの起動ファイルを検索して、Ｘサーバを起動する必要があるかどうか、ログイン画面をローカル・ディスプレイまたはネットワーク・ディスプレイに表示するかどうかとその方法を決定します。

Xserversを変更するには、Xserversを/usr/dt/configから/etc/dt/configへコピーします。/etc/dt/config/Xserversを変更した後で、次のように入力し、Xserversをもう一度読み込むようログイン・サーバに通知します。/usr/dt/bin/dtconfig -reset

これは、コマンドkill -HUP`login server process ID`を発行します。

Xservers ファイル構文Xservers行の書式は以下のとおりです。`display_name``display_class``display_type``X_server_command`

次に説明を示します。

`display_name`

Ｘサーバに接続するときに使用する接続名（以下の例では :0）をログイン・サーバに通知します。* (アスタリスク) の値は`host name`:0 に展開されます。指定した番号は、`X_server_command`接続番号で指定した番号と一致しなければなりません。

`display_class`

このディスプレイに固有のリソース（以下の例ではLocal）を識別します。

`display_type`

ディスプレイがローカル・ディスプレイとネットワーク・ディスプレイのどちらであるかと、ログイン画面の [コマンド行ログイン] オプションを管理する方法（以下の例ではlocal@console）を、ログイン・サーバに通知します。

`X_server_command`

Ｘサーバの起動にログイン・サーバが使用するコマンド行、接続番号、他のオプション（以下の例では/usr/bin/X11/X :0）を識別します。指定した接続番号は`display_name`で指定した番号と一致しなければなりません。

デフォルトのXservers行は、次のようになります。:0 Local local@console /usr/bin/X11/X :0
# ローカル・ディスプレイなしでのログイン・サーバの実行ビットマップ・ディスプレイ、〜なしでのログイン・サーバの実行


ログイン・サーバ・システムにログイン・サーバビットマップ・ディスプレイがないビットマップ・ディスプレイがない場合は、#(ポンド記号) を使用してローカル・ディスプレイ
のXserversXservers ファイルデフォルトを注釈行にすることにより、ローカル・ディスプレイなしでログイン・サーバローカル・ディスプレイなしの実行ログイン・サーバを実行してください。以下に例を示します。# :0 Local local@console /usr/bin/X11/X :0

ログイン・サーバは、起動されるとバックグラウンドで実行され、ネットワーク・ディスプレイからの要求を待ちます。
# ローカル・ディスプレイでのコマンド行ログインへのアクセス


ログイン画面で[コマンド行ログイン]ログイン・サーバコマンド行ログインをユーザが選択すると、ログイン・サーバが一時的にＸサーバを終了させ、ビットマップ・ディスプレイ端末デバイスで実行中の、従来のコマンド行ログインにアクセスできるようになります。ユーザがログインしてからログアウトした後、または指定したタイムアウト時間が経過した後、ログイン・サーバはＸサーバを再起動します。

ネットワーク・ディスプレイでは、コマンド行ログイン[コマンド行ログイン]オプションは使用できません。

`display_type`は、[コマンド行ログイン]の動作を制御します。`display_type`の書式は次のとおりです。

local@`display_ terminal_device`

local ディスプレイ・タイプlocal

foreign ディスプレイ・タイプforeign

local@`display_terminal_device`を指定すると、ログイン・サーバは、Ｘサーバおよび/dev/`display_terminal_device`が同じ物理デバイス上に存在し、コマンド行ログイン（通常はgetty）がそのデバイスで実行されているものとみなします。ユーザが[コマンド行ログイン]を選択すると、Ｘサーバが終了し、/dev/`display_terminal_device`で実行されているコマンド行ログイン（getty）にアクセスできるようになります。

ディスプレイの[コマンド行ログイン]オプションを指定しないようにするには、`display_terminal_device`にnoneを指定します。デフォルトの`display_terminal_device`はconsoleです。localを指定すると、`display_terminal_device`はデフォルトのconsoleになります。foreignを指定すると、[コマンド行ログイン]オプションは使用できません。

ログイン・サーバをコマンド行から起動したときは、ローカル・ディスプレイの[コマンド行ログイン]オプションは使用できません。
# キャラクタ・ディスプレイ・コンソールの適用キャラクタ・ディスプレイ・コンソール


ログイン・サーバ・システムに、直接接続されているキャラクタ・ディスプレイログイン・サーバキャラクタ・ディスプレイ・コンソールがコンソールとして備えられている場合、`display_terminal_device`にnoneを設定して、ビットマップ・ディスプレイ・ログイン画面の[コマンド行ログイン]オプションを使用できないようにすることもできます。

コマンド行ログイン（gettygetty）を、キャラクタ・ディスプレイ・コンソールおよびビットマップ・ディスプレイの両方で実行している場合、`display_terminal_device`をビットマップ・ディスプレイのコマンド行ログイン（getty）デバイスに変更することができます。

たとえば、ビットマップ・ディスプレイ・コマンド行ログイン（getty）がデバイス/dev/tty01にある場合、`display_type`をlocal@tty01に変更します。
# ネットワーク・ディスプレイでのログイン画面の表示ログイン画面ネットワーク・ディスプレイでの表示


ログイン・サーバは、ネットワーク・ディスプレイからの要求でログイン画面を特定のディスプレイに表示させることができます。ネットワーク・ディスプレイは通常Ｘ端末ですが、ワークステーションの場合もあります。

ネットワーク・ディスプレイからの要求を管理するため、ログイン・サーバはＸディスプレイ・マネージャ・プロトコル (XDMCP)XDMCP定義1.0 をサポートします。このプロトコルは、ログイン・サーバがネットワーク・ディスプレイからの要求を受け入れたり拒否したりできるようにします。ほとんどのＸ端末に XDMCP が組み込まれています。
# ネットワーク・ディスプレイからの XDMCP の直接要求XDMCP直接要求Ｘ端末XDMCP-direct


XDMCP 直接モードXDMCP照会モード（照会モード）を使用するようにＸ端末を構成するときは、ログイン・サーバのホスト名をＸ端末に通知します。Ｘ端末をブートすると、自動的にログイン・サーバに通信し、ログイン・サーバがＸ端末にログイン画面を表示します。XDMCP 直接モード用にＸ端末を構成する方法については、Ｘ端末のマニュアルを参照してください。

ほとんどのＸサーバは-queryオプション-query オプションもサポートしています。このモードでは、ＸサーバはＸ端末のように動作して、ログイン・サーバ・ホストに直接通信し、Ｘサーバにログイン画面を表示するよう要求します。たとえば、Ｘサーバをワークステーションbridgetのビットマップ・ディスプレイで起動すると、ログイン・サーバanitaがＸサーバにログイン画面を表示します。X -query anita
# ネットワーク・ディスプレイからの XDMCP の間接要求XDMCP間接要求Ｘ端末XDMCP-indirect


XDMCP 間接モードを使用するようにＸ端末を構成するときは、ログイン・サーバのホスト名をＸ端末に通知します。Ｘ端末をブートすると、ログイン・サーバに通信し、ログイン・サーバが、ネットワークの他のログイン・サーバ・ホストのリストを選択画面で表示します。このリストからユーザはホストを選択でき、そのホストがユーザのＸ端末にログイン画面を表示します。XDMCP 間接モード用にＸ端末を構成する方法については、Ｘ端末のマニュアルを参照してください。

直接モード同様、ほとんどのＸサーバが-indirectオプション-indirect オプションをサポートしています。このオプションを指定するとＸサーバは XDMCP 間接モードでログイン・サーバと通信します。
# 非 XDMCP ネットワーク・ディスプレイの管理Ｘ端末非 XDMCP ディスプレイ


旧式のＸ端末は XDMCP をサポートしていない可能性があります。このようなＸ端末にログイン・サーバがログイン画面を表示するには、XserversファイルにＸ端末名を記入します。
# 例


次に示すXserversファイルの行は、rubyおよびwolfieという２つの非 XDMCP Ｘ端末に、ログイン・サーバがログイン画面を表示します。ruby.blackdog.com:0 AcmeXsta foreign
wolfie:0 PandaCo foreign

ディスプレイはネットワーク上にあるので、`display_name`はホスト名を名前の一部として取り込みます。`display class`は、特定のクラスのＸ端末に固有のリソースを指定するのに使用します（Ｘ端末のマニュアルに、Ｘ端末のディスプレイ・クラスが記載されています）。foreignの`display_type`はログイン・サーバに、ログイン・サーバ自身を起動するのではなく、既存のＸサーバに接続するよう通知します。この場合、`X_server_command`は指定されません。
# ログイン・サーバへのアクセスのコントロールログイン・サーバアクセスのコントロール


デフォルトでは、ログイン・サーバ・ホストにアクセスするネットワークのホストはすべて、ログイン画面を表示するよう要求できます。XaccessファイルXaccess ファイルを変更すると、ログイン・サーバへのアクセスを制御できます。

Xaccessを変更するには、Xaccessを/usr/dt/configから/etc/dt/configへコピーします。/etc/dt/config/Xaccessを変更したら、次のように入力してXaccessをもう一度読み込むようログイン・サーバに通知します。/usr/dt/bin/dtconfig -reset

これは、コマンドkill -HUP`login server process ID`を発行します。
# XDMCP 直接モードＸ端末XDMCP-direct


ホストがXDMCP直接アクセスXDMCP 直接モードによってログイン・サーバに接続しようとすると、ホスト名がＸ端末Xaccess リストXaccessエントリと比較されて、ホストがログイン・サーバにアクセスできるかどうか決定されます。Xaccessの各エントリは、ワイルドカード*(アスタリスク) および?(疑問符) を含むホスト名です。*(アスタリスク) は０以上の文字に、?(疑問符) は任意の１文字に一致します。!(感嘆符) がエントリの前に付くとアクセスできず、これがなければアクセスできます。

たとえば、Xaccessに次の３つのエントリが含まれているとします。amazon.waterloo.com

*.dept5.waterloo.com

!*

最初のエントリはホストamazon.waterloo.comから、２番目のエントリはフルドメイン名がdept5.waterloo.comで終わっている任意のホストからログイン・サーバがアクセスできるようにし、最後のエントリはいずれのホストからもアクセスできないようにします。
# XDMCP 間接モードＸ端末XDMCP-indirect


ホストが XDMCP 間接モードによってログイン・サーバに接続しようとすると、ホスト名がXaccessエントリと比較されて、ホストがログイン・サーバにアクセスできるかどうかが決定されます。Xaccessの各エントリは XDMCP 直接モードと同様で、ワイルドカードを含んでいますが、各エントリにCHOOSER文字列がマークされていることころが異なります。例を次に示します。XDMCP間接アクセスCHOOSER 文字列定義Ｘ端末CHOOSER 文字列amazon.waterloo.com  CHOOSER BROADCAST

*.dept5.waterloo.com CHOOSER BROADCAST

!* CHOOSER BROADCAST

最初のエントリはホストamazon.waterloo.comから、２番目のエントリはフルドメイン名がdept5.waterloo.comで終わっている任意のホストからログイン・サーバがアクセスできるようにし、最後のエントリはいずれのホストからもアクセスできないようにします。

CHOOSERCHOOSER 文字列識別の後は次のいずれかが続きます。

BROADCAST, XDMCP-indirect で使用されるBROADCAST

`list of host names`

BROADCASTは、ログイン・サーバにログイン・サーバ・サブネットワークへ同報通信させて、使用可能なログイン・サーバ・ホストのリストを生成します。ホスト名のリストは、使用可能なログイン・ホストのリストとしてそのリストを使用するように、ログイン・サーバに通知します。例を次に示します。amazon.waterloo.com  CHOOSER shoal.waterloo.com alum.waterloo.com

*.dept5.waterloo.com CHOOSER BROADCAST

!* CHOOSER BROADCAST

amazon.waterloo.comが XDMCP 間接モードによって接続する場合、shoalおよびalumを含むリストが表示されます。alice.dept5.waterloo.comを接続する場合は、ログイン・サーバ・サブネットワークで使用可能な全ログイン・サーバ・ホストのリストが表示されます。他の XDMCP 間接モードは拒否されます。

ホスト名のリストを指定するもうひとつの方法は、ホスト名のリストを含む１つ以上のマクロを定義することです。例を次に示します。&percnt;list1  shoal.waterloo.com alum.waterloo.com
amazon.waterloo.com CHOOSER &percnt;list1
# エラー検査ログイン・サーバトラブルジュートログイン・マネージャエラー


デフォルトでは、ログイン・サーバはXerrors ファイル/var/dt/Xerrorsファイルにエラーを記録します。これを変更するため、Dtlogin.errorLogFileリソースをXconfigファイルに設定できます。指定したディレクトリは、ログイン・サーバの起動時に必ず存在しなければなりません。

たとえば、ログイン・サーバが/var/mylogs/Dterrorsファイルにエラーを記録するようにするには、Xconfigファイルで次のように設定してください。Dtlogin.errorLogFile: /var/mylogs/Dterrors

ログイン・サーバが再起動すると、ログイン・サーバは/var/mylogs/Dterrors ファイルDterrorsファイルにエラーを記録します。/var/mylogsディレクトリは、ログイン・サーバの起動時に必ず存在しなければなりません。
# ログイン・サーバの停止ログイン・サーバ停止


システムのブート時にログイン・サーバ抑止ログイン・サーバを起動しないようにするには、次のように入力します。/usr/dt/bin/dtconfig -ddtconfig コマンド

この設定により、次回のリブート時にシステムはログイン・サーバを起動しません。

プロセスIDを Kill してログイン・サーバを停止するには、次のように入力します。/usr/dt/bin/dtconfig -kill

これは、コマンドkill`login server process ID`を発行します。

ログイン・サーバのプロセスを終了すると、ログイン・サーバプロセスIDのkillログイン・サーバが管理するユーザ・セッションはすべて終了します。

プロセスIDを kill してログイン・サーバを停止することもできます。ログイン・サーバのプロセスIDは/var/dt/Xpidか、Dtlogin.pidFileリソースによってXconfigに指定したファイルに格納されます。

ログイン・サーバを強制終了したときにデスクトップにログインすると、デスクトップ・セッションはすぐに終了します。
# ログイン画面


ログイン・サーバが表示するログイン画面は、従来のキャラクタ・モードでのログイン画面に代わるもので、キャラクタ・モードでのログインを超える能力を備えています。
# デスクトップ・ログイン画面


キャラクタ・モードでのログイン同様、ユーザ名の後にパスワードを入力します。認証されれば、ログイン・サーバはデスクトップ・セッションを起動します。デスクトップ・セッションを終了すると、ログイン・サーバは新しいログイン画面を表示し、処理が再開されます。

次のようなログイン画面のカスタマイズができます。ログイン画面カスタマイズ

ログイン画面表示の変更

Ｘサーバ権限の設定

デフォルト言語の変更

ログイン画面を表示する前にコマンドを発行する

ログイン画面の[言語]メニューの内容変更

ユーザのセッションを起動するコマンドの指定

ユーザのデスクトップ・セッションを起動する前にコマンドを発行する

ユーザのセッションが終了した後にコマンドを発行する

上記はいずれも、ディスプレイの全部、あるいはディスプレイごとに行うことができます。
# ログイン画面表示の変更


ログイン画面表示の変更ログイン画面表示をカスタマイズするため、ロゴまたはグラフィック、ウェルカム・メッセージ、フォントを変更できます。

Xresourcesを変更するには、Xresourcesを/usr/dt/config/`language`から/etc/dt/config/`language`にコピーします。次回からは、すべての変更を反映したログイン画面が表示されます。ログイン画面を強制的に再表示させるには、ログイン画面の[オプション]メニューから[ログイン画面のリセット]を選択します。

XresourcesXresources ファイルファイルのリソース指定によって決定されるログイン画面の属性は次のとおりです。

Dtlogin*logo*bitmapFileログイン・マネージャリソースログイン画面リソース

ロゴ・イメージとして表示するビットマップ・ファイルまたはピックスマップ・ファイル

Dtlogin*greeting*labelString

ウェルカム・メッセージ

Dtlogin*greeting*persLabelString

個人用ウェルカム・メッセージ

Dtlogin*greeting*fontList

ウェルカム・メッセージ用フォント

Dtlogin*labelFont

プッシュ・ボタンおよびラベル用フォント

Dtlogin*textFont

ヘルプ・メッセージおよびエラー・メッセージ用フォント

Dtlogin*`language`*languageName

ロケール名`language`用の選択テキスト
# ロゴを変更するには


Dtlogin*logo*bitmapFileリソースをXresourcesに設定します。

ロゴはカラー・ピックスマップ・ファイルまたはビットマップ・ファイルです。

次の例は、ロゴにMylogoビットマップを使用します。Dtlogin*logo*bitmapFile: /usr/local/lib/X11/dt/bitmaps/Mylogo.bm
# ウェルカム・メッセージを変更するにはログイン画面ウェルカム・メッセージの変更ログイン画面挨拶ウェルカム・メッセージ変更


デフォルトでは、ログイン・サーバはログイン画面にメッセージWelcometohost name`を表示します。このメッセージは次の方法で変更できます。ウェルカム・メッセージデフォルト

Dtlogin*greeting*labelStringリソースをXresourcesに設定します。

labelStringリソースの値には、ログイン・サーバ・ホスト名に置き換える&percnt;`LocalHost`&percnt; と、Ｘサーバ・ディスプレイ名に置き換える &percnt;`DisplayName`&percnt; を指定できます。

次の例は、ウェルカム・メッセージをHere's`host name`!に変更します。Dtlogin*greeting*labelString: Here's &percnt;LocalHost&percnt;!

ユーザ名を一度入力すると、ログイン・サーバはデフォルトでWelcome`username`というメッセージを表示します。このメッセージはDtlogin*greeting*persLabelStringリソースをXresourcesに設定すると変更できます。persLabelStringの値には、`username`に置き換える percnt;sを指定できます。

次の例は個人用ウェルカム・メッセージをHello`username`に変更します。Dtlogin*greeting*persLabelString: Hello &percnt;s
# フォントを変更するにはログイン画面フォント


ログイン画面で使用するフォントを、次のフォント・リソースのいずれかをXresourcesXresources ファイルに設定することにより変更できます。

使用可能なフォントの一覧を表示するには、次のように入力します。xlsfonts [-`options`] [-fn`pattern`]

Dtlogin*greeting*fontList

ウェルカム・メッセージ用フォント

Dtlogin*labelFont

プッシュ・ボタンおよびラベル用フォント

Dtlogin*textFont

ヘルプ・メッセージおよびエラー・メッセージ用フォント

次の例は、ウェルカム・メッセージを大きいフォントで表示します（指定する値は必ず１行に入れてください）。Dtlogin*greeting*fontList: -dt-interface system-medium-r-normal-xxl*-*-*-*-*-*-*-*-*:
# 各言語を表示するためのテキストを提供するにはログイン画面ローカライズローカライゼーションログイン画面


ログイン画面の[言語]メニューに、ロケール名のデフォルト・ディスプレイではなく、ロケールごとのテキストを表示するには、Dtlogin*`language`*languageNameリソースをXresourcesに設定します。Dtlogin*En_US*languageName: American

ロケール名En_USではなく、テキストAmericanが表示されます。
# ログイン画面動作の変更ログイン画面動作の変更


ログイン画面の動作をカスタマイズするには、Xconfigファイルに指定したリソースを変更します。

Xconfigを変更するには、Xconfigを/usr/dt/configから/etc/dt/configにコピーします。/etc/dt/config/Xconfigを変更したら、次のように入力してXconfigをもう一度読み込むようログイン・サーバに通知します。/usr/dt/bin/dtconfig -reset

これは、コマンドkill-HUP`login server process ID`を発行します。

XconfigファイルXconfig ファイル〜のリソースの設定に指定するリソースログイン・マネージャリソースは次のとおりです。

Dtlogin*authorize

Xaccess ファイル仕様

Dtlogin*environment

Ｘサーバ環境

Dtlogin*language

デフォルト言語

Dtlogin*languageList

ログイン画面の[言語]メニューの言語リスト

Dtlogin*resources

Xresources仕様

Dtlogin*setup

Xsetupファイル仕様

Dtlogin*startup

Xstartupファイル仕様

Dtlogin*session

Xsessionファイル仕様

Dtlogin*failsafeClient

Xfailsafeスクリプト仕様

Dtlogin*reset

Xresetスクリプト仕様

Dtlogin*userPath

XsessionおよびXfailsafe用 PATH 環境変数

Dtlogin*systemPath

Xsetup、XstartupおよびXfailsafe用 PATH 環境変数

Dtlogin*systemShell

Xsetup、XstartupおよびXfailsafe用 SHELL 環境変数

Dtlogin.timeZone

全スクリプト用タイムゾーン
# ディスプレイごとのログイン画面動作の変更ログイン画面ディスプレイ依存動作複数ディスプレイログイン・マネージャ


以下の例では、Xconfigリソースを変更して、全ディスプレイのログイン画面動作を変更します。リストで * (アスタリスク) の付いたリソースは、ディスプレイごとに指定できます。これにより、あるディスプレイのログイン画面動作のカスタマイズを指定できます。特定のディスプレイのリソースを指定するには、リソースをDtlogin*`displayName`*`resource`と指定します。たとえば、ディスプレイexpo:0のユーザによるアクセス・コントロールをオフにして、他のディスプレイはそのままオンにする場合は、次のように指定します。Dtlogin*expo_0*authorize: False

ディスプレイ名の : (コロン) や . (ピリオド) などの特殊文字は、_ (下線) に置き換えられます。
# Ｘサーバ・アクセスの変更ログイン画面Ｘサーバ・アクセスＸサーバアクセスの変更


デフォルトでは、ログイン・サーバが、ユーザごとにＸサーバのアクセスを制御できるようにします。ログイン・サーバは`HomeDirectory`/.Xauthorityファイルに格納され保護されている権限データに基づきます。このファイルを読み込めるユーザだけがＸサーバに接続できます。一般に、これが望ましいＸサーバ・アクセス・コントロールの方法です。

ユーザベースのアクセス・コントロールの代わりに、ホストベースのアクセス・コントロールも可能です。この方法を使用すると、ホストがＸサーバへのアクセスを与えられている場合、そのホストのすべてのユーザがＸサーバに接続できます。ホストベースのコントロールを使用するのは、次のような理由からです。

古い R2 および R3 のＸのクライアントは、ユーザベースのアクセス・コントロールではＸサーバに接続できません。

安全性が確立されていないネットワークでは、ネットワークのＸクライアントとＸサーバとの間で渡される認証データを盗まれる可能性があります。

Xconfig Dtlogin*authorize リソースauthorizeリソースは、ユーザベースのＸサーバ・アクセス・コントロールを使用することをログイン・サーバに通知します。ホストベースのアクセス・コントロールを使用するときは、次のように authorize リソース値をFalseに変更します。Dtlogin*authorize: False
# Ｘサーバ環境を変更するにはＸサーバ環境の変更ログイン画面Ｘサーバ環境


ログイン・サーバによって起動されたときにひとつ以上の環境変数と値をＸサーバに指定する場合は、XconfigのDtlogin*environmentリソースを使用して指定できます。次に例を示します。Dtlogin*environment: VAR1=foo VAR2=bar

この例は、ローカルなＸサーバ・プロセスで変数VAR1およびVAR2を使用できるようにします。これらの変数も、XsessionおよびXfailsafeスクリプトへエクスポートされます。
# デフォルト言語を変更するにはログイン画面デフォルト言語の変更


ログイン画面からデスクトップにログインするとき、ユーザ・セッションは、[オプション]メニューの[言語]サブメニューから選択されたロケールで実行されます。言語を選択しない場合、ログイン・サーバはデフォルト言語を使用します。XconfigのDtlogin*languageDtlogin*language リソースリソースを次のように設定することにより、デフォルト言語の値をコントロールできます。Dtlogin*language: Ja_JP

システムのマニュアルを調べて、システムにインストールされている言語を判定してください。
# ログイン画面の[言語]メニューの内容を変更するにはログイン画面[言語]メニューの内容の変更[言語]メニュー、カスタマイズ


デフォルトでは、ログイン・サーバは、システムにインストールされたすべてのロケールのリストが入っているログイン画面の[言語]メニューを作成します。そのリストからロケールを選択すると、ログイン・サーバは選択されたロケールでログイン画面を再表示します。その後ログインすると、ログイン・サーバはそのロケールでデスクトップ・セッションを起動します。

XconfigのDtlogin*languageListリソースを変更することにより、独自の言語のリストを指定できます。Dtlogin*languageList: En_US De_DE

このように指定すると、ログイン・サーバはEn_USおよびDe_DEだけをログイン画面の[言語]メニューに表示します。
# ログイン画面が表示される前にコマンドを発行するログイン・マネージャコマンドの発行


Ｘサーバの起動後でログイン画面が表示される前に、ログイン・サーバはXsetupスクリプトを実行します。XsetupXsetup ファイルは root の権限に合わせて実行され、ログイン画面を表示する前に実行する必要のあるコマンドを発行します。

Xsetupを変更するには、Xsetupを/usr/dt/configから/etc/dt/configへコピーします。次にログイン画面が表示されるときは、変更されたXsetupが実行されます。
# ユーザ・セッション起動前のコマンドの発行


ユーザ名とパスワードを入力し、それが認証された後で、ユーザ・セッションが起動される前に、ログイン・サーバはXstartupスクリプトを実行します。XstartupXstartup ファイルは root の権限に合わせて実行され、ユーザ・セッションを起動する前に root として実行する必要のあるコマンドを発行します。

Xstartupを変更するには、Xstartupを/usr/dt/configから/etc/dt/configへコピーします。次にログイン画面が表示されるときは、変更されたXstartupが実行されます。