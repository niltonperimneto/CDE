
# デスクトップのアイコンの作成


デスクトップ・アイコンは次のものと関連しています。

ファイル・マネージャとアプリケーション・マネージャのアクション・ファイルおよびデータ型

フロントパネル・コントロール

アイコン化されたアプリケーション・ウィンドウ

アプリケーションが使用するグラフィック（パレット、ツールバー等）

ワークスペースの背景







開発環境用のマニュアルには、デスクトップ・アイコンに関する補足情報が載っています。CDE/Motif スタイル・ガイドおよび認証チェックリストの第４章「ビジュアル・デザイン」を参照してください。
# アイコン・イメージ・ファイル


デスクトップがアイコン・イメージを使用するためには、アイコン・イメージ・ファイルは次の条件を満たさなければなりません。

フォーマットが適切であること。

適切なファイル命名規則を使用していること。

デスクトップのサイズ規則を使用していること。

アイコン検索パス上のディレクトリに位置すること。

適切な構文を使用したデスクトップ構造によって呼び出されること。たとえば、フロントパネルに新しいコントロールを作成する場合、フロントパネル定義のICONフィールドを使用してそのコントロールに使用するアイコン・イメージを指定します。
# アイコン・ファイルの形式アイコン検索パス、「アイコン検索パス」を参照してください<$nopage>アイコンサーバ、「アイコン・サーバ」を参照してください<nopage>アイコンファイル形式ビットマップ「アイコン」も参照してください


カラー・ディスプレイの場合は、通常.pm拡張子が付いているＸピックスマップ (XPM) 形式のアイコン・ファイルを使用します。それ以外の場合は、通常.bm拡張子が付いているＸビットマップ (XBM) 形式のファイルを使用します。ピックスマップ・ファイルで透明色を使用する場合は、.bmファイルを作成したときにマスク・ファイル (_m.bm) が生成されます。これらのファイルをデスクトップが検索する方法については、を参照してください。
# アイコン・ファイル名アイコンファイル名ファイル名、アイコン


アイコンと背景のイメージは、それぞれ別のファイルに格納されます。通常、アイコンはファイル名のベース部分でも指定されます。たとえば、実際には次のようにアイコン・ファイルが格納されていても、アイコンはmailという名前で参照されることがあります。アイコンファイルの検索方法アイコン命名規則.pm filename extension[pm filename].bm filename extension[bm filename]ビットマップファイルの検索方法ピックスマップファイルの検索方法2イメージ、「アイコン」を参照してください<$nopage>/usr/dt/appconfig/icons/`language`/mail.l.pm

拡張子を追加するファイル命名規則は、アイコンをサイズと型で分類するのに便利です。デスクトップ・コンポーネントのアイコン名は、次のいずれかの一般的な形式です。

`basename`.`size`.`format`

`basename`.`format`

それぞれの意味は次のとおりです。

`basename`

イメージを参照するのに使用するイメージ・ベース名

`サイズ`

サイズを示す文字:l(大)m(中)s(小)t(極小)

`format`

ファイル形式:pm(ピックスマップ)bm(ビットマップ)
# アイコン・サイズ規則アイコンサイズ規則アイコンのサイズ


ビットマップ命名規則ピックスマップ命名規則に、デスクトップ・アイコン用として推奨するピクセル数を示します。
# アイコン・サイズとファイル名


`アイコン・サイズ`

`ビットマップ名`

`ピックスマップ名`

16 × 16 (極小)

`name`.t.bm

`name`.t.pm

24 × 24 (小)

`name`.s.bm

`name`.s.pm

32 × 32 (中)

`name`.m.bm

`name`.m.pm

48 × 48 (大)

`name`.l.bm

`name`.l.pm

.

に、デスクトップ・コンポーネントで使用するアイコン・サイズを示します。使用するアイコンのサイズは、ディスプレイ解像度に依存する場合があります。
# デスクトップ・コンポーネントとそのアイコン・サイズ


`デスクトップ・コンポーネント`

`高解像度`

`中解像度`

`低解像度`

ファイル・マネージャとアプリケーション・マネージャ（名前とアイコンによる表示）

中

中

中

ファイル・マネージャとアプリケーション・マネージャ（名前と小アイコンによる表示）

極小

極小

極小

メイン・フロントパネル・コントロール

大

大

中

フロントパネルのサブパネル

中

中

極小

フロントパネルのスイッチ・コントロール

小

小

極小

アイコン化されたウィンドウ

大

大

中

たとえば、データ型にmailというアイコンを指定して、カラー・ディスプレイを使用し、ファイル・マネージャの設定を小アイコンに変更した場合、使用されるアイコン・イメージはmail.t.pmです。
# アイコン検索パスビットマップ検索パスビットマップファイルの検索方法ピックスマップ検索パスピックスマップファイルの検索方法検索パスアイコン


デスクトップは、アイコン・ファイル、すなわちイメージをディレクトリのリストからファイルを検索して見つけます。ディレクトリのリストは`アイコン`検索パスと呼ばれ、いくつかの環境変数の値によって決定されます。アイコン検索パスを作成するために、どの変数が使用され、どのように組み合わされるかについて、で説明しています。

デフォルトの検索パスは次のとおりです。

組み込みアイコン:/usr/dt/appconfig/icons/`language`

システム共通アイコン:/etc/dt/appconfig/icons/`language`

個人用:`HomeDirectory`/.dt/icons
# ネットワークによるアイコンへのアクセス


デスクトップは、リモート・システムのアイコンにアクセスできます。アイコン・サーバの作成に関する情報は、を参照してください。
# アイコンとの関連付け


オブジェックトをより速く認識するために、アイコンを次のものと関連付けることができます。アイコン関連付けの作成

アクションとデータ型

フロントパネルとサブパネルのデータ型

アイコン化されたアプリケーション・ウィンドウ
# アイコン・ファイルの指定


アクション、データ型、フロントパネル、サブパネルで使用するアイコンは、ベース名だけを指定します（拡張子は付けません）。正しい拡張子が、ディスプレイ解像度、カラー・サポート、ファイル・マネージャの表示オプション（[小アイコン表示]など）に応じて自動的に付けられます。

検索パスを無効にするには、絶対パスとアイコン名を指定します。
# アイコンをアクションまたはデータ型に関連付けるには


ICONフィールドを使用してアイコンを指定します。

アイコン・ファイルが適切な命名規則にしたがっている場合は、アイコンのベース名だけを指定します。ディスプレイの解像度とカラー・サポートに基づいて、正しいアイコンが表示されます。アイコンアクションまたはデータ型との関連付けアクション〜のアイコンの関連付けデータ型〜のアイコンの関連付け

次のアイコン・サイズを作成します。

アクション: 大、中、極小

データ型: 中および極小
# アクション定義の例


次の例は、Island PaintTM描画ツールを起動するためのアクション定義です。アイコンIpaint.lとIpaint.sがアクションに関連付けられます。ACTION      IslandPaintOpenDoc
{
 WINDOW_TYPE  NO-STDIO
 ICON         Ipaint
 EXEC_STRING  /usr/bin/IslandPaint &percnt;Arg_1&ldquo;File to open:&rdquo;&percnt;
}

カラー・アイコンを使用している場合は、デスクトップは実際のアイコン・ファイルを探すときに、まず.pmを追加します。カラー・アイコンを使用していない場合（または.pmで一致するファイルがない場合）は、デスクトップは.bmを追加します。
# データ型定義の例


次のデータ型定義は、アイコンcomprsd.lとcomprsd.sを圧縮ファイルに関連付けます。DATA_ATTRIBUTES     COMPRESSED
{
 ICON         comprsd
 ACTIONS      Uncompress
 DESCRIPTION  A COMPRESSED file has been compressed by the \
              'compress' command to take up less space.
}
# アイコンをフロントパネル・コントロールに表示するには


ICONフィールドを使用してイメージ名を指定します。

コントロールがファイルを監視する場合（MONITOR_TYPEがメールまたはファイルに設定されている場合）は、ALTERNATE_ICONフィールドを使用して、変更がみつかったときに使用するアイコンを指定します。2アイコンフロントパネルフロントパネル〜のアイコンの表示

ボタンおよびドロップ領域コントロールにアニメーションを使用することもできます。

次のアイコン・サイズを作成します。

メイン・パネルとサブパネル: 大、中、極小

ワークスペース・スイッチ: 小
# 例


次のコントロールは、reportという名前のファイルが/doc/ftp/pub/ディレクトリにある場合に表示を変更します。そのファイルがない場合は、NoReport.pmアイコンが表示されます。CONTROL MonitorReport
{
 CONTAINER_NAME`container_name`TYPE            ICON
 MONITOR_TYPE    file
 FILE_NAME       /doc/ftp/pub/report
 ICON            NoReport
 ALTERNATE_ICON  Report
}
# アイコンをアプリケーション・ウィンドウに関連付けるには


次のように、ワークスペース・マネージャにiconImageリソースを設定します。アイコンアプリケーション・ウィンドウとの関連付けアプリケーション・ウィンドウ、〜とのアイコンの関連付け

Dtwm*`clientname`*iconImage:`icon_file_name`

`clientname`の正しい値を決定するには、アプリケーション・マネージャを開いて、[デスクトップツール]アプリケーション・グループの[ウィンドウ属性]をダブルクリックします。ウィンドウを選択すると、その属性がリスト表示されます。WM_CLASS 属性WM_CLASS 属性は、ウィンドウのクラス名を引用符で囲んで表示します。

リソース設定の詳細は、を参照してください。

ワークスペース・メニューから[ワークスペースマネージャの再起動]を選択します。

アイコンがワークスペース・マネージャに認識されたか確認するために、アイコンを変更しようとしているウィンドウをアイコン化してみます。

一部のアプリケーションでは、デフォルト・ウィンドウ・アイコンを無効にできません。
# ファイル・マネージャをアイコン・ブラウザとして使用するにはアイコンファイル・マネージャでブラウズするアイコンアイコン・ブラウザとしてのファイル・マネージャの使用ファイル・マネージャ、アイコン・ブラウザとしての使用ファイル・マネージャを使用してアイコンをブラウズする


ファイル/usr/dt/examples/types/`language`/IconBrowse.dtを`HomeDirectory`/.dt/types/Iconbrowse.dtディレクトリにコピーします。

アプリケーション・マネージャを開いて、[デスクトップツール]アプリケーション・グループの[アクションの再読込み]をダブルクリックします。

アイコン (.bmおよび.pmファイル) が入っているディレクトリに変更する場合、各アイコンがアイコン名の隣に表示されます。たとえば、/usr/dt/appconfig/icons/`language`ディレクトリに変更すると、多くのデスクトップ・アイコンが表示されます。

メモリの少いシステムで、アイコン・ブラウザを使用すると、ファイル・マネージャがディレクトリを表示するのが遅くなることがあります。256 × 256 よりも大きいイメージは、デフォルトの構成では表示できません。

アイコン・ブラウザを使用不可にするには、次のようにします。

IconBrowse.dtファイルの個人用コピーを削除します。

アプリケーション・マネージャを開いて、[デスクトップツール]アプリケーション・グループの[アクションの再読込み]をダブルクリックします。
# アイコン設計についてのアドバイスアイコン設計についての推奨


関連するアイコンの間では共通のテーマを使用します。たとえば、アプリケーションのアイコンを設計している場合は、アプリケーションのアイコンと、データ・ファイル用のアイコンの間に、意図的に類似性をもたせます。

設計するカラー・アイコンはすべて、２色のバージョンも使用可能であるようにしてください。カラー・アイコンをモノクロ・ディスプレイかグレースケール・ディスプレイで表示する場合（または使用できる色数が少い場合）、そのアイコンは自動的に２色のバージョンで表示されます。

システムで使う色数を少くするには、アイコンに使う色数を、デスクトップが提供する色数に限定してください。（アイコン・エディタを使って作成したアイコンはデスクトップ・カラーのみ使用します。）

デスクトップ・コンポーネントが使用するサイズについては、を参照してください。
# 色の使用法


デスクトップ・アイコンは、次の22色のパレットを使用します。カラーアイコンの使用法アイコンカラーの使用法

グレー８色

カラー８色: 赤、青、緑、シアン、マゼンタ、黄、黒、白

ダイナミックカラー６色: フォアグラウンド、バックグラウンド、トップシャドウ、ボトムシャドウ、選択、透明

このパレットにより、他のアプリケーションが必要とするカラー・リソースを超えることなく、魅力ある読みやすいアイコンを作成できます。デスクトップで提供されるほとんどのアイコンはグレーを使用し、カラーでアクセントを付けています。

透明色は、矩形でない輪郭がぼんやりと見えて、アイコンの後ろの色が透けて見えるようなアイコンを作成するのに有用です。