
# セッション・マネージャの構成


セッション・マネージャは、デスクトップを起動し、実行中のアプリケーション、カラー、フォント、マウス動作、音量、およびキーボード・クリックを自動的に保存および復元します。

セッション・マネージャを使用して、次のことを実行できます。

すべてのデスクトップ・ユーザの初期セッションをカスタマイズする

すべてのデスクトップ・ユーザの環境およびリソースをカスタマイズする

セッション起動メッセージを変更する

セッション起動ツールとデーモンのパラメータを変更する

すべてのユーザのデスクトップ・カラーの使用方法をカスタマイズする










# セッションとは？セッション・マネージャ概要セッション定義


セッションとは、ユーザのデスクトップに存在するアプリケーション、設定、およびリソースの集まりです。セッションの管理は、セッション・マネージャによるセッションの保存および復元を可能にする規約とプロトコルのセットです。システムにログインすると、前回ログオフした時に提供されていたのと同じ実行中のアプリケーション、設定、およびリソースのセットを得ることができます。デスクトップに最初にログインした時は、デフォルトの初期セッションが読み込まれます。その後、セッション・マネージャは現在のセッションとホーム・セッションの概念をサポートします。セッションデフォルト現在のセッションセッション現在のセッションホームホーム・セッション
# 初期セッションセッションデフォルトセッション初期


デスクトップに最初にログインしたとき、セッション・マネージャはシステムのデフォルト値を使用して初期セッションを作成します。デフォルトでは、ファイル・マネージャ、およびインフォメーション・マネージャが起動されます。インフォメーション・マネージャは、共通デスクトップ環境 (CDE) のデスクトップの紹介画面を表示します。
# 現在のセッションセッション現在の現在のセッション


保存済みのホーム・セッション、保存済みの現在のセッション、またはシステム・デフォルトの初期セッションからログイン時に復元されたものかどうかにかかわらず、実行中のセッションは常に現在のセッションと見なされます。スタイル・マネージャの[起動]設定に基づき、セッションを終了すると、セッション・マネージャは現在のセッションを自動的に保存します。もう一度デスクトップにログインすると、セッション・マネージャは前に保存した現在のセッションを再起動します。これは、最後にログアウトしたときと同じ状態にデスクトップが復元されることを意味します。
# ホーム・セッションセッションホームホーム・セッション


ログアウトしたときの状態に関係なく、ログインするたびにデスクトップを同じ状態に復元させることもできます。現在のセッションの状態を保存し、その後スタイル・マネージャの[起動]設定を使用して、ユーザがログインするたびにセッション・マネージャにそのセッションを起動させることができます。
# ディスプレイに固有のセッションセッションディスプレイに固有の


特定のディスプレイに対して固有のセッションを実行するために、ディスプレイに固有のセッションを作成できます。作成するために、ユーザは`HomeDirectory`/.dt/sessionsディレクトリを`HomeDirectory`/.dt/`display`にコピーできます。この場合、`display`は実際に存在する修飾されていないホスト名です（たとえば、pablo:0は有効で、pablo.gato.com:0やunix:0は無効です）。ユーザがディスプレイpablo:0にログインすると、セッション・マネージャはそのディスプレイに固有のセッションを起動します。
# セッションの起動セッション起動セッション・マネージャ起動セッッション・マネージャ「セッション」も参照してください


セッション・マネージャは、/usr/dt/bin/Xsession ファイルセッション・マネージャの起動Xsessionによって起動されます。ログイン・マネージャを使用してログインすると、Xsessionがデフォルトとして起動されます。

オプションとして、従来のキャラクタ・モードgetty(getty)・ログインを使用してログインし、xinitなどのＸサーバを起動するツールを使用してセッション・マネージャを手動で起動できます。たとえば、xinit /usr/dt/bin/Xsessionのように指定します。
# セッションの起動処理


セッション・マネージャは起動すると、次の手順にしたがってセッションを起動します。

`HomeDirectory`.dtprofile ファイル〜の参照/.dtprofileスクリプトを参照します。

Xsession.d directoryXsession.dスクリプトを参照します。

セッション・マネージャウェルカム・メッセージウェルカム・メッセージ表示ウェルカム・メッセージを表示します。

デスクトップ検索パスデスクトップ検索パスを設定します。

使用可能なアプリケーションを集めます。

オプションとして`HomeDirectory`.profile file[profile file]/.profileまたは`HomeDirectory`.login ファイル [ログイン・ファイル]/.loginを参照します。

ToolTalkメッセージ・デーモンToolTalk&reg;メッセージ・デーモンを起動します。

セッションリソースリソースセッションセッション・リソースを読み込みます。

カラー・サーバカラー・サーバを起動します。

ワークスペース・マネージャ起動ワークスペース・マネージャを起動します。

セッション・アプリケーションログイン時の起動アプリケーションを起動します。

次節では上記の手順について説明します。
# .dtprofile スクリプトの参照.dtprofile ファイル〜の参照


セッションの起動時に、Xsession ファイルXsessionスクリプトは、`HomeDirectory`環境変数.dtprofile の/.dtprofileスクリプトを参照します。`HomeDirectory`/.dtprofileスクリプトは、セッションに対して環境変数.dtprofile の環境変数を設定できる/bin/shか/bin/kshスクリプトです。環境変数の設定についての詳細は、を参照してください。

デスクトップに最初にログインしたときなど`HomeDirectory`/.dtprofileスクリプトが存在しない場合、Xsessionはデスクトップのデフォルトのsys.dtprofileをシェル個人的なカスタマイズ`HomeDirectory`.dtprofile ファイル作成/.dtprofileにコピーします。

環境変数デフォルトデスクトップのデフォルトは、/usr/dt/config/sys.dtprofilesys.dtprofile fileです。シェルシステム共通のカスタマイズsys.dtprofileスクリプトをカスタマイズするには、sys.dtprofileを/usr/dt/configから/etc/dt/configにコピーし、新規ファイルを編集します。
# Xsession.d スクリプトの参照Xsession.d ディレクトリ〜のスクリプト


`HomeDirectory`/.dtprofileスクリプトを参照した後で、XsessionスクリプトはXsession.dスクリプトを参照します。これらのスクリプトは追加する環境変数を設定し、ユーザのセッションに対して任意のデーモンを起動するために使用されます。デフォルトのXsession.dスクリプトは次のとおりです。

0010.dtpaths

カスタマイズ可能なデスクトップ検索パスを文書化します。

0020.dtims

任意の入力メソッド・サーバを起動します。

0030.dttmpdir

ユーザごと、セッションごとに一時的ディレクトリを作成します。

0040.xmbind

デスクトップ・デフォルトに$XMBINDDIRを設定します。

Xsession.dには追加されたベンダ固有のスクリプトがあることもあります。

Xsessionは最初に、/usr/dt/config/Xsession.dディレクトリにあるすべてのファイルを参照し、続いて/etc/dt/config/Xsession.dディレクトリにあるファイルを参照します。

デスクトップのデフォルトのXsession.dスクリプトは、/usr/dt/config/Xsession.dディレクトリに位置付けられます。Xsession.dスクリプトをカスタマイズするには、スクリプトを/usr/dt/config/Xsession.dから/etc/dt/config/Xsession.dにコピーし、新規ファイルを編集します。この作業を実行するには、実行権を持っていなければなりません。Xsession.d ディレクトリカスタマイズ

また、Xsessionがユーザ独自のスクリプトを自動的に参照するには、そのスクリプトを/etc/dt/config/Xsession.dXsession ファイルシステム共通のカスタマイズセッション・マネージャシステム共通のカスタマイズにコピーします。

Xsession.dスクリプトを変更または作成する場合、コマンドの所要時間はセッションの起動時間に直接影響を与えるため、発行したフォアグラウンド・コマンドが短期のものであることを確認します。フォアグラウンド・コマンドが終了していないセッションの起動はハングアップします。セッションの継続中に実行を続行したいXsession.dスクリプトで実行されるコマンドは、バックグラウンドで実行されます。
# ウェルカム・メッセージ表示ウェルカム・メッセージの表示


`HomeDirectory`/.dtprofileスクリプトとXsession.dスクリプトを参照した後、Xsessionは画面をカバーするウェルカム・メッセージを表示します。表示されるウェルカム・メッセージは、カスタマイズしたり、メッセージを完全にオフにすることができます。dthelloクライアントはメッセージを表示するのに使用します。

ウェルカム・メッセージカスタマイズメッセージ・テキストを変更するには、dtstart_hello[0]変数を変更することによりdthelloオプションを変更します。

dtstart_hello[0]を変更するには、新しい値を設定する/etc/dt/config/Xsession.dスクリプトを作成します。すべてのユーザにその日のメッセージを表示するには、実行可能なshまたはkshスクリプト（たとえば、/etc/dt/config/Xsession.d/myvarsを作成し、dtstart_hello[0]を次のように設定します。dtstart_hello[0]=&ldquo;/usr/dt/bin/dthello -file /etc/motd &amp;&ldquo;

同様に、ユーザは`HomeDirectory`/.dtprofileにdtstart_hello[0]を設定することにより、それらのセッションのウェルカム・メッセージを変更できます。

ウェルカム・メッセージをオフにするには、dtstart_hello[0]=&ldquo; &ldquo; を設定します。

dthelloの詳細については、dthelloのマニュアル・ページを参照してください。
# デスクトップ検索パスの設定セッション・マネージャ検索パスの設定検索パスセッション・マネージャによる設定


デスクトップ検索パスはdtsearchpathdtsearchpathによって、ログイン時に作成されます。dtsearchpathによって使用される環境変数のカテゴリには２種類あります。

入力変数

値がシステム管理者かエンド・ユーザによって設定されるシステム共通環境変数と個人用環境変数。

出力変数

dtsearchpathによって作成され、値が割り当てられた変数。各変数の値はデスクトップ・セッションの検索パスです。

dtsearchpathのコマンド行オプションを変更するには、dtstart_searchpath変数を変更します。すべてのユーザのdtstart_searchpath variabledtstart_searchpath変数を変更するには、実行可能なshまたはkshスクリプト（たとえば、/etc/dt/config/Xsession.d/myvars）を作成し、dtstart_searchpathを次のように設定します。dtstart_searchpath=&ldquo;/usr/dt/bin/dtsearchpath&ldquo;

同様に、`HomeDirectory`/.dtprofileにdtstart_searchpathを設定することによってのみユーザのセッションのdtsearchpathオプションを変更できます。

dtsearchpathの詳細については、を参照してください。dtsearchpathオプションの詳細については、dtsearchpathのマニュアル・ページを参照してください。
# 使用可能なアプリケーションの収集


デスクトップ検索パスの設定の次の手順は、dtappgatherを使用して使用可能なアプリケーションを収集することです。アプリケーション・マネージャアプリケーションの収集セッション・マネージャアプリケーションの収集アプリケーションセッション・マネージャによる収集dtappgatherdtappgatherのコマンド行オプションを変更するには、dtstart_appgather変数を変更します。すべてのユーザのdtstart_appgather 変数dtstart_appgatherを変更するには、実行可能なshまたはkshスクリプト（たとえば、/etc/dt/config/Xsession.d/myvars）を作成し、dtstart_appgatherを次のように設定します。dtstart_appgather=&ldquo;/usr/dt/bin/dtappgather &amp;&ldquo;

同様に、`HomeDirectory`/.dtprofileにdtstart_appgatherを設定することによってのみユーザのセッションのdtappgatherオプションを変更できます。

dtappgatherオプションの詳細については、dtappgather(4)のマニュアル・ページを参照してください。
# オプションとしての .profile または .login スクリプトの参照環境変数.login または .profile の参照シェル.profile または .login の参照.profile ファイル〜の参照.login ファイル〜の参照


Xsessionは、従来の`HomeDirectory`/.profileスクリプトまたは`HomeDirectory`/.loginスクリプトを参照できます。デフォルトではこの機能は使用できません。Xsessionに.profileスクリプトまたは.loginスクリプトを参照するように通知するには、DTSOURCEPROFILE 変数DTSOURCEPROFILEにtrueを設定します。

すべてのユーザのDTSOURCEPROFILEを変更するには、新しい値を設定する/etc/dt/config/Xsession.dスクリプトを作成します。すべてのユーザに対してDTSOURCEPROFILEにtrueを設定するには、実行可能なshまたはkshスクリプト（たとえば、/etc/dt/config/Xsession.d/myvars,）を作成し、DTSOURCEPROFILEを次のように設定します。DTSOURCEPROFILE=true

同様に、`HomeDirectory`/.dtprofileでDTSOURCEPROFILEにtrueを設定することによって、ユーザのセッションのDTSOURCEPROFILEを変更できます。
# ToolTalk メッセージ・デーモンの起動ToolTalkメッセージ・デーモン


ToolTalk メッセージ・デーモンのttsessionにより、互いに依存しないアプリケーションはお互いについて直接認識していなくても交信することができます。アプリケーションは、お互いに交信できるように ToolTalk メッセージを作成して送信します。ttsessionはネットワーク上で交信し、メッセージを配信します。

ttsession起動ttsessionのコマンド行オプションを変更するには、dtstart_ttsession変数を変更します。すべてのユーザのdtstart_ttsession 変数dtstart_ttsession変数を変更するには、実行可能なshまたはkshスクリプトを（たとえば、/etc/dt/config/Xsession.d/`myvars`）を作成し、dtstart_ttsessionを次のように設定します。dtstart_ttsession=&ldquo;/usr/dt/bin/ttsession -s&ldquo;

同様に、`HomeDirectory`/.dtprofileにdtstart_ttsessionを設定することによってユーザのセッションのttsessionオプションを変更できます。

ttsessionオプションの詳細については、ttsessionのマニュアル・ページを参照してください。ttsessionの詳細については、Getting Started Using ToolTalk Messagingを参照してください。
# セッション・マネージャ・クライアントの起動セッション・マネージャクライアント


この時点で、Xsessionは/usr/dt/bin/dtsessionを起動し、セッション起動プロセスを続行します。
# セッション・リソースの読み込みセッション・マネージャリソースの読み込みリソース読み込み


セッション・マネージャはＸサーバのRESOURCE_MANAGER属性を使用して、デスクトップ・リソースをすべてのアプリケーションに対して使用可能にします。次の手順を実行することにより、セッション・マネージャはRESOURCE_MANAGERを読み込みます。

システムのデフォルト・リソースを読み込む

システム管理者によって指定されたシステム共通リソースをマージする

ユーザ指定のリソースをマージする

デスクトップのデフォルト・リソースは/usr/dt/config/`language`sys.resources ファイルリソースデフォルト・デスクトップ/sys.resourcesにあります。これらのリソースは、RESOURCE_MANAGER属性を介して各ユーザ・セッションに対して使用可能にされます。このファイルはその後のデスクトップのインストール時に上書きされてしまうので、編集しないでください。

/etc/dt/config/`language`sys.resources ファイル/sys.resourcesを作成することによって、システムのデフォルト・リソースを引き数にすることができます。このファイルでは、デフォルト・リソースを無効にしたり、すべてのデスクトップのユーザに対して追加のリソースを指定できます。このファイルは、セッションの起動中にデスクトップのデフォルト・リソースにマージされるため、新規のまたは更新されたリソースの指定だけをこのファイルに格納してください。このファイルに指定されたリソースは、RESOURCE_MANAGER属性を介して各ユーザのセッションに対して使用可能になります。このファイルに指定されたリソースは、デスクトップのデフォルト・リソース・ファイルで指定されたものよりも優先されます。

`HomeDirectory`/.Xdefaultsファイルを使用して、デスクトップのデフォルト・リソースおよびシステム共通リソースを増やすことができます。このファイルに指定されたリソースは、RESOURCE_MANAGER属性を介してユーザのセッションに対して使用可能にされます。このファイルに指定されたリソースは、デスクトップのデフォルト・リソース・ファイルまたはシステム管理者のリソース・ファイルで指定されたものよりも優先されます。

Ｘツールキット・イントリンシクス・ユーティリティは、RESOURCE_MANAGER 属性RESOURCE_MANAGERか`HomeDirectory`/.Xdefaultsのどちらかからアプリケーションのリソースを読み込むように指定します。通常、これはユーザの`HomeDirectory`/.Xdefaultsファイルが無視されることを意味します。しかし、セッション・マネージャは上述のように、セッションの起動時に`HomeDirectory`/.Xdefaults ファイル [Xdefaults ファイル].XdefaultsをRESOURCE_MANAGERにマージすることにより、それを格納します。`HomeDirectory`/.Xdefaultsを変更する場合、[リソースの再読込み]アクション[リソースの再読込み]アクションを起動するまで新規アプリケーションはこの変更を表示できません。[リソースの再読込み]アクションは、デフォルト・リソース、システム共通リソース、およびユーザ指定のリソースでRESOURCE_MANAGERを再読み込みするようにセッション・マネージャに通知します。これにより、システム共通リソース・ファイルと個人用リソース・ファイルをアプリケーションが使用できるように変更されます。

詳細については次を参照してください。



dtresourcesfile(4)のマニュアル・ページ
# カラー・サーバの起動カラー・サーバ起動


セッション・マネージャは、デスクトップのカラー・サーバリソースカラー・サーバとして機能し、そのサーバを構成するのに使用できる次のようなdtsessionリソースのセットを提供します。

foregroundColorforegroundColor リソース

フォアグラウンド・カラーにピクセルを割り当てるかどうかを制御する。

dynamicColordynamicColor リソース

読み込み専用カラーを割り当てるかどうかを指定する。

shadowPixmapsshadowPixmaps リソース

トップ・シャドウまたはボトム・シャドウにカラーを割り当てるかどうかを指定する。

colorUsecolorUse リソース

カラーの割り当てを制限する。

writeXrdbColorswriteXrdbColors リソース

*backgroundリソースと*foregroundリソースをリソース・データベースに格納するかどうかを指定する。

/etc/dt/config/`language`/sys.resourcesを作成し、そのファイルの中にカラー・サーバを指定して、すべてのユーザに対してカラー・サーバのリソースを設定できます。

同様に、`HomeDirectory`/.Xdefaultsにカラー・サーバのリソースを指定することによって、ユーザのセッションに対してのカラー・サーバのリソースを設定できます。

カラー・サーバのリソース設定の詳細については、を参照してください。
# ワークスペース・マネージャの起動ワークスペース・マネージャ起動セッション・マネージャワークスペース・マネージャの起動


セッション・マネージャは、ワークスペース・マネージャを起動します。デフォルトでは、/usr/dt/bin/ワークスペース・マネージャ起動dtwmが起動されます。wmStartupCommand リソースウィンドウ・マネージャ変更wmStartupCommandリソースを使用すると、代わりのウィンドウ・マネージャを指定できます。

/etc/dt/config/`language`/sys.resourcesを作成し、そのファイルにあるDtsession*wmStartupCommandリソースで絶対パス名とウィンドウ・マネージャのオプションを指定して、すべてのユーザのための代わりのウィンドウ・マネージャを指定できます。

同様に、`HomeDirectory`/.XdefaultsにDtsession*wmStartupCommandリソースを指定することによって、ユーザのセッションのための代わりのウィンドウ・マネージャを指定できます。

ウィンドウ・マネージャの詳細については、を参照してください。
# セッション・アプリケーションの起動アプリケーションログイン時の起動セッション・マネージャアプリケーションの起動


セッションの起動時に、セッション・マネージャはセッションの一部として保存されたアアプリケーションを再起動します。ユーザの初期セッションの一部として復元されるアプリケーション・システムのデフォルトのセットは、/usr/dt/config/`language`/sys.sessionにあります。このファイルは、その後のデスクトップのインストール時に必ず上書きされるため、編集しないでください。

詳細については、dtsessionfile(4)およびdtsessiondb(4)のマニュアル・ページを参照してください。sys.session ファイル

システム管理者は/usr/dt/config/`language`/sys.sessionを/etc/dt/config/`language`/sys.sessionにコピーし、コピーしたファイルを変更することにより、ユーザの初期セッションの一部として起動されるアプリケーションのセットを置き換えることができます。リソース・ファイルとは異なり、このファイルはデスクトップのデフォルト・ファイルを完全に置き換えたものとして使用されるため、システムのデフォルト・ファイルのコピーを作成し、必要な変更を行うことができます。セッション・マネージャアプリケーション起動のカスタマイズ
# その他のセッション起動のカスタマイズ


この節では次のことについて説明します。

環境変数の設定

リソースの設定

ディスプレイに依存するセッションの使用

ログイン時のスクリプトの実行

バックアップ・セッションの復元
# 環境変数を設定するには環境変数設定変数環境、「環境変数」を参照してください


環境変数システム共通システム共通環境変数を設定するには、変数を設定して環境変数エクスポートエクスポートする/etc/dt/config/Xsession.dXsession.d ディレクトリディレクトリにファイルを作成します。

たとえば、実行可能なshまたはkshスクリプトである/etc/dt/config/Xsession.d/`myvars`を作成すると、次の行が含まれています。export MYVARIABLE=&ldquo;`value`&ldquo;

変数MYVARIABLEは、次のログイン時に各ユーザの環境に設定されます。

環境変数個人用個人用環境変数を設定するには、`HomeDirectory`.dtprofile ファイル〜の環境変数の設定/.dtprofileに変数を指定します。

たとえば、次の行により、変数MYVARIABLEは次のログイン時に各ユーザの環境に設定されます。export MYVARIABLE=&ldquo;`value`&ldquo;

セッション・マネージャは、.profile ファイルログイン・マネージャによって読み込まれない.profileまたは.login ファイルログイン・マネージャによって読み込まれない<$nopage>シェル「環境変数」、「.profile」、「.login」、「.dtprofile」も参照してください.loginファイルを自動的には読み込みません。しかし、これらのファイルを使用するために構成することはできます。を参照してください。
# リソースを設定するにはリソース設定


システム共通リソースを設定するには、/etc/dt/config/`language`/sys.resourcesファイルにリソースを追加します（ファイルを作成しなければならないかもしれません）。sys.resources ファイル

.dtprofile ファイル構文.dtprofileは/bin/shまたは/bin/ksh構文だけをサポートします。

たとえば、/etc/dt/config/C/sys.resourcesに次の行を指定すると、リソースAnApplication*resourceは次のログイン時に各ユーザのRESOURCE_MANAGER属性に設定されます。RESOURCE_MANAGER 属性AnApplication*resource:`value`

個人用リソースを設定するには、`HomeDirectory`/.Xdefaultsファイルにリソースを追加します。
# ディスプレイ固有のリソースを設定するにはディスプレイ固有のリソースリソースディスプレイ固有


システム上のすべてのデスクトップ・ユーザに対してディスプレイに固有のリソースを設定できます。また、ユーザのセッションに制限されたディスプレイに固有のリソースを設定できます。この設定により、ユーザがデスクトップにログインするディスプレイに応じてリソースを指定することができるようになります。

システム上のすべてのデスクトップ・ユーザのディスプレイに固有のリソースを設定するには、ディスプレイに固有のリソースを指定する/etc/dt/config/`language`/sys.resourcesファイルを作成します。

個人用ディスプレイに固有のリソースを設定するには、`HomeDirectory`/.Xdefaultsファイルにリソースを設定します。

cpp statementscpp条件文でこれらのリソースを囲むことにより、リソースを区切ります。DISPLAY_displayname マクロDISPLAY_displaynameマクロが$DISPLAY変数の値に応じて定義されます。これは、すべての . (ビリオド) と : (コロン) 文字を _ (下線文字) に変換し、画面の指定を取り除き、最後にDISPLAY_という接頭辞をその結果に付けることによって行われます。

たとえば:0の$DISPLAYはDISPLAY_0になり、blanco.gato.com:0.0の$DISPLAYはDISPLAY_blanco_gato_com_0になります。結果の値は、セッションのリソース・ファイルのcppテストの一部として使用できます。たとえば、/etc/dt/config/C/sys.resourcesでは、次のように指定します。Myapp*resource: value
#ifdef DISPLAY_blanco_gato_com_0
Myapp*resource: specialvalue1
#endif
#ifdef DISPLAY_pablo_gato_com_0
Myapp*resource: specialvalue2
#endif

この場合、リソースMyApp*resourceは、ディスプレイblanco.gato.com:0にログインするときはspecialvalue1に対して、pablo.gato.com:0にログインするときはspecialvalue2に対して、別のディスプレイにログインするときはvalueに対して、それぞれRESOURCE_MANAGERに設定されます。
# 初期セッションのアプリケーションを変更するにはセッション初期


ユーザの初期セッションの一部として起動する代わりのアプリケーションを指定できます。

/usr/dt/config/`language`/sys.sessionを/etc/dt/config/`language`/sys.sessionにコピーします。

新規のsys.session ファイルsys.sessionファイルを変更します。

sys.sessionにある各エントリは次のように表示されます。dtsmcmd -cmdcommand_and_optionsdtsmcmd コマンド

ユーザの初期セッションの一部として追加のアプリケーションを起動するには、絶対パス名で新しいsys.sessionエントリを指定します。たとえば、ユーザの初期セッションの一部として/usr/bin/X11/xclockを起動するにはxclockエントリを/etc/dt/config/C/sys.resourcesに追加します。#
# Start up xclock...
#
dtsmcmd -cmd &ldquo;/usr/bin/X11/xclock -digital&ldquo;
# ディスプレイ固有のセッションを設定するにはセッションディスプレイ固有ディスプレイ固有のセッション


特定のディスプレイに合わせてセッションを調節するように、ディスプレイに固有のセッションを設定できます。

`HomeDirectory`/.dt/セッション・ディレクトリsessionsディレクトリを`HomeDirectory`/.dt/`display`にコピーします。この場合、`display`は実際に存在する修飾していないホスト名です（pablo:0は有効で、pablo.gato.com:0やunix:0は無効です）。

たとえば、ディスプレイpablo.gato.com:0のディスプレイに固有のセッションを作成するには、次のように指定します。cp -r`HomeDirectory`/.dt/sessions`HomeDirectory`/.dt/pablo:0

ディスプレイpablo.gato.com:0に次にログインしたときには、セッション・マネージャはそのディスプレイに固有のセッションを起動します。
# セッションの起動時とログアウト時の追加コマンドの実行


デスクトップ・セッションにログインしたときに、追加コマンドが起動されるように指定できます。これは、セッション・マネージャが保存しないＸの設定を行う場合に有用です。たとえば、ユーザはxsetrootを使用してルート（ワークスペース）・ポインタをカスタマイズできます。また、もうひとつの使用方法としては、セッション・マネージャによって保存および復元することができないアプリケーションを起動することです。セッションが復元されたときにアプリケーションが再起動しない場合、ユーザはこの方法を使用してクライアントを起動できます。
# セッションの起動時に追加コマンドを実行するにはセッション・マネージャ追加コマンドの実行セッション起動時のコマンド実行


コマンドが入っている`HomeDirectory`/.dt/sessions/sessionetcファイルを作成します。sessionetc ファイル

一般的にこのファイルはスクリプトで、実行権を持っていなければなりません。sessionetcで起動されるプロセスは、バックグラウンドで実行されなければなりません。

セッション・マネージャによって自動的に復元されるクライアントを起動するためにsessionetcを使用しないでください。使用すると、複数のアプリケーションのコピーが起動されてしまいます。ウィンドウは、もうひとつのウィンドウの上部に重なることがあるので、コピーをすぐに見つけられない可能性があります。
# ログアウト時に追加コマンドを実行するにはセッションログアウト時のコマンド実行セッション・マネージャログアウト時のコマンド実行


sessionetcに付属したファイルはsessionexit ファイルsessionexitです。セッション・マネージャが処理しないセッション終了時のオペレーションのいくつかを実行するには、sessionexitを使用します。

ファイル`HomeDirectory`/.dt/sessions/sessionexitを作成します。

sessionetcと同様に、このファイルは通常は実行権を持っているスクリプトです。
# バックアップからセッションを復元するにはセッション復元セッション・マネージャセッションのバックアップセッションバックアップ


セッション・マネージャがセッションを保存すると、ディスプレイに固有のセッションを使用している場合は、セッション情報が`HomeDirectory`/.dt/sessionsディレクトリか`HomeDirectory`/.dt/`display`ディレクトリに保存されます。現在のセッションまたはホーム・セッションそれぞれに関する情報を格納するために、セッション・マネージャはcurrentまたはhomeという名前のサブディレクトリをこれらのディレクトリに作成します。セッション情報が格納される前に、セッション・マネージャはその名前で以前のセッションのバックアップを作成し、current.old ディレクトリcurrent.oldまたはhome.old ディレクトリhome.oldに格納します。

ログイン画面から[復旧セッション]か[コマンド行ログイン]を使用してログインします。

バックアップのセッション・ディレクトリを有効な名前にコピーします。たとえば、バックアップのホーム・セッションを復元するためには次のようにします。cp -r`HomeDirectory`/.dt/sessions/home.old`HomeDirectory`/.dt/sessions/home

ディスプレイに固有のセッションも同じ方法で復元できます。
# セッションの起動に関する問題を調べるにはセッション・マネージャエラー・ログセッション・マネージャトラブルシュート


`HomeDirectory`/.dt/startlogファイルをチェックします。startlog ファイルセッションエラーのログ採取

startlogファイルには、セッション・マネージャから（セッション・マネージャのホスト上で）起動されたアプリケーションからの出力 (stderr) が格納されます。
# セッション・マネージャのファイルとディレクトリ構成ファイルセッション・マネージャセッション・マネージャファイルセッション・マネージャディレクトリ


/usr/dt/bin/Xsession

/usr/dt/config/Xsession.d/*

/usr/dt/bin/dtsession

/usr/dt/bin/dtsession_res

`HomeDirectory`/.dt/sessions/current

`HomeDirectory`/.dt/sessions/home

`HomeDirectory`/.dt/`display`/current

`HomeDirectory`/.dt/`display`/home