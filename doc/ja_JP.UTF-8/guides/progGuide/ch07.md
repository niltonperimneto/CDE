
# 共通デスクトップ環境の Motif ウィジェット


共通デスクトップ環境は、Motif ツールキットを提供します。Motif ライブラリライブラリMotifウィジェットMotifさらに、
共通デスクトップ環境 は、OPEN LOOK 互換性互換性OPEN LOOKOPEN LOOK&trade;とMWウィンドウ互換性互換性MWウィンドウMicrosoft&reg; ウィンドウの特定の機能を提供するために使用できる４つのカスタム・ウィジェットを提供します。
この章では、Motifカスタム・ウィジェットについて説明します。











ウィジェットライブラリライブラリウィジェット<Filename>libDtWidget<Default Para Font>ライブラリライブラリ<Filename>libDtWidget<Default Para Font>ウィジェット・ライブラリ、libDtWidgetには、既存のMotif 2.1ウィジェットの機能を組み合わせたり、拡張する４つのウィジェットがあります。
:

<Filename>DtSpinBox<Default Para Font> ウィジェットウィジェット<Filename>DtSpinBox<Default Para Font>ウィジェットテキスト・フィールドと矢印ボタンテキスト・フィールドと矢印ボタン・ウィジェット矢印ボタンとテキスト・フィールド・ウィジェットウィジェット矢印ボタンとテキスト・フィールドDtSpinBoxは、テキスト・フィールドと矢印ボタンを組み合わせたコントロールを作成して、数値またはテキスト値を増減できます。
これは、XmSimpleSpinBoxによります。

<Filename>DtComboBox<Default Para Font> ウィジェットウィジェット<Filename>DtComboBox<Default Para Font>、ウィジェットテキスト・フィールド とリスト・ボックスウィジェットリスト・ボックスとテキスト・フィールドリスト・ボックスとテキスト・フィールド・ウィジェットテキスト・フィールドとリスト・ボックス・ウィジェットDtComboBoxは、テキスト・フィールドとリスト・ボックスを組み合わせたコントロールを作成して、テキスト・フィールドに対する多数の有効な選択項目の１つを表示します。
これは、XmComboBoxによります。

<Filename>DtMenuButton<Default Para Font> ウィジェットウィジェット<Filename>DtMenuButton<Default Para Font>メニュー・ウィジェット、ポップアップポップアップ・メニュー・ウィジェットウィジェットポップアップ・メニューDtMenuButtonは、メニュー・バーの外側にメニュー階層式機能階層式メニュー機能機能階層式メニューメニュー階層式機能を提供します。

<Filename>DtEditor<Default Para Font> ウィジェットウィジェット<Filename>DtEditor<Default Para Font>ウィジェットテキスト・エディタテキスト・エディタ・ウィジェットエディタ・ウィジェットDtEditorは、カット＆ペーストなどの単純なテキスト・エディタ関数を組み込みます。

これらのウィジェットは、すべての共通デスクトップ環境アプリケーションに共通の機能を提供します。
これらのウィジェットは、サブクラス化はサポートしていません。

カスタム・ウィジェット・ライブラリは、次のライブラリに直接依存します。:

XmMotifスーパークラスのサポートについてはXmライブラリ

ウィジェットの作成と操作についてはXtライブラリ

ベースX ウィンドウ・システムについてはX11ライブラリ

DtEditorが使用するデスクトップ・サポートについてはDtSvc
# 共通デスクトップ環境のMotifの使い方


CDE Motif ツールキットMotif ツールキットツールキット、 Motif共通デスクトップ環境はMotif 2.1と４つのカスタム・ウィジェットからなります。
カスタム・ウィジェットは、この章で詳しく述べています。

共通デスクトップ環境は、Motif 1.2 アプリケーションとソースおよびバイナリの互換性があります。
既存のMotif 1.2 アプリケーションは、Motif 2.1 インクルード・ファイルを使用してコンパイルできます。
既存のMotif 1.2バイナリは、Motif 2.1ライブラリを使用して変更を行うことなく実行できます。
# MotifライブラリMotifライブラリライブラリMotif


Motif 2.1およびX11R6.2 ライブラリは、Xウィンドウ・システム用の共通デスクトップ環境のMotif準拠アプリケーションを開発するために使用します。
# Motifライブラリ(libXm)


共通デスクトップ環境 は、すべてのMotif ヘッダ・ファイルヘッダ・ファイルMotifMotif 2.1 ヘッダ・ファイルを提供します。
# Motif UIL ライブラリ(libUil)Motif UIL ライブラリライブラリMotif UILライブラリ<Filename>libUil<Default Para Font><Filename>libUil<Default Para Font>


Motif ユーザ・インタフェース言語 (UIL)Motif アプリケーションのユーザ・インタフェースの初期状態を記述するための指定言語です。

UILにアクセスするには、ヘッダ・ファイルMotif UIL ライブラリMotif UIL ライブラリヘッダ・ファイル<Filename>UilDef.h<Default Para Font>ヘッダ・ファイル<Filename>Uil.Def.h<Default Para Font>uil/UilDef.hヘッダ・ファイルを組み込みます。
# Motif リソース・マネージャ・ライブラリ(libMrm)Motifリソース・マネージャ・ライブラリライブラリMotifリソース・マネージャライブラリ<Filename>libMrm<Default Para Font><Filename>libMrm<Default Para Font> ライブラリ


Motifリソース・マネージャ(MRM)は、UILコンパイラが作成したユーザ・インタフェース定義(UID) ファイルにある定義に基づいて、ウィジェットを作成します。
MRMは、UILコンパイラの出力を解釈し、ウィジェット作成関数に対する適切な引数リストを生成します。
Motifリソース・マネージャにアクセスするには、libMrmを使用します。

アプリケーションの中でlibMrmにアクセスするには、Motif リソース・マネージャ・ヘッダ・ファイル<Filename>MrmPublic.h<Default Para Font> ヘッダ・ファイルヘッダ・ファイル<Filename>MrmPublic.h<Default Para Font>Mrm/MrmPublic.hヘッダ・ ファイルを組み込みます。
# 強化機能強化機能強化機能


Motif 2.1 は、OPEN LOOKおよびMicrosoft Windowsのユーザにとってより使いやすくするためのマイナー強化が含まれています。
より使いやすくするための機能としては、次のものがあります。:

3ボタン・マウスのボタン２を使用して現在の選択を広げることができます。
この機能は、OPEN LOOKマウス機能マウス機能、 OPEN LOOKOPEN LOOK
ADJUST マウス・ボタンに相当します。

タブ・ナビゲーションナビゲーション、タブタブを使用して、PushButtonウィジェットとガジェット、ArrowButtonウィジェットとガジェット、およびDrawnButtonウィジェットのグループ内を移動できます。

ボタン 3でCascadeButtonメニューを起動できます。

<Filename>XmFileSelectionBox<Default Para Font> ウィジェット・リソースリソース<Filename>XmFileSelectionBox<Default Para Font> ウィジェットウィジェット<Filename>XmFileSelectionBox<Default Para Font>XmFileSelectionBoxウィジェットに３つの新しいリソース(pathMode, fileFilterStyle,、およびdirTextLabelString)を提供し、新しいルック・アンド
・フィールドを与えます。XmFileSelectionBoxの新しいリソースの詳細については、共通デスクトップ環境:
プログラマ概要を参照してください。

Motif仮想キーに複数のキーを割り当てることによって、OPEN LOOKおよびMicrosoft Windowsとの相互運用を可能にします。

上記の拡張機能はそれぞれ
ウィジェット・リソース(XmFileSelectionBox)またはアプリケーション全体のリソース
(その他すべて)によって制御できます。このリソースのデフォルト値は、Motif 1.2と同一の動作とAPIを提供します。
これらの拡張機能とリソースの詳細については、XmDisplay(3x)およびXmFileSelectionBox(3x)のマニュアル・ページを参照してください。
# 外観の強化Motif外観の強化外観の強化、Motif強化、外観のMotif


共通デスクトップ環境では、次の点で Motifの外観を変更します。
:

RadioBoxの塗りつぶしカラーが、状態をより明確に示すように変更されます。

RadioBoxの形がダイヤモンド形から円形に変更されます。

状態をより明確に示すように、CheckBoxにチェック絵文字が追加されます。

CascadeButtonsとメニュー項目が、アクティブなときには境界に刻み目が付けられるように変更されます。

スケールと区別するために、読みとり専用スケールからつまみが削除されます。

デフォルトのシャドウの太さが、１ピクセルに変更されます。

デフォルトのハイライトの太さが、１ピクセルに変更されます。

デフォルトのPushButtonの外観は、ボタンのデフォルトのシャドウの内側にハイライトを描きます。

アプリケーション全体のリソースは、これらの強化機能のそれぞれを制御することができます。
これらのリソースのデフォルト値は、Motif 1.2と同一の動作とAPI を提供します。

これらの強化機能の詳細については、XmDisplay(3)、XmPushButton(3)、XmPushButtonGadget(3)、XmToggleButton(3)、XmToggleButtonGadget(3)、およびXmScale(3)のマニュアル・ページを参照してください。
# テキスト・フィールドと矢印ボタン・ウィジェット
(DtSpinBox)テキスト・フィールドと矢印ボタン・ウィジェットウィジェットテキスト・フィールドと矢印ボタンウィジェット矢印ボタンと
テキスト・フィールドウィジェット<Filename>DtSpinBox<Default Para Font><Filename>DtSpinBox<Default Para Font> ウィジェット


DtSpinBoxは、循環ウィジェットウィジェット循環テキスト項目のリストを循環させたり、数値入力を増減するために使用します。DtSpinBoxは、XmManagerクラスのサブクラスであり、テキスト・フィールド と２個の矢印を表示するために使用されます。

DtSpinBoxウィジェットは、増減ウィジェットウィジェット増減増減ウィジェット任意のテキストまたは数値フィールドを増減するために使用されるユーザ・インタフェース・コントロールです。
たとえば、１年の各月または１カ月の各日を循環させることができます。に、DtSpinBoxウィジェットの例を示します。
# DtSpinBox ウィジェットの例<Filename>DtSpinBox<Default Para Font>ウィジェット、図

# ライブラリとヘッダ・ファイルヘッダ・ファイル<Filename>Dt/SpinBox.h<Default Para Font><Filename>Dt/SpinBox.h<Default Para Font> ヘッダ・ファイルライブラリ<Filename>libDtWidget<Default Para Font><Filename>libDtWidget<Default Para Font> ライブラリ


DtSpinBoxウィジェットは、ウィジェット<Filename>libDtWidget<Default Para Font> ライブラリlibDtWidgetライブラリにあります。ヘッダ・ファイルは、Dt/SpinBox.hです。
# デモ・プログラムウィジェットデモ・プログラムデモ・プログラムウィジェット


DtSpinBoxウィジェット の使用例が入っているデモが、/usr/dt/examples/dtwidget/controls.cにあります。
# XmSimpleSpinBoxへの変更互換性Motif 2.1 <Filename>XmSimpleSpinBox<Default Para Font><Filename>DtSpinBox<Default Para Font>、Motif 2.1との互換性


Motif 2.1DtSimpleSpinBoxウィジェットを使用するには、クラス、型、および作成 ルーチンのDt名をXmに変更します。
たとえば、コードの中に出てくるDtSpinBoxのすべてをXmSimpleSpinBoxに変更します。
一方既存のコードを`-DDT_USE_XM_SSPINBOX`でコンパイルすることもできます。
この情報は、CDE 1.0 アプリケーションを修正して、Motif 2.1 ウィジェットを使用する場合を配慮して提供されます。
# 簡易関数簡易関数<Filename>DtSpinBox<Default Para Font>ウィジェット<Filename>DtSpinBox<Default Para Font>簡易関数


DtSpinBoxウィジェットのための簡易関数をにリストします。
詳細については、DtSpinBox(3)のマニュアル・ページを参照してください。
# DtSpinBox 簡易関数


`関数`

`説明`

DtCreateSpinBox()

SpinBox ウィジェットを作成します。

DtSpinBoxAddItem()

DtSpinBoxウィジェットの指定された位置に項目を追加します。

DtSpinBoxDeletePos()

指定された項目をDtSpinBoxウィジェットから削除します。

DtSpinBoxSetItem()

DtSpinBoxウィジェットに項目を設定します。
# クラス<Filename>DtSpinBox<Default Para Font>クラスクラス<Filename>DtSpinBox<Default Para Font>


DtSpinBoxWidgetは、Core、Composite、Constraint、およびXmManagerクラスから動作とリソースを継承します。

クラス・ポインタは、dtSpinBoxWidgetClass

クラス名は、DtSpinBoxWidgetです。

DtSpinBoxWidgetは、サブクラス化をサポートしません。
# リソースリソース<Filename>DtSpinBox<Default Para Font><Filename>DtSpinBox<Default Para Font>リソース


DtSpinBoxウィジェットは、次のウィジェット・リソースのセットを定義します。各リソースのクラス、
型、デフォルト、およびアクセスをにリストします。

DtNarrowLayoutは、DtSpinBoxの矢印のスタイルと位置を指定します。

DtNarrowSensitivityは、DtSpinBoxの矢印の感度を指定します。

DtNspinBoxChildTypeは、DtSpinBoxのスタイルを指定します。

DtNdecimalPointsは、子の型 が数値のとき、整数値の中の小数点の位置を指定します。

DtNincrementValueは、子の型 が数値のとき、位置を増減する量を指定します。

DtNinitialDelayは、矢印ボタンが連続スピンを始めるまでの時間をミリ秒単位で指定します。

DtNnumValuesは、子の型 が文字列のとき、DtNvaluesリストの項目数を指定します。

DtNvaluesは、子の型のリソースが文字列のとき、循環する文字列のリストを指定します。

DtNmaximumValueは、子の型が数値のとき、DtSpinBoxの上限を指定します。

DtNminimumValueは、子の型が数値のとき、DtSpinBoxの下限を指定します。

DtNmodifyVerifyCallbackは、DtSpinBoxの位置が変わる直前に呼び出されます。 アプリケーションは、このコールバックを使用して、新しい位置の設定、特定の値までのスピン、または実行直前の取り消しなど、アプリケーション関連の新しい論理を実現することができます。

DtNpositionは、子の型のリソースによって異なる値を持ちます。子の型が文字列のとき、DtNpositionは、現在の項目のDtNvaluesリストの索引です。
子の型が数値のとき、DtNpositionは、最大値から最小値までの範囲内のDtSpinBoxの整数値です。

DtNrepeatDelayは、ユーザがDtSpinBoxをスピンしているときにDtNvalueChangedCallbackを呼び出す間隔を指定するミリ秒単位の数値です。

DtNvalueChangedCallbackは、スピン矢印の使用によってDtNpositionリソースの値が変更されるときに必ず呼び出されます。

詳細については、DtSpinBox(3) のマニュアル・ページを参照してください。
# DtSpinBoxWidgetリソース


`名前`

`クラス`

`型`

`デフォルト`

`アクセス`

DtNarrowLayout

DtCArrowLayout

unsigned char

DtARROWS_END

CSG

DtNarrowSensitivity

DtCArrowSensitivity

unsigned char

DtARROWS_SENSITIVE

CSG

DtNspinBoxChildType

DtCSpinBoxChildType

unsigned char

DtSTRING

CG

DtNdecimalPoints

DtCDecimalPoints

short

0

CSG

DtNincrementValue

DtCIncrementValue

int

1

CSG

DtNinitialDelay

DtCInitialDelay

unsigned int

250 ms

CSG

DtNnumValues

DtCNumValues

int

0

CSG

DtNvalues

DtCValues

XmStringTable

NULL

CSG

DtNmaximumValue

DtCMaximumValue

int

10

CSG

DtNminimumValue

DtCMinimumValue

int

0

CSG

DtNmodifyVerifyCallback

DtCCallback

XtCallbackList

NULL

C

DtNposition

DtCPosition

int

0

CSG

DtNrepeatDelay

DtCRepeatDelay

unsigned int

200 ms

CSG

DtNvalueChangedCallback

DtCCallback

XtCallbackList

NULL

C
# コールバックのための構造体<Filename>DtSpinBox<Default Para Font>コールバックのための構造体コールバックのための構造体<Filename>DtSpinBox<Default Para Font>


コールバックのための構造体を次に示し、で説明します。typedef struct {
 int`reason`;
 XEvent`*event`;
 Widget`widget`;
 Boolean`doit`;
 int`position`;
 XmString`value`;
 Boolean`crossed_boundary`;
} DtSpinBoxCallbackStruct;
# DtSpinBox コールバック


`コールバック`

`説明`

`reason`

このコールバックは、３つの実行可能なreasonを使用します。スピンの最初にコールバックへの最初の呼び出しを行う、またはスピン矢印の１つを起動する場合には、DtCR_OKがreasonです。DtSpinBoxが連続でスピンしている場合のreasonは、スピンしている矢印に応じてDtCR_SPIN_NEXTかDtCR_SPIN_PRIORになります。

`event`

このコールバックが呼び出される原因となったイベントへのポインタDtSpinBoxが連続でスピンしているときにはNULLになります。

`widget`

スピンによって影響を受けるテキスト・ウィジェットのウィジェット識別子

`doit`

この値は、call_dataがDtNmodifyVerifyCallbackから来るときだけ設定します。modifyVerify コールバックの場合、アプリケーションがこのフィールドをどのように設定するかによって、コールバックを開始したアクションを実行するかどうか決まります。
このフィールドにアクションが設定 されたときには、アクションは実行されません。

`position`

スピンの結果として得られるDtNpositionリソースの新しい値。

`value`

スピンの結果として得られるテキスト・ウィジェットに表示される新しいXmStringの値。
この文字列をcall_data構造体の範囲を越えて使用する場合には、コピーしなければなりません。

`crossed_boundary`

この論理値は、スピン・ボックスが循環するとき、および（または）XmSTRINGのDtNspinBoxChildTypeが最初の項目から最後の項目へ、または最後の項目から最初の項目へ続くときにはTrueです。DtNspinBoxChildTypeがXmNUMERICのとき、DtSpinBoxが最大値から最小値まで、または最小値から最大値まで循環するときには、Trueです。
# DtSpinBox ウィジェットの例<Filename>DtSpinBox<Default Para Font>例　コードコード　例<Filename>DtSpinBox<Default Para Font>


次の例は、DtSpinBoxウィジェットの作成方法と使用方法を示しています。
このコードは、/usr/dt/examples/dtwidgetディレクトリのcontrols.cデモの一部です。/*
 * Example code for SpinBox
 */

#include &lt;Dt/SpinBox.h>

static char *spinValueStrings[] = {
 &ldquo;alpha&rdquo;, &ldquo;beta&rdquo;, &ldquo;gamma&rdquo;, &ldquo;delta&rdquo;,
 &ldquo;epsilon&rdquo;, &ldquo;zeta&rdquo;, &ldquo;eta&rdquo;, &ldquo;theta&rdquo;,
 &ldquo;iota&rdquo;, &ldquo;kappa&rdquo;, &ldquo;lambda&rdquo;, &ldquo;mu&rdquo;,
 &ldquo;nu&rdquo;, &ldquo;xi&rdquo;, &ldquo;omicron&rdquo;, &ldquo;pi&rdquo;,
 &ldquo;rho&rdquo;, &ldquo;sigma&rdquo;, &ldquo;tau&rdquo;, &ldquo;upsilon&rdquo;,
 &ldquo;phi&rdquo;, &ldquo;chi&rdquo;, &ldquo;psi&rdquo;, &ldquo;omega&rdquo;
};

static void ModifyVerifyCb(Widget, XtPointer, XtPointer);

static void CreateSpinBoxes(Widget parent)
{
    Widget titleLabel, spinBox;
    XmString *valueXmstrings;
    int numValueStrings;
    XmString labelString;
    Arg args[20];
    int i, n;

    /* Create value compound strings */

    numValueStrings = XtNumber(spinValueStrings);
 valueXmstrings = (XmString *)XtMalloc(numValueStrings
 sizeof(XmString*));
 for (i = 0; i &lt; numValueStrings; i++) {
  valueXmstrings[i] =
   XmStringCreateLocalized(spinValueStrings[i]);
    }

    /* Create title label */

    labelString = XmStringCreateLocalized(&ldquo;SpinBox Widget&rdquo;);
    n = 0;
    XtSetArg(args[n], XmNlabelString, labelString); n++;
    titleLabel = XmCreateLabel(parent, &ldquo;title&rdquo;, args, n);
    XtManageChild(titleLabel);
    XmStringFree(labelString);

 /*
 * Create a SpinBox containing string values.
 */

    n = 0;
    XtSetArg(args[n], DtNvalues, valueXmstrings); n++;
    XtSetArg(args[n], DtNnumValues, numValueStrings); n++;
    XtSetArg(args[n], DtNcolumns, 10); n++;
    spinBox = DtCreateSpinBox(parent, &ldquo;spinBox1&rdquo;, args, n);
    XtManageChild(spinBox);

    /*
  * Create a SpinBox containing numeric values to 3 decimal places.
  * Position the arrows on either side of the displayed value.
  */

    n = 0;
    XtSetArg(args[n], DtNspinBoxChildType, DtNUMERIC); n++;
    XtSetArg(args[n], DtNminimumValue, 1000); n++;
    XtSetArg(args[n], DtNmaximumValue, 100000); n++;
    XtSetArg(args[n], DtNincrementValue,1000); n++;
    XtSetArg(args[n], DtNdecimalPoints,3); n++;
    XtSetArg(args[n], DtNposition,1000); n++;
    XtSetArg(args[n], DtNarrowLayout,DtARROWS_SPLIT); n++;
    XtSetArg(args[n], DtNcolumns, 10); n++;
    spinBox = DtCreateSpinBox(parent, &ldquo;spinBox2&rdquo;, args, n);
    XtManageChild(spinBox);

    /*
* Create a SpinBox containing numeric values to 2 decimal places.
* Position the arrows on the left of the displayed value.
* Disallow alternate user changes by adding a modify/verify
 callback.
    */

    n = 0;
    XtSetArg(args[n], DtNspinBoxChildType, DtNUMERIC); n++;
    XtSetArg(args[n], DtNminimumValue, 1500); n++;
    XtSetArg(args[n], DtNmaximumValue, 60500); n++;
    XtSetArg(args[n], DtNincrementValue,1500); n++;
    XtSetArg(args[n], DtNdecimalPoints,2); n++;
    XtSetArg(args[n], DtNposition,7500); n++
 XtSetArg(args[n], DtNarrowLayout,DtARROWS_FLAT_BEGINNING); n++;
    XtSetArg(args[n], DtNcolumns, 10); n++;
    spinBox = DtCreateSpinBox(parent, &ldquo;spinBox3&rdquo;, args, n);
    XtManageChild(spinBox);

    XtAddCallback(spinBox, DtNmodifyVerifyCallback, ModifyVerifyCb,
 NULL);

 /*
 * Create a SpinBox containing string values.
 * Position the arrows on the left of the display value
 */

    n = 0;
    XtSetArg(args[n], DtNvalues, valueXmstrings); n++;
    XtSetArg(args[n], DtNnumValues, numValueStrings); n++;
    XtSetArg(args[n], DtNarrowLayout, DtARROWS_BEGINNING); n++;
    XtSetArg(args[n], DtNcolumns, 10); n++;
    spinBox = DtCreateSpinBox(parent, &ldquo;spinBox4&rdquo;, args, n);
    XtManageChild(spinBox);

   /*
   * Create a SpinBox containing numeric values to 3 decimal places.
   * Position the arrows on the right of the displayed value.
   */

    n = 0;
    XtSetArg(args[n], DtNspinBoxChildType, DtNUMERIC); n++;
    XtSetArg(args[n], DtNminimumValue, 1000); n++;
    XtSetArg(args[n], DtNmaximumValue, 100000); n++;
    XtSetArg(args[n], DtNincrementValue,1000); n++;
    XtSetArg(args[n], DtNdecimalPoints,3); n++;
    XtSetArg(args[n], DtNposition,1000); n++;
    XtSetArg(args[n], DtNarrowLayout, DtARROWS_FLAT_END); n++;
    XtSetArg(args[n], DtNcolumns, 10); n++;
    spinBox = DtCreateSpinBox(parent, &ldquo;spinBox5&rdquo;, args, n);
    XtManageChild(spinBox);

    /*
     * Free value strings, SpinBox has taken a copy.
     */

    for (i = 0; i &lt; numValueStrings; i++) {
  XmStringFree(valueXmstrings[i]);
    }
    XtFree((char*)valueXmstrings);

}

 /*
 * modify/verify callback.
 *
  * Allow/disallow alternate user changes
  */

static void ModifyVerifyCb(Widget w, XtPointer cd, XtPointer cb)
{
    DtSpinBoxCallbackStruct *scb= (DtSpinBoxCallbackStruct*)cb;
    static Boolean allowChange = True;

    scb->doit = allowChange;

    if (allowChange == False) {
 printf(&ldquo;DtSpinBox: DtNmodifyVerifyCallback.
Change disallowed.\n&rdquo;);
 XBell(XtDisplay(w), 0);
    }

    allowChange = (allowChange == True) ? False: True;
}
# テキスト・フィールドとボックス・ウィジェット(DtComboBox)テキスト・フィールドとボックス・ウィジェットリスト・ボックスとテキスト・フィールド・ウィジェットウィジェットテキスト・フィールド とリスト・ボックスウィジェットリスト・ボックス とテキスト・フィールドウィジェット<Filename>DtComboBox<Default Para Font><Filename>DtComboBox<Default Para Font> ウィジェット


DtComboBoxウィジェットは、リストとリストの現在の選択項目を表示するために使用します。
このウィジェットは、表示用だけに使用するか、選択可能なコントロールとして使用することができます。

DtComboBoxウィジェットは、テキスト・フィールドとリスト・ウィジェットの組み合わせで、テキスト・フィールドに対する有効な選択項目のリストを提供します。
 このリストから項目を選択すると、そのリスト項目が自動的にテキスト・フィールドに記入されます。に、DtComboBoxウィジェットの例を示します。
# テキスト・フィールド とリスト・ボックス・ウィジェット (DtComboBox)の例<Filename>DtComboBox<Default Para Font>図図<Filename>DtComboBox<Default Para Font>

# ライブラリとヘッダ・ファイルヘッダ・ファイル<Filename>DtComboBox<Default Para Font><Filename>DtComboBox<Default Para Font>ヘッダ・ファイル<Filename>DtComboBox<Default Para Font>ライブラリライブラリ<Filename>libDtWidget<Default Para Font><Filename>libDtWidget<Default Para Font> ライブラリ


DtComboBoxウィジェットは、libDtWidgetライブラリにあります。 ヘッダ・ファイルは、Dt/ComboBox.hです。
# デモ・プログラムデモ・プログラム<Filename>DtComboBox<Default Para Font><Filename>DtComboBox<Default Para Font>デモ・プログラム


DtComboBoxウィジェットの使用例が入っているデモが、/usr/dt/examples/dtwidget/controls.cにあります。
# XmComboBoxへの変更互換性<Filename>DtComboBox<Default Para Font><Filename>DtComboBox<Default Para Font>Motif 2.1との互換性<Filename>XmComboBox<Default Para Font>、 <Filename>DtComboBox<Default Para Font>との互換性


Motif 2.1XmComboBoxウィジェットを使用するには、
クラス、型、および作成 ルーチンのDt名をXmに変更します。
たとえば、コードの中に出てくるDtComboBoxのすべてをXmComboBoxに変更します。一方、既存のコードを`-DDT_USE_XM_COMBOBOX`でコンパイルできます。
この情報は、CDE 1.0 アプリケーションを修正して、Motif 2.1 ウィジェットを使用する場合を配慮して提供されます。
# 簡易関数簡易関数<Filename>DtComboBox<Default Para Font><Filename>DtComboBox<Default Para Font>簡易関数


DtComboBoxウィジェットは、次の簡易関数を提供しますが、詳細についてはに示します。

詳細については、DtComboBox(3)の
マニュアル・ページ を参照してください。
# DtComboBox ウィジェット簡易関数


`関数`

`説明`

DtCreateComboBox()

DtComboBoxウィジェットを作成します。

DtComboBoxAddItem()

DtComboBoxウィジェットの指定された位置に項目を追加します。

DtComboBoxDeletePos()

指定された項目をDtComboBoxウィジェットから削除します。

DtComboBoxSetItem()

DtComboBoxウィジェットのXmListの中の項目を選択して、それをリスト表示の最初の項目にします。

DtComboBoxSelectItem()

DtComboBoxウィジェットのXmListの中の項目を選択します。

DtComboBoxは、XmManagerクラスのサブクラス であり、XmListまたはXmScrolledListを表示するために使われます。
# クラスクラス<Filename>DtComboBox<Default Para Font><Filename>DtComboBox<Default Para Font>クラス


DtComboBoxは、Core、Composite、Constraints、およびXmManagerクラスから動作とリソースを継承します。

クラス・ポインタは、dtComboBoxWidgetClassです。

クラス名は、DtComboBoxWidgetです。

DtComboBoxWidgetは、サブクラス化をサポートしません。
# リソース<Filename>DtComboBox<Default Para Font>リソースリソース<Filename>DtComboBox<Default Para Font>


DtComboBoxは、次のリソースを提供します。これらのリソースのクラス、 型、デフォルト、およびアクセスをに示します。

DtNmarginHeightは、テキスト・ウィジェットのトップとボトムの間に追加されるピクセル数と、シャドウの開始位置を指定します。

DtNmarginWidthは、テキスト・ウィジェットの右辺と左辺の間に追加されるピクセル数と、シャドウの開始位置を指定します。

DtNselectedItemはXmListに渡され、リストの指定されたXmStringと一致するDtNitemsの中の単一項目としてXmNselectedItemCountとXmNselectedItemsを設定します。

DtNselectedPositionはXmListに渡され、リストの指定された位置にある単一項目としてXmNselectedItemCountとXmNselectedItemsを設定します。

DtNselectionCallbackは、DtComboBoxウィジェット・リストから項目が選択されたときに発行されます。

DtNcomboBoxTypeは、DtComboBoxのスタイルの種類を決めます。

リスト・ウィジェット IDは、XtNameToWidget()関数を使用してアクセスできます。
これらのウィジェット のリソースを設定することができます。詳細については、DtComboBox(3)のマニュアル・ページを参照してください。

アクセス欄のコードは、次のことが可能かどうかを示します。:

作成時にリソースを設定する(C)

XtSetValuesを使用して設定する (S)

XtGetValuesを使用して検索する (G)
# DtComboBox ウィジェット・リソース


`名前`

`クラス`

`型`

`デフォルト`

`アクセス`

DtNmarginHeight

DtCMarginHeight

Dimension

2

CSG

DtNmarginWidth

DtCMarginWidth

Dimension

2

CSG

DtNselectedItem

DtCSelectedItem

XmString

Dimension

CSG

DtNselectedPosition

DtCSelectedPosition

int

Dimension

CSG

DtNselectionCallback

DtCCallback

XtCallbackList

XmString

C

DtNcomboBoxType

DtCComboBoxType

unsigned char

int

CG
# コールバックのための構造体<Filename>DtComboBox<Default Para Font>コールバックのための構造体コールバックのための構造体<Filename>DtComboBox<Default Para Font>


コールバックのための構造体を次に示し、で説明します。typedef struct {
 int`reason`;
 XEvent`*event`;
 XmString`item_or_text`;
 int`item_position`;
} DtComboBoxCallbackStruct;
# DtComboBoxコールバックのための構造体


`構造体`

`説明`

`reason`

このコールバックを発行する唯一のreason は、XmCR_SELECTです。

`event`

このコールバック が呼び出される原因となったイベントへのポインタ。
NULLになることもあります。

`item_or_text`

イベントがコールバックを呼び出したときのテキスト・ウィジェットの内容。
このデータはcall_data構造体の範囲でのみ有効で、この範囲外で使用するときにはコピーしなければなりません。

`item_position`

DtComboBoxリストのDtNpositionリソースの新しい値。
値が０の場合、ユーザはXmTextFieldウィジェットに値を入力したことになります。
# DtComboBoxウィジェットの例<Filename>DtComboBox<Default Para Font>例 コードコード 例<Filename>DtComboBox<Default Para Font>


次の例は、DtComboBoxウィジェットの作成方法と使用方法を示しています。
このコードは、/usr/dt/examples/dtwidgetディレクトリのcontrols.cデモの一部です。/*
 * Example code for DtComboBox
 */

#include &lt;Dt/ComboBox.h>

static char *comboValueStrings[] = {
 &ldquo;alpha&rdquo;, &ldquo;beta&rdquo;, &ldquo;gamma&rdquo;, &ldquo;delta&rdquo;,
 &ldquo;epsilon&rdquo;, &ldquo;zeta&rdquo;, &ldquo;eta&rdquo;, &ldquo;theta&rdquo;,
 &ldquo;iota&rdquo;, &ldquo;kappa&rdquo;, &ldquo;lambda&rdquo;, &ldquo;mu&rdquo;,
 &ldquo;nu&rdquo;, &ldquo;xi&rdquo;, &ldquo;omicron&rdquo;, &ldquo;pi&rdquo;,
 &ldquo;rho&rdquo;, &ldquo;sigma&rdquo;, &ldquo;tau&rdquo;, &ldquo;upsilon&rdquo;,
 &ldquo;phi&rdquo;, &ldquo;chi&rdquo;, &ldquo;psi&rdquo;, &ldquo;omega&rdquo;
};

static char *colorStrings[] = { &ldquo;Red&rdquo;, &ldquo;Yellow&rdquo;, &ldquo;Green&rdquo;, &ldquo;Brown&rdquo;,
&ldquo;Blue&rdquo; };

static void CreateComboBoxes(Widget parent)
{
    Widget titleLabel, comboBox, list;
    XmString *valueXmstrings, *colorXmstrings;
    int numValueStrings, numColorStrings;
    XmString labelString, xmString;
    Arg args[20];
    int i, n;

    /* Create value compound strings */

    numValueStrings = XtNumber(comboValueStrings);
    valueXmstrings = (XmString *)XtMalloc(numValueStrings *
  sizeof(XmString*));
    for (i = 0; i &lt; numValueStrings; i++) {
  valueXmstrings[i] =

  XmStringCreateLocalized(comboValueStrings[i]);
    }

    /* Create color compound strings */

 numColorStrings = XtNumber(colorStrings);
 colorXmstrings = (XmString *)XtMalloc(numColorStrings *
 sizeof(XmString*));
  for (i = 0; i &lt; numColorStrings; i++) {
  colorXmstrings[i] =

  XmStringCreateLocalized(colorStrings[i]);
    }

    /* Create title label */

    labelString = XmStringCreateLocalized(&ldquo;ComboBox Widget&rdquo;);
    n = 0;
    XtSetArg(args[n], XmNlabelString, labelString); n++;
    titleLabel = XmCreateLabel(parent, &ldquo;title&rdquo;, args, n);
    XtManageChild(titleLabel);
    XmStringFree(labelString);


    /*
     * Create an editable ComboBox containing the color strings.
     * Get the widget id of the drop down list, add some greek
     * letter names to it, and make more items visible.
     */

    n = 0;
    XtSetArg(args[n], DtNcomboBoxType, DtDROP_DOWN_COMBO_BOX); n++;
    XtSetArg(args[n], DtNitems, colorXmstrings); n++;
    XtSetArg(args[n], DtNitemCount, numColorStrings); n++;
    XtSetArg(args[n], DtNvisibleItemCount, 5); n++;
    XtSetArg(args[n], DtNcolumns, 10); n++;
    comboBox = DtCreateComboBox(parent, &ldquo;comboBox1&rdquo;, args, n);
    XtManageChild(comboBox);

    list = XtNameToWidget(comboBox, &ldquo;*List&rdquo;);
    XmListAddItems(list, valueXmstrings, 10, 0);
    XtVaSetValues(list, XmNvisibleItemCount, 10, NULL);


    /*
     * Create an editable ComboBox with no entries.
     * Get the widget id of the drop down list, add some greek
     * letter names to it and select the third item in the list.
     */

    n = 0;
    XtSetArg(args[n], DtNcomboBoxType, DtDROP_DOWN_COMBO_BOX); n++;
    XtSetArg(args[n], DtNorientation, DtLEFT); n++;
    XtSetArg(args[n], DtNcolumns, 10); n++;
    comboBox = DtCreateComboBox(parent, &ldquo;comboBox2&rdquo;, args, n);
    XtManageChild(comboBox);

    list = XtNameToWidget(comboBox, &ldquo;*List&rdquo;);
    XmListAddItems(list, valueXmstrings, 7, 0);
    XtVaSetValues(list, XmNvisibleItemCount, 7, NULL);
    XtVaSetValues(comboBox, DtNselectedPosition, 3, NULL);


    /*
     * Create a non-editable ComboBox containing some greek letter

   names.
     * Position the arrow on the left.
     * Select the `gamma' item in the list.
     */

    n = 0;
    XtSetArg(args[n], DtNorientation, DtLEFT); n++;
    XtSetArg(args[n], DtNitems, valueXmstrings); n++;
    XtSetArg(args[n], DtNitemCount, numValueStrings); n++;
    XtSetArg(args[n], DtNvisibleItemCount, 8); n++;
    comboBox = DtCreateComboBox(parent, &ldquo;comboBox3&rdquo;, args, n);
    XtManageChild(comboBox);

    xmString = XmStringCreateLocalized(&ldquo;gamma&rdquo;);
    XtVaSetValues(comboBox, DtNselectedItem, xmString, NULL);
    XmStringFree(xmString);

    /*
     * Create a non-editable ComboBox with no entries.
     * Position the arrow on the right.
     * Add the greek letter names to the list and select the fourth
   item.
     */

    n = 0;
    XtSetArg(args[n], DtNorientation, DtRIGHT); n++;
    XtSetArg(args[n], DtNvisibleItemCount, 8); n++;
    comboBox = DtCreateComboBox(parent, &ldquo;comboBox4&rdquo;, args, n);
    XtManageChild(comboBox);

 for (i = 0; i &lt; numValueStrings; i++) {
  DtComboBoxAddItem(comboBox, valueXmstrings[i],
  0, True);
    }
    XtVaSetValues(comboBox, DtNselectedPosition, 4, NULL);

    /*
     * Free value and color strings, ComboBox has taken a copy.
     */

 for (i = 0; i &lt; numValueStrings; i++) {
  XmStringFree(valueXmstrings[i]);
    }
    XtFree((char*)valueXmstrings);

 for (i = 0; i &lt; numColorStrings; i++) {
  XmStringFree(colorXmstrings[i]);
    }
    XtFree((char*)colorXmstrings);
}
# メニュー・ボタン・ウィジェット (DtMenuButton)<Filename>DtMenuButton<Default Para Font> ウィジェットウィジェット<Filename>DtMenuButton<Default Para Font>メニュー・ボタン・ウィジェットウィジェットメニュー・ボタンポップアップ・メニュー・ボタン・ウィジェットウィジェットポップアップ・メニュー


DtMenuButtonウィジェットは、メニュー区画の外側にメニュー階層機能を提供するために使用します。

DtMenuButtonウィジェットは、XmCascadeButtonウィジェットの メニュー階層・メニュー・ウィジェットウィジェット階層・メニュー階層機能を補足するコマンド・ウィジェットです。XmCascadeButtonウィジェットを補うものとして、MenuBar、Pulldown、またはPopupの外側で示すことができます。 (MenuPaneの内部ではXmCascadeButtonウィジェットを使用します。 )に、DtMenuButtonウィジェットの使用例を示します。
# メニュー・ボタン・ウィジェットの例 (DtMenuButton)<Filename>DtMenuButton<Default Para Font>図図<Filename>DtMenuButton<Default Para Font>

# ライブラリとヘッダ・ファイル<Filename>DtMenuButton<Default Para Font>ヘッダ・ファイルヘッダ・ファイル<Filename>DtMenuButton<Default Para Font>ライブラリ<Filename>libDtWidget<Default Para Font><Filename>libDtWidget<Default Para Font> ライブラリ


DtMenuButtonウィジェットは、libDtWidgetライブラリにあります。ヘッダ・ファイルは、Dt/MenuButton.hです。
# デモ・プログラム<Filename>DtMenuButton<Default Para Font>デモ・プログラムデモ・プログラム<Filename>DtMenuButton<Default Para Font>


DtMenuButtonウィジェットの使用例が入っているデモが、/usr/dt/examples/dtwidget/controls.cにあります。
# 簡易関数<Filename>DtMenuButton<Default Para Font>簡易関数簡易関数<Filename>DtMenuButton<Default Para Font>


DtCreateMenuButton()は、共通デスクトップ環境ウィジェットを作成する簡易関数です。

DtMenuButtonウィジェットは、XmLabelクラスのサブクラスです。視覚的には、DtMenuButtonウィジェットは、ラベル文字とメニュー・グリフを持ちます。メニュー・グリフは、常にウィジェットの右端に表示され、デフォルトでは下向き矢印です。

DtMenuButtonウィジェットには、暗黙的に作成されたサブメニューが接続されています。
サブメニュー は、このDtMenuButtonウィジェットを親とするポップアップ・メニューです。
暗黙的に作成されたサブメニューの名前は、このDtMenuButtonウィジェットの名前の前にsubmenu_を付けたものです。
サブメニューのウィジェット IDは、このDtMenuButtonウィジェットのDtNsubMenuIdリソースにXtGetValuesを設定することにより取得できます。
暗黙的に作成されたサブメニューは、このウィジェットの利用者によって破壊されることはありません。

サブメニューは、DtMenuButtonウィジェットのどこかで[メニュー・ポスト]ボタン(XmRowColumnのXmNmenuPostリソースを参照)を押すことによって、またはMotifの取り消しキー(通常は[Escape]キー)を押すことによってポップアップすることができます。
# クラス<Filename>DtMenuButton<Default Para Font>クラスクラス<Filename>DtMenuButton<Default Para Font>


DtMenuButtonWidgetは、Core、XmPrimitive、およびXmLabelクラスから動作とリソースを継承します。

クラス・ポインタは、dtMenuButtonWidgetClassです。

クラス名は、DtMenuButtonWidgetです。

DtMenuButtonWidgetは、サブクラス化をサポートしません。
# リソース<Filename>DtMenuButton<Default Para Font>リソースリソース<Filename>DtMenuButton<Default Para Font>


DtMenuButtonWidgetは、次のリソースを提供します。これらのリソースのクラス、型、デフォルト、およびアクセスをに示します。

DtNcascadingCallbackは、接続されたサブメニューが表示される前に呼び出されるコールバックのリストを指定します。

DtNcascadePixmapは、メニュー・グリフとして表示されるピックスマップを指定します。ピックスマップが指定されない場合は、下向き矢印が表示されます。

DtNsubMenuIdは、このDtMenuButtonウィジェットと関連付けられるポップアップ・メニュー区画のウィジェット IDを指定します。
ポップアップ・
メニュー 区画をこのDtMenuButtonを親として作成しなければなりません。リソースの設定時にこのウィジェットによってサブメニューが自動的に破壊されるので、ウィジェットの作成時にこのリソースを設定することはできません。

詳細については、DtMenuButtonWidget(3)のマニュアル・ページを参照してください。

アクセス欄のコードは、次のことが可能かどうかを示します。:

作成時にリソースを設定する(C)

XtSetValuesを使用して設定する (S)

XtGetValuesを使用して検索する (G)
# DtMenuButtonWidgetリソース


`名前`

`クラス`

`型`

`デフォルト`

`アクセス`

DtNcascadingCallback

DtCCallback

XtCallbackList

NULL

C

DtNcascadePixmap

DtCPixmap

Pixmap

XmUNSPECIFIED_PIXMAP

CSG

DtNsubMenuId

DtCMenuWidget

Widget

NULL

SG
# コールバックのための構造体<Filename>DtMenuButton<Default Para Font>コールバック 構造体コールバック 構造体<Filename>DtMenuButton<Default Para Font>


コールバックのための構造体を次に示し、で説明します。typedef struct {
 int`reason`;
 XEvent`*event`;
} XmAnyCallbackStruct;
# DtMenuButtonWidgetコールバックのための構造体


`構造体`

`説明`

`reason`

コールバックが呼び出されたreasonを返します。

`event`

コールバックの要因となったXEventへのポインタ。コールバックがXEventによって起動されなかった場合にはNULLになります。
# DtMenuButton ウィジェットの例<Filename>DtMenuButton<Default Para Font>例　コードコード 例<Filename>DtMenuButton<Default Para Font>


次の例は、DtMenuButtonウィジェットの作成方法と使用方法を示しています。
このコードは、/usr/dt/examples/dtwidgetディレクトリのcontrols.cデモの一部です。/*
 * Example code for DtMenuButton
 */

#include Dt/DtMenuButton.h

/* MenuButton custom glyph */

#define menu_glyph_width 16
#define menu_glyph_height 16
static unsigned char menu_glyph_bits[] = {
 0xe0, 0x03, 0x98, 0x0f, 0x84, 0x1f, 0x82, 0x3f, 0x82, 0x3f, 0x81,

 0x7f,
 0x81, 0x7f, 0xff, 0x7f, 0xff, 0x40, 0xff, 0x40, 0xfe, 0x20, 0xfe,

 0x20,
 0xfc, 0x10, 0xf8, 0x0c, 0xe0, 0x03, 0x00, 0x00};

static void CreateMenuButtons(Widget parent)
{
    Widget menuButton, submenu, titleLabel, button;
    Pixmap cascadePixmap;
    Pixel fg, bg;
    Cardinal depth;
    XmString labelString;
    Arg args[20];
    int i, n;

    /* Create title label */

    labelString = XmStringCreateLocalized(&ldquo;MenuButton Widget&rdquo;);
    n = 0;
    XtSetArg(args[n], XmNlabelString, labelString); n++;
    titleLabel = XmCreateLabel(parent, &ldquo;title&rdquo;, args, n);
    XtManageChild(titleLabel);
    XmStringFree(labelString);

    /*
     * Create a MenuButton.
     * Add push buttons to the built-in popup menu.
     */

    labelString = XmStringCreateLocalized(&ldquo;Action&rdquo;);
    n = 0;
    XtSetArg(args[n], XmNlabelString, labelString); n++;
 menuButton = DtCreateMenuButton(parent, &ldquo;menuButton1&rdquo;, args, n);
    XtManageChild(menuButton);
    XmStringFree(labelString);

    XtVaGetValues(menuButton, DtNsubMenuId, &amp;submenu, NULL);
    button= XmCreatePushButton(submenu, &ldquo;Push&rdquo;, NULL, 0);
    XtManageChild(button);
    button = XmCreatePushButton(submenu, &ldquo;Pull&rdquo;, NULL, 0);
    XtManageChild(button);
    button = XmCreatePushButton(submenu, &ldquo;Turn&rdquo;, NULL, 0);
    XtManageChild(button);

    /*
     * Create a MenuButton.
     * Replace the built-in popup menu with a tear-off menu.
     * Add a custom pixmap in the colors of the MenuButton.
     */

    labelString = XmStringCreateLocalized(&ldquo;Movement&rdquo;);
    n = 0;
    XtSetArg(args[n], XmNlabelString, labelString); n++;
 menuButton = DtCreateMenuButton(parent, &ldquo;menuButton1&rdquo;, args, n);
    XtManageChild(menuButton);
    XmStringFree(labelString);

    /* Create a tear-off menu */

    n = 0;
    XtSetArg(args[0], XmNtearOffModel, XmTEAR_OFF_ENABLED); n++;
    submenu = XmCreatePopupMenu(menuButton, &ldquo;submenu&rdquo;, args, n);
    button = XmCreatePushButton(submenu, &ldquo;Run&rdquo;, NULL, 0);
    XtManageChild(button);
    button = XmCreatePushButton(submenu, &ldquo;Jump&rdquo;, NULL, 0);
    XtManageChild(button);
    button = XmCreatePushButton(submenu, &ldquo;Stop&rdquo;, NULL, 0);
    XtManageChild(button);

    XtVaSetValues(menuButton, DtNsubMenuId, submenu, NULL);

    /* Create a pixmap using the menu button's colors and depth */

    XtVaGetValues(menuButton,
   XmNforeground, &amp;fg,
   XmNbackground, &amp;bg,
   XmNdepth, &amp;depth,
   NULL);

    cascadePixmap = XCreatePixmapFromBitmapData(XtDisplay
  (menuButton),DefaultRootWindow(XtDisplay
  (menuButton)),
  (char*)menu_glyph_bits,
  menu_glyph_width, menu_glyph_height,
  fg, bg, depth);
    XtVaSetValues(menuButton, DtNcascadePixmap, cascadePixmap,

 NULL);
}
# テキスト・エディタ・ウィジェット (DtEditor)ウィジェットテキスト・エディタテキスト・エディタ・ウィジェットウィジェット<Filename>DtEditor<Default Para Font><Filename>DtEditor<Default Para Font> ウィジェット


共通デスクトップ環境テキスト編集システムは、次の２つのコンポーネントから成ります。
:

グラフィカル・インタフェース、アクション・インタフェース、およびToolTalkインタフェースを介して編集サービスを提供するテキスト・エディタ・クライアントのdtpad。

次の編集サービスのためのプログラム・インタフェースを提供するエディタ・ウィジェットのDtEditor(3)。
:

カット＆ペースト

検索と置換

単純な書式化

スペルチェック( 8ビット・ロケール用)

以前の編集を元に戻す

ASCII テキスト、マルチバイト・テキスト、およびバッファ・データの入出力をサポートする拡張入出力処理機能

ファイルの直接読み書きのサポート

Motifテキスト・ウィジェットはプログラム・インタフェースも提供しますが、システム全体で一貫したエディタを使用するアプリケーションは、DtEditor(3) ウィジェットを使用しなければなりません。共通デスクトップ環境のテキスト・エディタとメール・プログラムは、エディタ・ウィジェットを使用します。
このウィジェットは、次のような状況のときに使用してください。:

[スペルチェック]、[元に戻す]、および[検索/変更]など、DtEditor(3)ウィジェットが提供する機能を使いたい場合。

ユーザがファイルからデータを読み込んだり、ファイルにデータを書き込んだりするコードを作成したくない場合。

ユーザが入力した文字またはユーザが行ったカーソル移動を調べる必要がないプログラムを作成する場合。

この節では、テキスト・エディタ・ウィジェットDtEditor(3)について説明します。

エディタ・ウィジェット・ライブラリは、テキスト・ファイルの作成と編集のためのサポートを提供します。
デスクトップ環境で実行するアプリケーションで、一貫した方法でテキスト・データを編集できるようにします。DtEditor(3) ウィジェットは、テキスト用のスクロールする編集ウィンドウ、オプションのステータス行、およびテキストの検索と置換、スペルチェック、書式オプションの指定を行うためのダイアログから成ります。
テキスト・エディタ・ウィジェットには、ウィジェットをプログラム的に制御するための簡易関数のセットが含まれています。
# ライブラリとヘッダ・ファイル<Filename>DtEditor<Default Para Font>ヘッダ・ファイルヘッダ・ファイル<Filename>DtEditor<Default Para Font><Filename>libDtWidget<Default Para Font> ライブラリライブラリ<Filename>libDtWidget<Default Para Font>


DtEditorウィジェットは、libDtWidgetライブラリにあります。ヘッダ・ファイルは、Dt/Editor.hです。
# デモ・プログラム<Filename>DtEditor<Default Para Font>デモ・プログラムデモ・プログラム<Filename>DtEditor<Default Para Font>


DtEditorウィジェットの使用例が入っているデモが、/usr/dt/examples/dtwidget/editor.cにあります。
# クラス<Filename>DtEditor<Default Para Font>クラスクラス<Filename>DtEditor<Default Para Font>


DtEditorウィジェット・クラスについては、ウィジェットのサブクラス化はサポートされません。

DtEditorは、Core、Composite、Constraints、XmManager、およびXmFormクラスから動作とリソースを継承します。

エディタ・ウィジェットのクラス名は、DtEditorWidgetです。

クラス・ポインタ は、dtEditorWidgetClassです。
# 簡易関数<Filename>DtEditor<Default Para Font>簡易関数簡易関数<Filename>DtEditor<Default Para Font>


DtEditor簡易関数を次の表に示します。
# ライフ・サイクル関数<Filename>DtEditor<Default Para Font>ライフ・サイクル関数ライフ・サイクル関数<Filename>DtEditor<Default Para Font>


DtEditorライフ・サイクル関数をに示します。
# DtEditor ライフ・サイクル関数


`関数`

`説明`

DtCreateEditor

DtEditorウィジェットの新規インスタンス
とその子を作成します。

DtEditorReset

DtEditorウィジェットを初期状態に復元します。
# 入出力関数<Filename>DtEditor<Default Para Font>入出力関数入出力関数<Filename>DtEditor<Default Para Font>


DtEditor入出力関数をに示します。
# DtEditor 入出力関数


`関数`

`説明`

DtEditorAppend

エディタ・ウィジェットの最後に内容データを追加します。

DtEditorAppendFromFile

エディタ・ウィジェットの最後にファイルの内容を追加します。

DtEditorGetContents

エディタ・ウィジェットの内容全体を検索します。

DtEditorInsert

内容データを現在の挿入位置に挿入します。

DtEditorInsertFromFile

ファイルの内容を現在の挿入位置に挿入します。

DtEditorReplace

テキストの一部を与えられたデータと置き換えます。

DtEditorReplaceFromFile

テキストの一部をファイルの内容と置き換えます。

DtEditorSaveContentsToFile

全体の内容をファイルに保存します。

DtEditorSetContents

内容データをエディタ・ウィジェットに読み込んで、ウィジェットの内容全体を置き換えます。

DtEditorSetContentsFromFile

ファイルの内容をエディタ・ウィジェットに読み込んで、ウィジェットの内容全体を置き換えます。
# 選択関数<Filename>DtEditor<Default Para Font>選択関数選択関数<Filename>DtEditor<Default Para Font>


DtEditor選択関数をに示します。
# DtEditor 選択関数


`関数`

`説明`

DtEditorClearSelection

現在選択されている内容を空白に置き換えます。

DtEditorCopyToClipboard

現在選択されている内容をクリップボードにコピーします。

DtEditorCutToClipboard

現在選択されている内容を削除して、クリップボードに入れます。

DtEditorDeleteSelection

現在選択されている内容を削除します。

DtEditorDeselect

選択されている内容を選択解除します。

DtEditorPasteFromClipboard

クリップボードの内容をエディタ・ウィジェットにペーストして、現在選択されている内容を置き換えます。

DtEditorSelectAll

エディタ・ウィジェットの内容全体を選択します。
# 書式化関数<Filename>DtEditor<Default Para Font>書式化関数書式化関数<Filename>DtEditor<Default Para Font>


DtEditor書式化関数をに示します。
# DtEditor 書式化関数


`関数`

`説明`

DtEditorFormat

エディタ・ウィジェットの内容の全部または一部を書式化します。

DtEditorInvokeFormatDialog

[書式]ダイアログ・ボックスを表示して、マージンと位置揃えのスタイルに関する書式設定を指定し、書式操作を実行することができます。
# 検索/変更関数<Filename>DtEditor<Default Para Font>検索/変更関数検索/変更関数<Filename>DtEditor<Default Para Font>


DtEditor検索/変更関数をに示します。
# DtEditArea 検索/変更関数


`関数`

`説明`

DtEditorChange

文字列の１つまたはすべての存在箇所を置換します。

DtEditorFind

文字列の次の出現箇所を検索します。

DtEditorInvokeFindChangeDialog

文字列を検索(オプションで置換も)するためのダイアログ・ボックスを表示します。

DtEditorInvokeSpellDialog

現在の内容の中でスペルが間違っている単語のリストがあるダイアログ・ボックスを表示します。
# 補助関数<Filename>DtEditor<Default Para Font>補助関数補助関数<Filename>DtEditor<Default Para Font>


DtEditor補助関数をに示します。
# DtEditor 補助関数


`関数`

`説明`

DtEditorCheckForUnsavedChanges

エディタ・ウィジェットの内容が前回の検索または保存以後に変更されていれかどうかを報告します。

DtEditorDisableRedisplay

ビジュアル属性が変更された場合でも、エディタ・ウィジェットの再表示をしません。

DtEditorEnableRedisplay

エディタ・ウィジェット
の表示の更新を強制します。

DtEditorGetInsertPosition

エディタ・ウィジェットの挿入カーソル位置を返します。

DtEditorGetLastPosition

編集ウィンドウの最後の文字の位置を返します。

DtEditorGetMessageTextFieldID

アプリケーション・メッセージを表示するために使用されるテキスト・フィールド・ウィジェットのウィジェット IDを検索します。

DtEditorGetSizeHints

エディタ・ウィジェットからサイズ情報を検索します。

DtEditorGoToLine

挿入カーソルを指定された行へ移動します。

DtEditorSetInsertionPosition

挿入カーソルの位置を設定します。

DtEditorTraverseToEditor

エディタ・ウィジェットの編集ウィンドウへのキーボード移動を設定します。

DtEditorUndoEdit

ユーザが行なった最後の編集を元に戻します。
# リソース<Filename>DtEditor<Default Para Font>リソースリソース<Filename>DtEditor<Default Para Font>


DtEditorウィジェットは、次のリソースのセットを提供します。

DtNautoShowCursorPositionにTrueが設定されたとき、スクロール編集ウィンドウに表示されるテキストに挿入カーソルが必ずあるようにします。
挿入カーソル
が変わると、エディタの内容をスクロールして、挿入ポイントがウィンドウに入るようにします。

DtNblinkRateは、テキスト・カーソルの点滅間隔をミリ秒単位で指定します。
挿入カーソルの点滅に要する時間は、点滅間隔の2倍です。点滅間隔がゼロに設定されたときには、カーソルは点滅しません。
値を負にすることはできません。

DtNbuttonFontListは、DtEditorのダイアログ・ボックスに表示されるボタンのフォント・リストを指定します。

DtNcolumnsは、エディタの初期の幅を整数の文字単位で指定します。
値は０より大きくなければなりません。

DtNcursorPositionは、エディタの中で現在の挿入カーソルが置かれる位置を指定します。
位置は、テキストの先頭からの文字数によって決められます。
最初の
文字位置は０です。

DtNcursorPositionVisible論理値がTrueのとき点滅しているテキスト・カーソルで挿入カーソルの位置をマークします。

DtNdialogTitleは、DtEditorによって表示されるすべてのダイアログのタイトルを指定します。
これには、単語の検索と置換、スペルが間違っている単語、および書式設定のためのダイアログが含まれます。

DtNeditableにTrueが設定されているとき、ユーザはデータを編集できます。
Falseが設定されているときには、ユーザはデータを編集できません。

DtNlabelFontListは、DtEditorラベルとして使用されるフォント・リストを指定します(ラベルは、ステータス行とDtEditorダイアログ・ボックスに表示されます)。

DtNoverstrikeにFalseが設定されているとき、エディタ・ウィジェットに入力された文字は、カーソルの位置に挿入されます
( デフォルト)。Trueが設定されているときには、エディタ・ウィジェットに入力された文字は、挿入カーソルの直後の文字を置き換えます。
行末に達したときには、文字は行末に追加されます。
ステータス行が表示されている場合、DtNoverstrikeがTrueのときはDtNoverstrikeIndicatorLabelが必ずステータス行に表示されます。

DtNrowsは、エディタの初期の高さを文字単位で指定します。
値は０より大きくなければなりません。

DtNscrollHorizontalは、論理値がTrueのときテキストを水平方向にスクロールできるようにするスクロール・バーを追加します。

DtNscrollLeftSideは、論理値がTrueのときスクロール編集ウィンドウの左側に垂直スクロール・バーを置きます。

DtNshowStatusLineは、Trueが設定されたときテキスト・ウィンドウの下にステータス行を表示します。
ステータス行のフィールドには、挿入カーソルの現在の行番号、ドキュメント内の総行数、およびエディタが上書きモードかどうかを表示します。ユーザは、行番号表示に行番号を入力することによって、直接その行を表示することができます。

ステータス行は、アプリケーションによって提供されるメッセージを表示するためのMotifのXmTextField(3) ウィジェットも含んでいます。
 このフィールドは、アプリケーションが編集中の ドキュメントについての ステータスとフィードバックを表示するのに便利な場所です。
テキスト・フィールドのIDは、DtEditorGetMessageTextFieldID(3)を使用して検索されます。メッセージは、このウィジェットのXmNvalueまたはXmNvalueWcsリソースを設定することによって表示されます。 テキスト・フィールドが必要ない場合には、
そのIDでXtUnmanageWidget(3) を呼び出すことによって管理から外せます。

DtNspellFilterは、スペルチェックに使用するフィルタを指定します。
関数DtEditorInvokeSpellDialog(3)は、DtNspellFilterによって指定されたフィルタを使用してエディタの内容をチェックします。
指定されたフィルタは、ファイル名を受け入れて、このファイルの中のスペルが間違っている単語と認識不能の単語のリストをstdoutに出力しなければなりません。デフォルトのフィルタは、spell(1)です。

DtNtextBackgroundは、編集ウィンドウのバックグラウンドを指定します。

DtNtextDeselectCallbackは、編集領域内でテキストが選択されていないときに呼び出される関数を指定します。
コールバックによって送られるreasonは、DtEDITOR_TEXT_DESELECTです。

DtNtextFontListは、DtEditor編集ウィンドウとテキスト・フィールドに使用されるフォント・リストを指定します。
テキスト・フィールドは、ステータス行とDtEditorダイアログ・ボックスに表示されます。

DtNtextForegroundは、編集ウィンドウのフォアグラウンドを指定します。

DtNtextSelectCallbackは、編集領域内でテキストが選択されたときに呼び出される関数を指定します。コールバックによって送られるreasonは、DtEDITOR_TEXT_SELECTです。

DtNtextTranslationsは、編集ウィンドウに追加される変換を指定します。
このリソースで指定された変換は、編集ウィンドウに対して定義された重複する変換を無効にします。DtEditorによって提供される変換のリストにていては、DtEditor(3) マニュアル・ページを参照してください。

DtNtopCharacterは、スクロールした編集ウィンドウの最上部にテキストの位置がある行を表示します。
行は、テキストを左右に移動することなくウィジェットの最上部に表示されます。
位置は、テキストの先頭からの文字数によって決められます。最初の文字位置は０です。

DtNtopCharacterに対するXGetValues(3)は、ウィジェットの最上部に表示される行の最初の文字の位置を返します。

DtNwordWrapは、ウィンドウの右端に達したときに、語の切れ目でソフト・キャリッジ・リターンによる行分割を行います。ワードラップは、エディタ・ウィジェットの内容の視覚的外観にだけ影響を及ぼすので注意してください。行分割(ソフト・キャリッジ・リターン)は、テキストに物理的に挿入されるわけではありません。エディタは、ウィジェットの内容が検索されるときまたはファイルに保存されるときに、ハード・キャリッジ・リターンへの置換をサポートします。
詳細については、DtEditorGetContents(3)
とDtEditorSaveContentsToFile(3) のマニュアル・ページを参照してください。

各リソースのクラス、 型、デフォルト、およびアクセスをにリストします。継承クラスのリソース 値を設定することによって、このウィジェットの属性を設定することもできます。.Xdefaultsファイルの中で名前またはクラスによってリソースを参照するには、DtNまたはDtCの接頭辞を除いて、残りの文字を使用します。.Xdefaultsファイルでリソースに対して定義済みの値の１つを指定するには、Dt接頭辞を除いて、残りの文字を使用します(小文字または大文字で、ただし、語の間に下線を入れています)。

アクセス欄のコードは、次のことが可能かどうかを示します。:

作成時にリソースを設定する。(C)

XtSetValuesを使用して設定する (S)

XtGetValuesを使用して検索する。 (G)

詳細については、DtEditor(3)のマニュアル・ページを参照してください。
# DtEditor リソース


`名前`

`クラス`

`型`

`デフォルト`

`アクセス`

DtNautoShowCursorPosition

DtCAutoShowCursorPosition

Boolean

True

CSG

DtNblinkRate

DtCBlinkRate

int

500

CSG

DtNbuttonFontList

DtCFontList

XmFontList

Dynamic

CSG

DtNcolumns

DtCColumns

XmNcolumns

Dynamic

CSG

DtNcursorPosition

DtCCursorPosition

XmTextPosition

0

CSG

DtNcursorPositionVisible

DtCCursorPositionVisible

Boolean

True

CSG

DtNdialogTitle

DtCDialogTitle

XmString

NULL

CSG

DtNeditable

DtCEditable

Boolean

True

CSG

DtNlabelFontList

DtCFontList

XmFontList

Dynamic

CSG

DtNmaxLength

DtCMaxLength

int

Largest
integer

CSG

DtNoverstrike

DtCOverstrike

Boolean

False

CSG

DtNrows

DtCRows

XmNrows

Dynamic

CSG

DtNscrollHorizontal

DtCScroll

Boolean

True

CG

DtNscrollLeftSide

DtCScrollSide

Boolean

Dynamic

CG

DtNscrollTopSide

DtCScrollSide

Boolean

False

CG

DtNscrollVertical

DtCScroll

Boolean

True

CG

DtNshowStatusLine

DtCShowStatusLine

Boolean

False

CSG

DtNspellFilter

DtCspellFilter

char *

Spell

CSG

DtNtextBackground

DtCBackground

Pixel

Dynamic

CSG

DtNtextDeselectCallback

DtCCallback

XtCallbackList

NULL

C

DtNtextFontList

DtCFontList

XmFontList

Dynamic

CSG

DtNtextForeground

DtCForeground

Pixel

Dynamic

CSG

DtNtextTranslations

DtCTranslations

XtTranslations

NULL

CS

DtNtextSelectCallback

DtCCallback

XtCallbackList

NULL

C

DtNtopCharacter

DtCTextPosition

XmTextPosition

0

CSG

DtNwordWrap

DtCWordWrap

Boolean

True

CSG
# 継承されるリソース<Filename>DtEditor<Default Para Font>継承されるリソース継承されるリソース<Filename>DtEditor<Default Para Font><Filename>DtEditor<Default Para Font>


DtEditorは、次のスーパークラスから動作とリソースを継承します。:

XmForm

XmManager

Composite

Core

詳細については、該当するマニュアル・ページを参照してください。
# ローカライズ・リソース


次のリストは、DtEditorウィジェットとそのダイアログ・ボックスのローカライズのために設計されるウィジェット・リソースのセットを示しています。これらのリソースのデフォルト値は、ロケールに依存します。

DtNcenterToggleLabelは、[書式の設定]ダイアログ・ボックスの中央に揃えるトグル・ボタンのラベルを指定します。Cロケールでのデフォルト値は、[Center]です。

DtNchangeAllButtonLabelは、ドキュメントの中の検索文字列のすべての存在箇所を置換する[検索/変更]ダイアログ・ボックスにあるボタンのラベルを指定します。Cロケールでのデフォルト値は、[Change All]です。

DtNchangeButtonLabelは、ドキュメントの中の検索文字列の次の存在箇所を置換する[検索/変更]ダイアログ・ボックスにあるボタンのラベルを指定します。Cロケールでのデフォルト値は、[Change]です。

DtNchangeFieldLabelは、ユーザが置換文字列を指定する[検索/変更]ダイアログ・ボックスにあるフィールドのラベルを指定します。Cロケールでのデフォルト値は、[Change To]です。

DtNcurrentLineLabelは、ステータス行の現在の行番号フィールドのラベルを指定します。Cロケールでのデフォルト値は、[Line]です。

DtNfindButtonLabelは、ドキュメントの中の検索文字列の次の存在箇所を検索する[検索/変更]ダイアログ・ボックスにあるボタンのラベルを指定します。Cロケールでのデフォルト値は、[Find]です。

DtNfindChangeDialogTitleは、[検索/変更]ダイアログ・ボックスのタイトルを指定します。DtNdialogTitleがヌルでない場合は、このリソースの前面に追加されてタイトルを形成します。Cロケールでのデフォルト値は、[
Find/Change]
です。

DtNfindFieldLabelは、ユーザが検索文字列を指定する[検索/変更]ダイアログ・ボックスにあるフィールドのラベルを指定します。Cロケールでのデフォルト値は、[Find]です。

DtNformatAllButtonLabelは、ドキュメント全体を書式化する[書式の設定]ダイアログ・ボックスにあるボタンのラベル を指定します。Cロケールでのデフォルト値は、[All]です。

DtNformatParagraphButtonLabelは、挿入カーソルを含んでいるパラグラフを書式化する[書式の設定]ダイアログ・ボックスにあるボタンのラベル を指定します。Cロケールでのデフォルト値は、[Paragraph]です。

DtNformatSettingsDialogTitleは、[書式の設定]ダイアログ・ボックスのタイトルを指定します。
DtNdialogTitleがヌルでない場合は、このリソースの前面に追加されてタイトルを形成します。Cロケールでのデフォルト値は、[Format  Setting]です。

DtNinformationDialogTitleは、ユーザにフィードバックと一般情報を提示するのに使用される[インフォメーション]ダイアログ・ボックスのタイトルを指定します。DtNdialogTitleがヌルでない場合は、このリソースの前面に追加されてタイトルを形成します。Cロケールでのデフォルト値は、[Information]です。

DtNjustifyToggleLabelは、[書式の設定]ダイアログ・ボックスにある両端揃えトグルボタンを指定します。Cロケールでのデフォルト値は、[Justify]です。

DtNleftAlignToggleLabelは、[書式の設定]ダイアログ・ボックスにある左揃えトグルボタンのラベルを指定します。Cロケールでのデフォルト値は、[ Left Align]です。

DtNleftMarginFieldLabelは、[書式の設定]ダイアログ・ボックスにある左マージン値フィールドのラベルを指定します。Cロケールでのデフォルト値は、[Left Margin]です。

DtNmisspelledListLabelは、[スペルチェック]ダイアログ・ボックスにある認識不能のまたはスペルが間違っている単語のリストのラベルを指定します。Cロケールでのデフォルト値は、[Misspelled Words]です。

DtNoverstrikeLabelは、エディタが上書きモードであることを示すステータス行にあるラベルを指定します。Cロケールでのデフォルト値は、[Overstrike]です。

DtNrightAlignToggleLabelは、[書式の設定]ダイアログ・ボックスにある右揃えトグルボタンのラベルを指定します。Cロケールでのデフォルト値は、[Right Align]です。

DtNrightMarginFieldLabelは、[書式の設定]ダイアログ・ボックスにある右マージン値フィールドのラベル を指定します。Cロケールでのデフォルト値は、[Right Margin]です。

DtNspellDialogTitleは、[書式の設定]ダイアログ・ボックスのタイトルを指定します。DtNdialogTitleがヌルでない場合は、このリソースの前方に追加されてタイトルを形成します。Cロケールでのデフォルト値は、[Spell]です。

DtNtotalLineCountLabelは、ドキュメントの総行数を示すステータス 行にあるディスプレイのラベル を指定します。Cロケールでのデフォルト値は、[Total]です。

ローカライズ・リソースのそれぞれのクラス、型、デフォルト、およびアクセスをにリストします。アクセス欄のコードは、次のことが可能かどうかを示します。
:

作成時にリソース を設定する(C)

XtSetValuesを使用して設定する (S)

XtGetValuesを使用して検索する。 (G)

詳細については、DtEditor(3)のマニュアル・ページを参照してください。
# DtEditor ローカライズ・リソース


`名前`

`クラス`

`型`

`デフォルト`

`アクセス`

DtNcenterToggleLabel

DtCCenterToggleLabel

XmString

Dynamic

CSG

DtNchangeAllButtonLabel

DtCChangeAllButtonLabel

XmString

Dynamic

CSG

DtNchangeButtonLabel

DtCChangeButtonLabel

XmString

Dynamic

CSG

DtNchangeFieldLabel

DtCChangeFieldLabel

XmString

Dynamic

CSG

DtNcurrentLineLabel

DtCCurrentLineLabel

XmString

Dynamic

CSG

DtNfindButtonLabel

DtCFindButtonLabel

XmString

Dynamic

CSG

DtNfindChangeDialogTitle

DtCFindChangeDialogTitle

XmString

Dynamic

CSG

DtNfindFieldLabel

DtCFindFieldLabel

XmString

Dynamic

CSG

DtNformatAllButtonLabel

DtCFormatAllButtonLabel

XmString

Dynamic

CSG

DtNformatParagraphButtonLabel

DtCFormatParagraphButtonLabel

XmString

Dynamic

CSG

DtNformatSettingsDialogTitle

DtCFormatSettingsDialogTitle

XmString

Dynamic

CSG

DtNinformationDialogTitle

DtCInformationDialogTitle

XmString

Dynamic

CSG

DtNjustifyToggleLabel

DtCJustifyToggleLabel

XmString

Dynamic

CSG

DtNleftAlignToggleLabel

DtCLeftAlignToggleLabel

XmString

Dynamic

CSG

DtNleftMarginFieldLabel

DtCLeftMarginFieldLabel

XmString

Dynamic

CSG

DtNmisspelledListLabel

DtCMisspelledListLabel

XmString

Dynamic

CSG

DtNoverstrikeLabel

DtCOverstrikeLabel

XmString

Dynamic

CSG

DtNrightAlignToggleLabel

DtCRightAlignToggleLabel

XmString

Dynamic

CSG

DtNrightMarginFieldLabel

DtCRightMarginFieldLabel

XmString

Dynamic

CSG

DtNspellDialogTitle

DtCSpellDialogTitle

XmString

Dynamic

CSG

DtNtotalLineCountLabel

DtCTotalLineCountLabel

XmString

Dynamic

CSG
# コールバック関数<Filename>DtEditor<Default Para Font>コールバック関数コールバック関数<Filename>DtEditor<Default Para Font>


DtEditorウィジェットは、次の３つのコールバック関数をサポートします。:

DtEditorNHelpCallback

DtNtextSelectCallback

DtNtextDeselectCallback

エディタ・ウィジェットとそのダイアログ・ボックスについてのヘルプ情報を提示したい場合は、XmNhelpCallbackリソース を設定し、DtEditorHelpCallbackStructの一部として渡されるreason フィールドを使用して、[ヘルプ]ダイアログ・ボックスの内容を設定します。次の構造体へのポインタがXmNHelpCallbackに渡されます。
コールバックのための構造体を次に示し、で説明します。typedef struct {
 int`reason`;
 XEvent    *`event`;
} DtEditorHelpCallbackStruct;
# DtEditorHelp コールバックのための構造体


`構造体`

`説明`

`reason`

コールバックが呼び出されたreason。 
reasonのリストについては、DtEditor(3)
のマニュアル・ページ を参照してください。

`event`

コールバックを呼び出したイベントへのポインタ。値は、NULLになることもあります。

テキストが選択されているかどうかによってメニュー項目とコマンドを有効か無効にしたいときには、DtNtextSelectCallbackリソースおよびDtNtextDeselectCallbackリソースを使用します。DtNtextSelectCallbackは、編集ウィンドウでテキストが選択されたときに呼び出される関数を指定します。DtNtextDeselectCallbackは、編集ウィンドウでテキストが選択されていないときに呼び出される関数を指定します。
コールバックによって送られるreasonは、DtEDITOR_TEXT_SELECTとDtEDITOR_TEXT_DESELECTです。