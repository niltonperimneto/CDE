母国語のサポートこの章では、ヘルプ・ボリュームを複数の言語で提供する場合に変更が必要なヘルプ・システムが使用するファイルを説明します。国際化対応のオンライン・ヘルプ外国のユーザ向けの製品の場合、オンライン・ヘルプをユーザの母国語で提供することが大切です。ヘルプ・システムは、オンライン・ヘルプの記述と表示を実質的にどの言語でもサポートします。実行時のヘルプ・ファイルを作成するためのヘルプ・ボリュームを処理する場合、ファイルの記述にどの言語および文字セットを使用したかを DocBook ソフトウェアに必ず指示しなければなりません。言語および文字セットの情報は、ヘルプ・ボリュームを表示するために適切なフォントを決定するためにも使用されます。国際化の要因次節で説明するいくつかの要因は、オンライン・ヘルプをユーザの母国語で提供するのに役立ちます。文字セット文字セットは、文字を認識するためのコンピュータの内部文字コードのマップ方法を決定します。ほとんどの言語は、ひとつの文字セット全体を表すにはシングル・バイト文字で十分です。しかし、何千もの文字を使用する言語もあります。そのような言語は、ひとつひとつの文字を一意に表すのに２、３、４バイトを必要とします。ヘルプ・システムがサポートする文字セットをに掲げます。しかし、すべてのプラットフォームに存在するわけではない文字セットもあります。共通デスクトップ環境文字セット言語文字セット名説明西ヨーロッパおよび南北アメリカISO-8859-1ISO ラテン 1HP-ROMAN8HP ローマンIBM-850PC マルチリンガル中央ヨーロッパISO-8859-2ISO ラテン 2キリル文字ISO-8859-5ISO ラテン/キリル文字アラビア語ISO-8859-6ISO ラテン/アラビア語HP-ARABIC8HP アラビア語 8IBM-1046PC アラビア語ヘブライ語ISO-8859-8ISO ラテン/ヘブライ語HP-HEBREW8HP ヘブライ 8IBM-856PC ヘブライ語ギリシャ語ISO-8859-7ISO ラテン/ギリシャ語HP GREEK8HP ギリシャ語 8トルコ語ISO-8859-9ISO ラテン 5HP-TURKISH8HP トルコ語 8日本語EUC-JP日本語 EUC (JISX0201, JISX0208, JISX0212)HP-SJISHP 日本語シフトJISHP-KANA8HP 日本語カタカナ8 (JISX0201 1976)IBM-932PC 日本語シフトJIS韓国語EUC-KR韓国 EUC中国語EUC-CN簡体字中国語 EUC (中国) (GB2312)EUC-TW繁体字中国語 EUC (台湾) (CNS
11643.*)HP-BIG5HP 繁体字中国語 Big5HP-CCDCHP 繁体字中国語 CCDCHP-15CNHP 繁体字中国語 EUCタイ語TIS-620タイ語DocBook ファイルを記述するとき、どんなヘルプ・テキストにもマルチバイト文字を使用できます。しかし、DocBook のマークアップ自体（タグ名、エンティティ名、IDなど）は、８ビット文字で入力しなければなりません。DocBook ソフトウェア実行時のヘルプ・ファイルを作成するためにヘルプ・ボリュームを処理する場合、DocBook ソフトウェアに、ファイルを作成するときに使用する言語と文字セットを伝えなければなりません。言語と文字セットの情報は、ヘルプ・トピックを表示するための適切なフォントを決定するために使用されます。言語と文字セットが指定されない場合、DocBook は、デフォルト ISO-8859-1 を仮定します。言語と文字セットはLANG環境変数、あるいは Part の Lang 属性を使用して指定することができます。DocBook ファイルを記述するとき、どんなヘルプ・テキストにもマルチバイト文字を使用できます。しかし、DocBook のマークアップ自体（タグ名、エンティティ名、IDなど）は、８ビット文字で入力しなければなりません。DtHelpヘルプ・ダイアログのメニュー、ボタン、ラベルもユーザの母国語で表示されるべきです。これを実現するために、ヘルプ・ダイアログは、それらの文字列をDtHelp.catという名前のメッセージ・カタログから読み取ります。メッセージ・カタログのソース・ファイルDtHelp.msgには、メニュー、ボタン、メッセージの文字列が指定されています。必要な言語が提供されていない場合は、サンプルのメッセージ・カタログ (/usr/dt/dthelp/nls/C/DtHelp.msg) を翻訳してから、gencatコマンドで実行時のメッセージ・カタログ・ファイルを作成しなければなりません。手順については、を参照してください。新規のメッセージ・カタログをインストールする正しいディレクトリを決定するには、システムに付属のマニュアルを参照してください。LANG 環境変数ユーザのLANG環境変数は、次の２つの理由により重要です。LANGの値は、正しいヘルプ・ボリュームをの位置を見つけるために使用されます。ヘルプ・トピックが表示されるとき、正しいフォントおよび書式化の規則は、ユーザのLANG環境変数に基づいて選択されます。これは、ヨーロッパやアメリカの言語よりも複雑な行の折り返し規則を持つアジアの言語において特に重要です。関連項目共通デスクトップ環境 国際化対応プログラマーズ・ガイドご使用のコンピュータのオペレーティング・システム用の NLS 関連のマニュアルまたはプログラマ用ツールキットフォーマット・テーブル日本語や中国語などのマルチバイト言語には、フォーマット・テーブルが必要です。フォーマット・テーブルは、行頭にできない文字と行末にできない文字のリストを提供します。ヘルプ・ファイルが処理されるときに、フォーマット・テーブルは行が確実に折り返されるようにします。は、新規テーブルの作成方法、またヘルプ開発者用キットで提供されるサンプル・テーブルの編集方法を説明しています。フォント・スキーマDocBook ソフトウェアのおもな機能のひとつは、マークアップされたファイルを、ヘルプ・システムが解釈できる実行時の形式に変換することです。テキストは、型ファミリ、サイズ、傾斜、線の太さなどの特定の属性を指定してフォーマットされています。フォント・スキーマは、別名のように、ヘルプ・システムが、ヘッダ、プロシージャ、リストなどの DocBook 要素にフォントを割り当てるために使う単なる名前です。フォント・スキーマにより、ヘルプ・システムが使用するひとかたまりのテキスト属性を特定のフォントにマップすることができます。標準の共通デスクトップ環境フォントを使用するアプリケーションは、追加のフォント・リソースを定義する必要はありません。それ以外のフォント・セットにアプリケーションが依存する場合は、そのアプリケーション用にフォント・スキーマを作成して追加しなければなりません。関連項目DtStdInterfaceFontNames(5)のマニュアル・ページDtStdAppFontNames
(5)のマニュアル・ページフォント・スキーマの理解DocBook マークアップ言語を使用してヘルプ・ボリュームを記述する場合は、テキストのフォントおよぴサイズは指定しません。DocBook ソフトウェアを起動すると、入力した要素が、テキスト属性を含む実行時のヘルプ・ファイルにフォーマットされます。フォント・スキーマは、テキスト属性を実際のフォント指定にマップします。たとえば、ヘルプ・トピックがボールドの sans serif (サンセリフ) フォントを使用してフォーマットされている場合、フォント・スキーマは、どの共通
デスクトップ環境標準フォントまたはＸフォントが実際にテキスト表示に使用されているかを識別します。フォント・スキーマを使用するおもな目的のひとつは、フォント・サイズの選択肢を提供することです。DocBook ソフトウェアは、ほとんどのトピックの本文を10ポイントにフォーマットします。しかし、実際に表示されるフォントは使用されているフォント・スキーマが決定するため、10ポイントのテキストは、すべて14ポイント・フォントを使用するように指定されます。フォント・リソース各フォント・スキーマは、実際はＸリソースのセットです。Ｘリソースは、ヘルプを表示しているアプリケーションによって読み取られます。フォント・スキーマを変更したい場合は、フォント・リソースをアプリケーションのデフォルトのリソース・ファイルに設定できます。フォント・スキーマ内の各リソースの一般的な形式は次のとおりです。*pitch.size.slant.weight.style.lang.char-set:font specification各フィールドの意味を次に示します。pitch文字間の水平方向の間隔を指定します。このフィールドは、p(プロポーショナル) またはm(等幅) のいずれかです。size希望するフォントの高さを指定します。DocBook でフォーマットされたヘルプ・ファイルでは、この値は、6、8、10、12、または14のいずれかです。slant・希望するフォントの傾斜を指定します。このフィールドは、通常、垂直な文字ならroman、傾斜した文字ならitalicのいずれかになります。weight希望するフォントの線の太さを指定します。このフィールドは、通常、mediumまたはboldのいずれかです。style希望するフォントの一般的なスタイルを指定します。DocBook でフォーマットされたヘルプ・ファイルでは、この値はserifまたはsans_serifのいずれかです。langこの言語を使用してコンパイルされたボリュームが、これらのフォントを使用するように指定します。通常、指定されたchar_setを使用するすべてのボリュームが、これらのフォントを使用するように、* (アスタリスク) をエントリに使用します。char-setヘルプ・テキストの記述に使用する文字セットを使用します。この値は、DocBook を実行したときに指定した文字セットと一致しなければなりません。デフォルトはISO-8859-1です。一部の特殊文字は、symbol文字セットを使用して表示されます。* (アスタリスク) を使用すると、特定の属性のすべての値をもつフォントを指定できます。たとえば、記号セット（特殊文字と特殊記号）は、サイズと文字セットのみに基づいて一意のフォントを識別します。フォント・リソースは、フォント・スキーマ内で次のように表示されます。*.6.*.*.*.*.DT-SYMBOL-1:  -adobe-symbol-medium-r-normal-*-*-60-*-*-
p-*-adobe-fontspecific
*.8.*.*.*.*.DT-SYMBOL-1:  -adobe-symbol-medium-r-normal-*-*-80-*-*-
p-*-adobe-fontspecific
*.10.*.*.*.*.DT-SYMBOL-1: -adobe-symbol-medium-r-normal-*-*-100-*-
*-p-*-adobe-fontspecific
*.12.*.*.*.*.DT-SYMBOL-1: -adobe-symbol-medium-r-normal-*-*-120-*-
*-p-*-adobe-fontspecific
*.14.*.*.*.*.DT-SYMBOL-1: -adobe-symbol-medium-r-normal-*-*-140-*-
*-p-*-adobe-fontspecificchar-setフィールドは、* (アスタリスク) を使用できない唯一のフィールドです。日本語や韓国語などのマルチバイト言語を表示するには、フォント・セットを使用してフォント・リソースを指定しなければなりません。フォント・セットは実際にはフォントのグループです。フォント・セットのリソース・エントリは、複数のフォント名が、, (コンマ) で区切られ、指定が : (コロン) で終了する点を除き、単一のフォントと同様です。次の例は、日本語フォント・セット用の完全に指定したフォント・リソースです。bridge-gothic-medium-r-normal--18-180-75-75-c-80-jisx0201.1976-0,
bridge-gothic-medium-r-normal--18-180-75-75-c-160-jisx0208.1983-0,
bridge-gothic-medium-r-normal--18-180-75-75-c-160-jisx0212.1990-0:マルチバイト言語のフォントを指定するには、最小限の XLFD フォント指定を提供し、システムがフォント・セットを生成するために文字セットの順を指定できるようにすることも可能です。*.12.roman.medium.*.ja_JP.EUC-JP: -*-*-*-*-*-*-*-120-*-*-*-*-*-*:フォント・セットを指定するときには、必ず指定を : (コロン) で終了してください。これにより、ヘルプ・システムは情報を表示するためのフォント・セットを読み込みます。フォント・セットは、マルチバイト言語の表示に使用されます。シングルバイト情報をもつボリュームについては、標準フォント指定を使用してください。フォント・スキーマの例/usr/dt/dthelp/fontschemesディレクトリには、４つのフォント・スキーマが格納されています。fontDef.fnsヘルプ・システムが使用するデフォルト・フォントfontLarge.fns大きなフォントの例fontMulti.fnsマルチバイト・フォントの例fontX11.fnsX11 フォントの例フォント・スキーマを選択するにはオンライン・ヘルプを表示するアプリケーション用のデフォルトのリソース・ファイルを編集します。現在のフォント・リソースがある場合は、新規スキーマに置換します。自分だけのためにこの変更を行う場合は、アプリケーションのリソース・ファイルを自分のホーム・ディレクトリにコピーしてから編集を行ってください。例DtStopWatchという名前の個人用アプリケーションの大きいサイズのフォントを（ヘルプ・ダイアログで）使用するには、次の手順を実行ます。ホーム・ディレクトリへ移動します。cd次に、アプリケーションのデフォルトのリソース・ファイルDtStopWatchをコピーし、書き込み可能にします。cp /usr/dt/app-defaults/C/DtStopWatch.
chmod u+w DtStopWatch最大のスキーマ (fontLarge.fns) を追加するようにDtStopWatchファイルを編集します。ファイルの終端に行き、次のファイルの内容を挿入します。/usr/dt/dthelp/fontschemes/fontLarge.fns