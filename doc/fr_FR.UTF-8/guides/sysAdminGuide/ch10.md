Actionscr&eacute;ation manuelleCr&eacute;ation manuelle d'actionsUne action peut &ecirc;tre d&eacute;finie de deux fa&ccedil;ons:&agrave; l'aide de l'utilitaire &ldquo;Cr&eacute;er action&rdquo;en cr&eacute;ant manuellement une d&eacute;finition d'actionPour cr&eacute;er une action manuellement, vous devez &eacute;diter
un fichier de base de donn&eacute;es; le pr&eacute;sent chapitre explique
comment effectuer cette op&eacute;ration.Voir aussiPour plus de d&eacute;tails sur les actions, reportez-vous
au.Pour savoir comment utiliser &ldquo;Cr&eacute;er action&rdquo;,
reportez-vous au.Pour plus de d&eacute;tails sur les d&eacute;finitions d'actions,
consultez la page de manueldtactionfile(4).Pourquoi cr&eacute;er manuellement une actionActionstypesIl
existe trois principaux types d'action:COMMANDMAPTT_MSGL'utilitaire &ldquo;Cr&eacute;er action&rdquo; permet
uniquement de cr&eacute;er certains types d'actionsCOMMANDetMAP. Toutes les actionsTT_MSGdoivent &ecirc;tre cr&eacute;&eacute;es manuellement.Pour plus de d&eacute;tails, reportez-vous &agrave; la section.ActionsCOMMANDActions de type COMMANDCes actions permettent d'ex&eacute;cuter une commande de lancement d'application
ou d'utilitaire, de lancer un script shell ou d'ex&eacute;cuter une commande
du syst&egrave;me d'exploitation. La d&eacute;finition de l'action indique
la commande &agrave; ex&eacute;cuter (zoneEXEC_STRING).&ldquo;Cr&eacute;er action&rdquo; s'applique aux types les plus courants
d'actions de commande. Cependant, certaines d'entre elles doivent &ecirc;tre
cr&eacute;&eacute;es manuellement, par exemple dans les cas suivants:lorsque l'action comporte plusieurs arguments de fichier,
et qu'une invite diff&eacute;rente est utilis&eacute;e pour chacun d'euxlorsque l'action en appelle une autrelorsqu'elle d&eacute;finit des comportements distincts pour
diff&eacute;rents arguments de fichierslorsqu'elle doit s'ex&eacute;cuter sur un syst&egrave;me &eacute;loign&eacute;,
diff&eacute;rent de celui sur lequel elle est d&eacute;finielorsqu'elle doit pouvoir &ecirc;tre ex&eacute;cut&eacute;e
par un utilisateur diff&eacute;rent (elle peut par exemple inviter l'entr&eacute;e
du mot de passe de root &agrave; un moment sp&eacute;cifique de l'ex&eacute;cution,
puis continuer de s'ex&eacute;cuter en tant que root)ActionsMAPActions
de type MAPActionsMAPCes actions n'indiquent pas directement de commande ou de message ToolTalk
; elles sont mises en correspondance avec d'autres actions.Cette m&eacute;thode permet de sp&eacute;cifier plusieurs noms pour
une m&ecirc;me action. Par exemple, l'action de commande int&eacute;gr&eacute;e
Editeur d'ic&ocirc;nes permet de lancer le programme correspondant. La base
de donn&eacute;es contient &eacute;galement une action &ldquo;Ouvrir&rdquo;,
ne s'appliquant qu'aux fichiers bitmaps et pixmaps (caract&eacute;ristique
indiqu&eacute;e dans la zoneARG_TYPEde la d&eacute;finition
de l'action), mise en correspondance avec l'action &ldquo;Editeur d'ic&ocirc;nes&rdquo;.
Ainsi, l'utilisateur peut lancer l'Editeur d'ic&ocirc;nes en s&eacute;lectionnant
un fichier bitmap ou pixmap dans le Gestionnaire de fichiers, et en choisissant
&ldquo;Ouvrir&rdquo; sur le menu &ldquo;S&eacute;lectionn&eacute;(s)&rdquo;.A l'aide de &ldquo;Cr&eacute;er action&rdquo;, seules les actions &ldquo;Ouvrir&rdquo;
et &ldquo;Imprimer&rdquo; peuvent &ecirc;tre mises en correspondance; toutes
les autres actions doivent l'&ecirc;tre manuellement.ActionsTT_MSGActions de type TT_MSG (message ToolTalk)Ces actions permettent d'envoyer des messages ToolTalk; elle doivent
&ecirc;tre cr&eacute;&eacute;es manuellement.Cr&eacute;ation manuelle d'une action: &eacute;tapes
principalesActionscr&eacute;ation
manuelleLa pr&eacute;sente section explique comment cr&eacute;er un fichier
de configuration pour une d&eacute;finition d'action.Fichiers de configuration d'actionActionsfichiers de configurationFichiersconfigurationLes fichiers de configuration contenant des d&eacute;finitions d'actions
doivent respecter les r&egrave;gles suivantes.Leur nom doit adopter le formatnom.dt.Chemin de rechercheactionsLes fichiers doivent se trouver dans le chemin
de recherche de la base de donn&eacute;es des actions et des types de donn&eacute;es.
Les chemins de recherche par d&eacute;faut sont les suivants:Actions personnellesR&eacute;p_personnel/.dt/typesActions syst&egrave;me/etc/dt/appconfig/types/langueActions int&eacute;gr&eacute;es/usr/dt/appconfig/types/langue. Il est pr&eacute;f&eacute;rable
de ne pas utiliser ce r&eacute;pertoire.Pour plus de d&eacute;tails sur la modification du chemin de recherche
des actions et des types de donn&eacute;es, reportez-vous &agrave; la section.Proc&eacute;dureActionscr&eacute;ation manuelleOuvrez un fichier de base de donn&eacute;es existant ou cr&eacute;ez-en
un nouveau. Reportez-vous &agrave; la section pr&eacute;c&eacute;dente,.Cr&eacute;ez la d&eacute;finition de l'action en utilisant
la syntaxe:ACTION nom_action 
{ 
   TYPE   type_action zone_action  
   &hellip; 
}o&ugrave;:nom_actionActionsnomNom utilis&eacute; pour appeler l'action.type_actionActionstypesCOMMAND(d&eacute;faut),MAPouTT_MSG.zone_actionActionstypesActionstypesUne ou plusieurs des zones requises
ou facultatives pour ce type d'action. Elles se composent d'un mot cl&eacute;
et d'une valeur.La plupart des zones d'action sont d&eacute;crites
dans ce chapitre. Pour plus de d&eacute;tails, consultez la page de manuel
dtactionfile(4).Enregistrez le fichier.Pour associer des ic&ocirc;nes particuli&egrave;res &agrave;
l'action, cr&eacute;ez-les. Par d&eacute;faut, les ic&ocirc;nes se trouvent
dans les r&eacute;pertoires suivants:ic&ocirc;nes personnelles:R&eacute;p_Personnel/.dt/iconsic&ocirc;nes syst&egrave;me:/etc/dt/appconfig/icons/langue (la languepar d&eacute;faut
est C).Pour plus de d&eacute;tails, reportez-vous &agrave; la section.Cliquez deux fois sur &ldquo;Recharger actions&rdquo; dans
le groupe d'applications Outils_Bureau.Cr&eacute;ez un fichier d'action, pour qu'une ic&ocirc;ne
repr&eacute;sentant l'action soit ajout&eacute;e dans le Gestionnaire de fichiers
ou d'applications. Si l'action est destin&eacute;e &agrave; lancer une application,
l'ic&ocirc;ne est appel&eacute;eIc&ocirc;ne d'applicationic&ocirc;ne d'application.Pour cr&eacute;er le fichier d'action, cr&eacute;ez un fichier ex&eacute;cutable
portant le m&ecirc;me nom que l'action, dans n'importe quel r&eacute;pertoire
auquel vous avez acc&egrave;s en &eacute;criture. Vous pouvez cr&eacute;er
autant de fichiers d'action que n&eacute;cessaire.Exemple d'action COMMANDActionsexemple d'action COMMANDLes &eacute;tapes suivantes cr&eacute;ent une action personnelle permettant
de lancer une application de t&eacute;l&eacute;copie sur un syst&egrave;me
&eacute;loign&eacute; appel&eacute; Serveur_AppA. La commande de lancement
de cette application est la suivante:/usr/fax/bin/faxcompose [nom_fichier]Cr&eacute;ez le fichierR&eacute;p_personnel/.dt/types/T&eacute;l&eacute;copie.dt.Entrez la d&eacute;finition d'action suivante dans le fichier
:ACTION Compo_t&eacute;l&eacute;copie 
{ 
   TYPE         COMMAND 
   ICON         fax 
   WINDOW_TYPE  NO_STDIO 
   EXEC_STRING  /usr/fax/bin/faxcompose -c %Arg_1% 
   EXEC_HOST    Serveur_AppA 
   DESCRIPTION  Lance le programme de composition des t&eacute;l&eacute;copies.
)Les zonesWINDOW_TYPEetEXEC_STRINGd&eacute;crivent le comportement de l'action.WINDOW_TYPELe mot cl&eacute;NO_STDIOindique que l'action ne doit pas n&eacute;cessairement &ecirc;tre
ex&eacute;cut&eacute;e dans une fen&ecirc;tre d'&eacute;mulation de terminal.Pour plus de d&eacute;tails, reportez-vous &agrave; la section.EXEC_STRINGLa syntaxe%Arg_1%indique qu'un fichier peut &ecirc;tre pos&eacute; sur l'action. Lorsque l'utilisateur
clique deux fois sur l'ic&ocirc;ne d'action, une fen&ecirc;tre de composition
de t&eacute;l&eacute;copie vide s'affiche.Pour plus de d&eacute;tails,
reportez-vous &agrave; la section.Sauvegardez le fichier.&Agrave; l'aide de l'Editeur d'ic&ocirc;nes, cr&eacute;ez
les ic&ocirc;nes suivantes dans le r&eacute;pertoire auquelR&eacute;p_personnel/.dt/icons:T&eacute;lecopie.m.pm(32 x 32 pixels)T&eacute;lecopie.t.pm(16 x 16 pixels)Cliquez deux fois sur Recharger actions dans le groupe d'applications
Outils_Bureau.Cr&eacute;ez un fichier ex&eacute;cutable appel&eacute;Compo_t&eacute;l&eacute;copiedans un r&eacute;pertoire auquel
vous avez acc&egrave;s en &eacute;criture (votre r&eacute;pertoire personnel,
par exemple).Exemple d'action MAPActionsexemple d'action MAPSupposons que vous cr&eacute;ez la plupart des fichiers que vous t&eacute;l&eacute;copiez
&agrave; l'aide de l'Editeur de texte et qu'ils ont le type de donn&eacute;es
TEXTFILE (leur extension est.txt).La proc&eacute;dure ci-apr&egrave;s permet d'ajouter une option T&eacute;l&eacute;copier
au menu S&eacute;lectionn&eacute;(s) associ&eacute; &agrave; ce type de donn&eacute;es.Ouvrez le fichierR&eacute;p_personnel/.dt/types/T&eacute;l&eacute;copie.dtque vous
avez cr&eacute;&eacute; pr&eacute;c&eacute;demment.Ajoutez-y la d&eacute;finition d'actionMAPsuivante:ACTION T&eacute;l&eacute;copier
{
   ARG_TYPE    TEXTFILE
   TYPE        MAP
   MAP_ACTION  Compo_t&eacute;l&eacute;copie
}Sauvegardez le fichier.Copiez la d&eacute;finition des attributs du type de donn&eacute;es
TEXTFILE de/usr/dt/appconfig/types/langue/dtpad.dtdans un nouveau fichier,R&eacute;p_personnel/.dt/types/fich_texte.dt. Ajoutez l'action T&eacute;l&eacute;copier &agrave; la zoneACTIONS.DATA_ATTRIBUTES TEXTFILE 
{ 
   ACTIONS   Ouvrir,Imprimer,T&eacute;l&eacute;copier 
   ICON      Dtpenpd 
   &hellip;
}Enregistrez le fichier.Ouvrez le Gestionnaire d'applications et cliquez deux fois
sur Recharger applications, dans le groupe d'applicationsOutils_Bureau.Rechargement de la base de donn&eacute;es des actions
et des types de donn&eacute;esTypes de donn&eacute;esrechargementTypes de donn&eacute;esRecharger actionsActionsrechargementBase de donn&eacute;esrechargement des actionsActionsRecharger actionsBase de donn&eacute;esrechargementActionsRecharger actionsPour que les nouvelles d&eacute;finitions d'action ou les actions modifi&eacute;es
entrent en vigueur, le Bureau doit relire la base de donn&eacute;es.Ouvrez le groupe d'applicationsOutils_Bureauet cliquez deux fois sur Recharger actions.Oulancez la commande:dtaction ReloadActionsActionsRecharger actionsReloadActions est le nom de l'action correspondant &agrave; l'ic&ocirc;ne
Recharger actions.La base de donn&eacute;es est &eacute;galement relue lorsque l'utilisateur
:se connecterelance le Gestionnaire de l'espace de travailenregistre une action dans la fen&ecirc;tre Cr&eacute;er action
&agrave; l'aide de l'option Sauvegarder du menu FichierIc&ocirc;ne d'actioncr&eacute;ationIc&ocirc;ne d'applicationcr&eacute;ationFichierd'actioncr&eacute;ationCr&eacute;ation d'un fichier (ic&ocirc;ne) d'actionActionsfichiers, voir Fichier d'actionIc&ocirc;ne d'actionIc&ocirc;nesactionActionsic&ocirc;nesUnFichieractionfichier d'actionpermet de cr&eacute;er une
repr&eacute;sentation visuelle d'une action dans le Gestionnaire de fichiers
ou d'applications.Fichiers d'action(ouic&ocirc;nes d'actionou encoreic&ocirc;nes d'application) dans
le Gestionnaire d'applicationsLes ic&ocirc;nes de fichiers d'action repr&eacute;sentant des actions,
elles sont parfois appel&eacute;esIc&ocirc;ne
d'actionic&ocirc;nes d'action. Si les actions
associ&eacute;es permettent de lancer une application, ces ic&ocirc;nes sont
appel&eacute;esic&ocirc;nes d'application.Lorsque vous cliquez deux fois sur une ic&ocirc;ne d'action, l'action
correspondante est lanc&eacute;e. Une ic&ocirc;ne d'action peut &eacute;galement
&ecirc;tre une zone de pose.Proc&eacute;dureCr&eacute;ez un fichier ex&eacute;cutable portant le m&ecirc;me
nom queActionsnoml'action;
son contenu n'a pas d'importance.Par exemple, dans le cas d'une action d&eacute;finie comme suit:ACTION Mon_application
{
   EXEC_STRING  Ma -file %Arg_1%
   DESCRIPTION  Lance Mon_application.
   ICON         Mapp
}Le fichier d'action est un fichier ex&eacute;cutable appel&eacute;Mon_application. Dans les Gestionnaires de fichiers et d'applications,
ce fichier utilise l'ic&ocirc;neMapp.taille.type.
Lorsque vous cliquez deux fois sur cette ic&ocirc;ne, la cha&icirc;ne d'ex&eacute;cution
de l'action est lanc&eacute;e. Lorsque vous demandez l'aide sur l'&eacute;l&eacute;ment
de l'action,Aidefichier d'actionZoneDESCRIPTIONle contenu de la zoneDESCRIPTIONs'affiche.Actionslibell&eacute;sLibell&eacute;sactionsLibell&eacute;s d'actionsSi la zoneLABELfigure dans une d&eacute;finition
d'action, sa valeur sera utilis&eacute;e comme libell&eacute; du fichier d'action
dans les Gestionnaires de fichiers et d'applications, &agrave; la place du
nom du fichier (nom_action). Par exemple,
si la d&eacute;finition d'action comporte les zones suivantes:ACTION Mon_application
{
   LABEL   Mon application
   &hellip;
}Le libell&eacute; de l'ic&ocirc;ne d'action sera &ldquo;Mon application&rdquo;.D&eacute;finition d'une ic&ocirc;ne d'actionActionsic&ocirc;nesIc&ocirc;nesactionsPour indiquer l'image &agrave; utiliser pour les ic&ocirc;nes d'une
action dans les Gestionnaires de fichiers et d'applications, compl&eacute;tez
la zoneICON.Si vous ne sp&eacute;cifiez pas d'ic&ocirc;ne, le syst&egrave;me utiliseActionsic&ocirc;ne par d&eacute;fautles fichiers d'ic&ocirc;nes d'action par d&eacute;faut situ&eacute;s
dans le r&eacute;pertoire/usr/dt/appconfig/icons/langue/Dtactn.*.Ic&ocirc;ne d'action par d&eacute;fautPour modifier l'ic&ocirc;ne d'action, utilisez la ressource suivante
:RessourcesactionIcon*actionIcon:nom_fichier_ic&ocirc;neo&ugrave;nom_fichier_ic&ocirc;nepeut
&ecirc;tre un nom de base ou un chemin d'acc&egrave;s absolu.La zoneICONpeut prendre l'une des valeurs ci-dessous.ZoneICONvaleursUn nom de base de fichier.IlNom de bases'agit du nom
du fichier contenant l'image, sans les extensions indiquant la taille de cette
derni&egrave;re (mett) et son type
(bmetpm). Par exemple, le nom de base
des fichiersIc&ocirc;neJeu.m.pmetIc&ocirc;neJeu.t.pmestIc&ocirc;neJeu.Si vous indiquez un nom de base, les fichiers d'ic&ocirc;ne doivent
se trouver dans un r&eacute;pertoire du chemin de recherche des ic&ocirc;nes
:ic&ocirc;nes personnelles:R&eacute;p_Personnel/.dt/iconsic&ocirc;nes syst&egrave;me:/etc/dt/appconfig/icons/langueUn chemin d'acc&egrave;s absolu, comprenant le nom complet
du fichier.Utilisez le chemin absolu uniquement si le fichier d'ic&ocirc;ne ne
figure pas dans le chemin de recherche des ic&ocirc;nes. Par exemple, dans
le cas du fichierIc&ocirc;neJeu.m.pm, situ&eacute; dans
le r&eacute;pertoire/doc/projets(ne se trouvant pas
dans le chemin de recherche des ic&ocirc;nes), la valeur de la zoneICONdoit &ecirc;tre/doc/projets/Ic&ocirc;neJeu.m.pm.Leindique les diff&eacute;rentes tailles d'ic&ocirc;nes
et les noms de fichiers correspondants.Nom et taille des ic&ocirc;nes d'actionTaille en pixelsNom du bitmapNom du pixmap48 x 48nom.l.bmnom.l.pm32 x 32nom.m.bmnom.m.pm16 x 16nom.t.bmnom.t.pmModification d'une d&eacute;finition d'action existanteActionsmodificationToutes les actions install&eacute;es sur le syst&egrave;me peuvent &ecirc;tre
modifi&eacute;es, y compris les actions int&eacute;gr&eacute;es.Toute modification de la base de donn&eacute;es des actions int&eacute;gr&eacute;es
doit &ecirc;tre effectu&eacute;e avec prudence, en veillant &agrave; ne pas
compromettre la compatibilit&eacute; des actions int&eacute;gr&eacute;es avec
les applications du Bureau.Localisez la d&eacute;finition de l'action &agrave; modifier.Les emplacements par d&eacute;faut des d&eacute;finitions d'action sont
les suivants:actions int&eacute;gr&eacute;es:/usr/dt/appconfig/types/langueactions syst&egrave;me:/etc/dt/appconfig/types/langueactions personnelles:R&eacute;p_personnel/.dt/types<$nopage>Actionschemin de
recherche, voir Chemin de recherche de base de donn&eacute;esIl est possible que des emplacements suppl&eacute;mentaires soient
disponibles sur votre syst&egrave;me. Pour en afficher la liste, entrez la
commande suivante:dtsearchpathdtsearchpath -vVotre syst&egrave;me utilise les r&eacute;pertoires indiqu&eacute;s
parVariablesDTDATABASESEARCHPATHla variableDTDATABASESEARCHPATH.S'il y a lieu, copiez la d&eacute;finition d'action dans un
fichier (nouveau ou existant) de l'un des r&eacute;pertoires suivants:actions syst&egrave;me:/etc/dt/appconfig/types/langueactions personnelles:R&eacute;p_personnel/.dt/typesLes fichiers situ&eacute;s dans/usr/dt/appconfig/types/languene pouvant pas &ecirc;tre modifi&eacute;s,
vous devez copier les actions int&eacute;gr&eacute;es.Effectuez les modifications voulues. Une fois cette op&eacute;ration
termin&eacute;e, enregistrez le fichier.Cliquez deux fois sur Recharger actions dans le groupe d'applications
Outils_Bureau.Priorit&eacute; des d&eacute;finitions d'actionActionsr&egrave;gles de priorit&eacute;Lorsque l'utilisateur lance une action, le syst&egrave;me recherche
une entr&eacute;e correspondante dans la base de donn&eacute;es. Lorsqu'il
existe plusieurs occurrences, des r&egrave;gles de priorit&eacute; sont appliqu&eacute;es
pour s&eacute;lectionner l'action &agrave; utiliser.La priorit&eacute; est d&eacute;termin&eacute;e par l'emplacement
de la d&eacute;finition d'action, si aucune autre r&egrave;gle n'est d&eacute;finie.
La liste suivante indique les r&eacute;pertoires d'actions, dans un ordre
de priorit&eacute; d&eacute;croissant:actions personnelles (R&eacute;p_personnel/.dt/types)actions syst&egrave;me locales (/etc/dt/appconfig/types/langue)actions syst&egrave;me &eacute;loign&eacute;es (nom_h&ocirc;te:/etc/dt/appconfig/types/langue). Les syst&egrave;mes h&ocirc;tes &eacute;loign&eacute;s
recherch&eacute;s sont ceux d&eacute;finis dans le chemin de recherche des
applicationsactions int&eacute;gr&eacute;es (/usr/dt/appconfig/types/langue.A l'int&eacute;rieur d'un r&eacute;pertoire, les fichiers*.dtsont lus dans l'ordre alphab&eacute;tique.Les actions faisant l'objet d'une restriction(ARG_CLASS,ZoneARG_TYPEARG_TYPE,ZoneARG_MODEARG_MODEouZoneARG_COUNTARG_COUNT)sont prioritaires par rapport aux autres.
La valeur par d&eacute;faut de ces zones est*.Lorsque plusieurs restrictions s'appliquent, l'ordre (d&eacute;croissant)
de priorit&eacute; est le suivant:ARG_CLASSARG_TYPEARG_MODEARG_COUNTSi plusieurs restrictionsARG_COUNTexistent, l'ordre
(d&eacute;croissant) de priorit&eacute; est le suivant:Valeur enti&egrave;ren<n>n*Par exemple, dans le cas de la d&eacute;finition d'action (partielle)
suivante:ACTION Editer_graphiques
# Editer_graphiques-1
{
   ARG_TYPE   XWD
   &hellip;
}

ACTION Editer_graphiques
# Editer_graphiques-2
{
   ARG_COUNT  0
   &hellip;
}

ACTION Editer_graphiques
# Editer_graphiques-3
{
   ARG_TYPE  *
   &hellip;
}Lorsque vous cliquez deux fois sur l'ic&ocirc;ne d'action Editer_graphiques,
l'action Editer_graphiques-2 est lanc&eacute;e. En effet, aucun argument n'ayant
&eacute;t&eacute; indiqu&eacute;,ARG_COUNT 0est prioritaire.
Lorsqu'un argument (fichier de type XWD) est sp&eacute;cifi&eacute;, Editer_graphiques-1
est lanc&eacute;e car la zoneARG_TYPEest d&eacute;finie
(sa valeur est XWD). Editer_graphiques-3 est utilis&eacute;e pour tous les
autres arguments (fichiers).Cr&eacute;ation de la cha&icirc;ne d'ex&eacute;cution
d'une action COMMANDActionscha&icirc;ne
d'ex&eacute;cutionActionsligne de commandeCha&icirc;ne d'ex&eacute;cutionActionscha&icirc;ne d'ex&eacute;cutionActionsCOMMAND<$nopage>ZoneEXEC_STRING, Voir Cha&icirc;ne
d'ex&eacute;cutionLes deux zones requises pour une action de typeActionsCOMMANDCOMMANDsontACTIONetEXEC_STRING.ACTION nom_action 
{
   EXEC_STRING  cha&icirc;ne_ex&eacute;cution
}La cha&icirc;ne d'ex&eacute;cution est la partie essentielle d'une d&eacute;finition
d'actionCOMMAND; sa syntaxe est identique &agrave; celle
de la ligne de commande entr&eacute;e dans une fen&ecirc;tre d'&eacute;mulation
de terminal. Elle contient cependant des &eacute;l&eacute;ments suppl&eacute;mentaires
destin&eacute;s au traitement des arguments (cha&icirc;nes et fichiers).Cha&icirc;ne d'ex&eacute;cutiong&eacute;n&eacute;ralit&eacute;sFonctions g&eacute;n&eacute;rales
des cha&icirc;nes d'ex&eacute;cutionUne cha&icirc;ne d'ex&eacute;cution peut contenir:des arguments (fichiers ou autres)une syntaxe de shelldes chemins d'acc&egrave;s absolus ou des noms de fichiers
ex&eacute;cutablesArguments d'actionActionsargumentsArgumentsactionsUn argument est une donn&eacute;e n&eacute;cessaire &agrave; l'ex&eacute;cution
d'une application ou d'une commande. Par exemple, la ligne de commande ci-apr&egrave;s
permet d'ouvrir un fichier dans une fen&ecirc;tre de l'Editeur de texte.dtpadnom_fichierDans cette commande,nom_fichierest
un fichier indiqu&eacute; comme argument de la commandedtpad.Tout comme les applications et les commandes, les actions peuvent &ecirc;tre
associ&eacute;es &agrave; des arguments. Les deux types d'arguments disponibles
pour les actionsCOMMANDsont les suivants:fichierscha&icirc;nesUtilisation des shells dans les cha&icirc;nes d'ex&eacute;cutionCha&icirc;ne d'ex&eacute;cutionsyntaxe de shellShellsyntaxeBien que la cha&icirc;ne s'ex&eacute;cute directement, sans passer par
un shell, vous pouvez en indiquer un dans sa syntaxe.Par exemple:EXEC_STRING     \
        /bin/sh -c \
        'tar -tvf %(File)Arg_1% 2>&amp;1 | \${PAGER:-more};\
        echo "\\n*** S&eacute;lectionnez Fermer pour sortir ***&rdquo;'Nom ou chemin d'acc&egrave;s absolu du fichier ex&eacute;cutableCha&icirc;ne d'ex&eacute;cutionfichier ex&eacute;cutableSi votre application est install&eacute;e dans un r&eacute;pertoire
figurant dans la variableVariablesPATHPATH, vous pouvez indiquer uniquement le nom du
fichier ex&eacute;cutable. Sinon, vous devez utiliserCha&icirc;ne d'ex&eacute;cutionchemin d'acc&egrave;s
absoluson chemin d'acc&egrave;s absolu.Cr&eacute;ation d'une action sans argumentsCha&icirc;ne d'ex&eacute;ctionsans argumentsActionssans argumentsActionssans donn&eacute;esDans la zoneEXEC_STRING, utilisez la syntaxe permettant
de lancer l'application &agrave; partir de la ligne de commande.ExemplesLa cha&icirc;ne d'ex&eacute;cution suivante fait partie d'une
action permettant de lancer le client Xxcutsel:EXEC_STRING xcutselLa cha&icirc;ne suivante permet de lancer le clientxclocken indiquant une horloge num&eacute;rique; la ligne de commande
comporte une option mais aucun argument n'est requis:EXEC_STRING xclock -digitalCr&eacute;ation d'une action prenant en charge
la pose de fichiersCha&icirc;ne d'ex&eacute;cutionfichiers pos&eacute;sActionsprise en charge de fichiers pos&eacute;sZone de poseic&ocirc;ne
d'actionFichiers pos&eacute;sPour indiquer l'argument (fichier), utilisez la syntaxe suivante:SyntaxeArg_n%Arg_n%ou%(File)Arg_n%(File)est facultatif, &eacute;tant donn&eacute;
que les arguments indiqu&eacute;s pourArg_n sontconsid&eacute;r&eacute;s par d&eacute;faut comme des fichiers. Pour plus de
d&eacute;tails sur l'utilisation de la syntaxe%(String)Arg_n%, reportez-vous &agrave; la section.Cette syntaxe permet &agrave; l'utilisateur de poser un fichier de donn&eacute;es
sur une ic&ocirc;ne d'action afin de l'utiliser comme argument pour cette
derni&egrave;re. Il remplace leni&egrave;me
argument de la ligne de commande. Il peut s'agir d'un fichier local ou &eacute;loign&eacute;.ExemplesLa cha&icirc;ne d'ex&eacute;cution suivante lancewc -wen utilisant un fichier pos&eacute; comme argument pour le
param&egrave;tre.EXEC_STRING wc -w %Arg_1%L'exemple ci-dessous repr&eacute;sente la d&eacute;finition
partielle d'une action qui n'accepte que des r&eacute;pertoires en tant qu'arguments.
Lorsqu'un r&eacute;pertoire est pos&eacute; sur l'ic&ocirc;ne de cette action,
celle-ci affiche la liste des fichiers du r&eacute;pertoire accessibles en
lecture-&eacute;criture.ACTION Liste_fich_accessibles 
{
   ARG_TYPE     FOLDER
   EXEC_STRING  /bin/sh -c 'ls -l %Arg_1% | grep rw-' 
   &hellip; 
}Cr&eacute;ation d'une action invitant &agrave;
indiquer un argument (fichier)Cha&icirc;ne d'ex&eacute;cutionfichier requisActionsindication d'un fichierPour indiquer l'argument (fichier), utilisez la syntaxe suivante:%(File)"invite"%Lorsque l'utilisateur clique deux fois sur l'ic&ocirc;ne correspondant
&agrave; cette action, un message l'invitant &agrave; indiquer un nom de fichier
s'affiche.Par exemple, la cha&icirc;ne d'ex&eacute;cution suivante affiche une
bo&icirc;te de dialogue dans laquelle l'argument de la commandewc -wdoit &ecirc;tre indiqu&eacute;:EXEC_STRING wc -w %(File)"Fichier &agrave; compter :"%Cr&eacute;ation d'une action supportant les fichiers
pos&eacute;s ou invitant &agrave; les indiquerActionsposer un fichierPour indiquer l'argument (fichier), utilisez la syntaxe suivante:%Arg_n"invite"%ou%(File)Arg_n"invite"%L'action cr&eacute;&eacute;e par cette syntaxe:accepte les fichiers pos&eacute;s en tant qu'argumentsaffiche, lorsque l'utilisateur clique sur l'ic&ocirc;ne correspondante,
une bo&icirc;te de dialogue l'invitant &agrave; entrer un nom de fichierPar exemple, la cha&icirc;ne d'ex&eacute;cution ci-dessous lance la
commandelp -orawsur un fichier pos&eacute;. Si l'utilisateur
a cliqu&eacute; deux fois sur l'ic&ocirc;ne de l'action pour la lancer, il
est invit&eacute; &agrave; indiquer un nom de fichier.EXEC_STRING lp -oraw %Arg_1"Fichier &agrave; imprimer:"%Cr&eacute;ation d'une action invitant &agrave;
indiquer un argument autre qu'un fichierCha&icirc;ne
d'ex&eacute;cutioncha&icirc;ne requiseActionsargumentsArgumentsnon-fichierActionsargumentsPour indiquer l'argument, utilisez la syntaxe suivant:%"invite"%ou%(String)"invite"%(String)est facultatif; en effet, le texte indiqu&eacute;
entre guillemets est consid&eacute;r&eacute; par d&eacute;faut comme une cha&icirc;ne.
Cette syntaxe affiche une bo&icirc;te de dialogue qui invite l'utilisateur
&agrave; entrer des donn&eacute;es; ne l'utilisez pas lorsqu'un nom de fichier
doit &ecirc;tre indiqu&eacute;.Par exemple, la cha&icirc;ne d'ex&eacute;cution suivante lance la commandexwdet invite l'utilisateur &agrave; indiquer une valeur &agrave;
ajouter &agrave; chaque pixel:EXEC_STRING xwd -add %"Valeur &agrave; ajouter :"% -out %Arg_1"Nom du 
fichier :"%Interpr&eacute;tation d'un argument (fichier)
en tant que cha&icirc;nePour indiquer l'argument, utilisez la syntaxe suivante:%(String)Arg_n%Par exemple, la cha&icirc;ne d'ex&eacute;cution suivante permet d'imprimer
un fichier accompagn&eacute; d'une page banni&egrave;re indiquant son nom,
&agrave; l'aide de la commandelp -tbanni&egrave;re nom_fichier.EXEC_STRING lp -t%(String)Arg_1% %(File)Arg_1"Fichier &agrave; imprimer :"%Fonctions shellActionsfonctions shellShellsactionsShellsactionsIndiquez le shell dans la cha&icirc;ne d'ex&eacute;cution:/bin/sh -c 'commande'
/bin/ksh -c 'commande'
/bin/csh -c 'commande'ExemplesLa cha&icirc;ne d'ex&eacute;cution suivante correspond &agrave;
une action qui utilise les fonctions de tube du shell:EXEC_STRING /bin/sh -c 'ps | lp'La cha&icirc;ne suivante est plus complexe; elle requiert
un traitement par le shell et supporte un argument (fichier):EXEC_STRING /bin/sh -c 'tbl %Arg_1"Page de manuel :"% | troff -man'Pour la cha&icirc;ne ci-apr&egrave;s, l'argument doit &ecirc;tre
un fichier compress&eacute;; l'action le d&eacute;compresse et l'imprime
&agrave; l'aide de la commandelp -oraw.EXEC_STRING /bin/sh -c 'cat %Arg_1 "Fichier &agrave; imprimer :"% |  uncompress | lp -oraw'La cha&icirc;ne suivante permet de lancer un script shell
:EXEC_STRING /usr/local/bin/LancerClientGnuCr&eacute;ation d'actions COMMAND pour plusieurs arguments (fichiers)Cha&icirc;ne d'ex&eacute;cutionarguments multiplesArgumentsactionsLes actions peuvent g&eacute;rer les arguments multiples des trois mani&egrave;res
suivantes.L'action peut &ecirc;tre ex&eacute;cut&eacute;e &agrave; plusieurs
reprises, &agrave; raison d'une par argument. Lorsqu'une zoneEXEC_STRINGd&eacute;finit un seul argument et que plusieurs fichiers sont
pos&eacute;s sur l'ic&ocirc;ne de l'action, celle-ci est ex&eacute;cut&eacute;e
pour chaque fichier.Par exemple, si plusieurs fichiers sont indiqu&eacute;s pour la d&eacute;finition
d'action suivante:ACTION Affich_image_&eacute;cran 
{
   EXEC_STRING xwud -in %Arg_1%
    &hellip; 
}Dans ce cas, l'action Affich_image_&eacute;cran est ex&eacute;cut&eacute;e
&agrave; plusieurs reprises.L'action peut utiliser deux (ou plus) fichiers non interchangeables.
Par exemple:xsetroot -cursorfich_curseur fich_masqueCette action requiert deux fichiers, indiqu&eacute;s dans un ordre donn&eacute;.Une action peut &eacute;galement ex&eacute;cuter la m&ecirc;me
commande de fa&ccedil;on s&eacute;quentielle sur chaque fichier. Par exemple
:prfichier[fichier&hellip;]Cette action regroupe un ou plusieurs fichiers dans un m&ecirc;me travail
d'impression.Cr&eacute;ation d'une action avec des arguments
non interchangeablesActionsarguments
non interchangeablesArgumentsnon interchangeablesUtilisez l'une des syntaxes d&eacute;crites ci-dessous.Pour que l'action invite &agrave; indiquer les noms de fichier,
utilisez la syntaxe suivante pour chaque argument:%(File)&rdquo;invite&rdquo;%Utilisez une cha&icirc;neinvitediff&eacute;rente
pour chaque argument.Par exemple, la cha&icirc;ne suivante invite &agrave; sp&eacute;cifier
deux fichiers:EXEC_STRING  xsetroot -cursor %(File)&rdquo;Bitmap curseur :&rdquo;% \ 
             %(File)&rdquo;Bitmap masque :&rdquo;%Pour que l'action supporte les fichiers pos&eacute;s, utilisez
la syntaxe suivante pour chaque argument:%Arg_n%Attribuez une valeur diff&eacute;rente &agrave;npour chaque argument. Par exemple:EXEC_STRING diff %Arg_1% %Arg_2%Cr&eacute;ation d'une action avec des arguments
interchangeablesActionsarguments
interchangeablesArgumentsinterchangeablesUtilisez l'une des syntaxes d&eacute;crites ci-dessous.Pour cr&eacute;er une action supportant les fichiers pos&eacute;s,
charg&eacute;e d'ex&eacute;cuter une commande du typecommandefichier1fichier2&hellip;, utilisez la syntaxe suivante pour
les arguments:%Args%Pour cr&eacute;er une action qui prenne en charge plusieurs
fichiers pos&eacute;s, ou qui affiche un message invitant &agrave; indiquer
un fichier lorsque l'utilisateur clique deux fois dessus, utilisez la syntaxe
suivante pour les arguments:%Arg_1&rdquo;invite&rdquo;% %Args%La commande sera lanc&eacute;e sous la formecommandefichier1fichier2&hellip;.ExemplesLa cha&icirc;ne suivante cr&eacute;e une action qui ex&eacute;cute
la commande:prfichier1fichier2Cette action prend en charge plusieurs arguments (fichiers).EXEC_STRING pr %Args%La cha&icirc;ne suivante cr&eacute;e une action semblable
&agrave; la pr&eacute;c&eacute;dente, qui affiche en outre une invite lors
de l'ex&eacute;cution d'un double d&eacute;clic par l'utilisateur (pas d'arguments):EXEC_STRING pr %Arg_1"Fichier(s) &agrave; imprimer :"% %Args%Cr&eacute;ation d'une action pour plusieurs fichiers
pos&eacute;sActionsposer plusieurs
fichiersPour cr&eacute;er une action qui supporte plusieurs arguments et ex&eacute;cute
une commande du type:commandefichier1fichier2&hellip;Utilisez la syntaxe:%Args%ExemplesLa cha&icirc;ne suivante lance le script V&eacute;rification
sur plusieurs fichiers:EXEC_STRING   /usr/local/bin/V&eacute;rification \
              %Arg_1"Fichier &agrave; v&eacute;rifier ?"% %Args%La cha&icirc;ne suivante ex&eacute;cute la commandelp -orawsur plusieurs fichiers:EXEC_STRING lp -oraw %Arg_1"Fichier &agrave; imprimer :"% %Args%Support de fen&ecirc;trage et &eacute;mulateurs
de terminal pour les actions COMMANDActionssupport de fen&ecirc;trageEmulateur de terminalactionsLes actionsCOMMANDsupportent les fen&ecirc;tres
du Bureau des mani&egrave;res d&eacute;crites ci-dessous.Si l'application dispose de sa propre fen&ecirc;tre, l'action
peut &ecirc;tre con&ccedil;ue de sorte qu'aucune fen&ecirc;tre suppl&eacute;mentaire
ne soit ouverte. Cette option est &eacute;galement utilis&eacute;e pour les
actions qui lancent des commandes ne requ&eacute;rant aucune entr&eacute;e
utilisateur et ne g&eacute;n&eacute;rant aucune sortie.Si l'application doit s'ex&eacute;cuter dans une fen&ecirc;tre
d'&eacute;mulation de terminal, l'action peut ouvrir cette fen&ecirc;tre avant
de lancer l'application. Il existe plusieurs options de terminal.D&eacute;finition du support de fen&ecirc;tragePour indiquer le type de support de fen&ecirc;trage utilis&eacute; par
l'action, utilisez la zoneWINDOW_TYPE.WINDOW_TYPEZoneWINDOW_TYPEType de support de fen&ecirc;trageSupport
de fen&ecirc;trageNO_STDIONO_STDIOAucun. Utilisez cette valeur si l'application
dispose de sa propre fen&ecirc;tre, ou si la commande ne g&eacute;n&egrave;re
aucune sortie visible.Support
de fen&ecirc;tragePERM_TERMINALPERM_TERMINALFen&ecirc;tre d'&eacute;mulation de
terminal permanente. L'action ouvre une fen&ecirc;tre de terminal qui reste
ouverte jusqu'&agrave; ce que l'utilisateur demande explicitement sa fermeture;
des donn&eacute;es peuvent &ecirc;tre entr&eacute;es dans cette fen&ecirc;tre.
Cette valeur doit &ecirc;tre utilis&eacute;e avec les commandes qui exigent
des entr&eacute;es et g&eacute;n&egrave;rent une sortie avant de prendre fin
(par exemple,lsr&eacute;pertoire).Support
de fen&ecirc;trageTERMINALTERMINALFen&ecirc;tre d'&eacute;mulation de
terminal provisoire. L'action ouvre une fen&ecirc;tre de terminal qui se ferme
d&egrave;s la fin de l'ex&eacute;cution de la commande. Utilisez cette valeur
dans le cas des commandes plein &eacute;cran (par exemple,vi).D&eacute;finition d'options de ligne de commande
pour l'&eacute;mulateur de terminalEmulateur de terminaloptions de ligne de commandeActionsoptions de terminalPour d&eacute;finir ces options, utilisez la zoneTERM_OPTSde la d&eacute;finition de l'action.Par exemple, l'action suivante invite &agrave; indiquer l'h&ocirc;te
d'ex&eacute;cution:ACTION Ouvrir_term_sur_syst&egrave;me_indiqu&eacute;
{
   WINDOW_TYPE   PERM_TERMINAL
   EXEC_HOST     %(String)"Terminal &eacute;loign&eacute; sur :"%
   TERM_OPTS     -title %(String)"Titre de la fen&ecirc;tre :"%
   EXEC_STRING   $SHELL
}D&eacute;finition d'un &eacute;mulateur de terminal
par d&eacute;faut diff&eacute;rentEmulateur de terminalpar d&eacute;fautActions&eacute;mulateur de terminal par d&eacute;fautPar d&eacute;faut, les actions utilisent l'&eacute;mulateur de terminaldtterm; vous pouvez cependant en indiquer un autre. L'&eacute;mulateur
par d&eacute;faut est pris en compte lorsque l'action n'identifie pas explicitement
l'&eacute;mulateur &agrave; utiliser.L'&eacute;mulateur utilis&eacute; par les actions doit &ecirc;tre associ&eacute;
aux options de ligne de commande suivantes:-titletitre_fen&ecirc;tre-ecommandeLes ressources ci-dessous d&eacute;finissent l'&eacute;mulateur utilis&eacute;
par les actions.RessourceslocalTerminalLa ressourcelocalTerminalindique l'&eacute;mulateur associ&eacute; aux applications locales.*localTerminal:terminalPar exemple:*localTerminal: xtermLa ressourceremoteTerminalindique l'&eacute;mulateur associ&eacute; aux applications &eacute;loign&eacute;es.*remoteTerminal:h&ocirc;te:terminal[,h&ocirc;te:terminal&hellip;]Par exemple:*remoteTerminal: sysibm1:/usr/bin/xterm,syshp2:/usr/bin/ytermActionsarguments restrictifsArgumentsrestrictions pour les actionsRestriction
des actions &agrave; certains argumentsPour pr&eacute;ciser l'action, vous avez la possibilit&eacute; de l'associer
&agrave; certains arguments uniquement. Par exemple, il est pr&eacute;f&eacute;rable
de faire en sorte que l'action permettant d'afficher les fichiers PostScript
n'accepte que ce type de fichier comme argument. Si un fichier incorrect est
indiqu&eacute;, l'action affiche un message d'erreur.Les restrictions s'appliquent en fonction:du type de donn&eacute;es du fichier indiqu&eacute; comme
argumentdu nombre d'arguments (par exemple, aucun argument ou un ou
plusieurs arguments), ce qui permet d'indiquer diff&eacute;rents comportements
pour la pose et le double clic sur l'ic&ocirc;ne de l'actionle mode de lecture-&eacute;criture de l'argumentRestriction des actions &agrave; certains types
de donn&eacute;esActionsrestriction
en fonction du type de donn&eacute;esZoneARG_TYPEUtilisez
la zoneARG_TYPEpour d&eacute;finir les types de donn&eacute;es
auxquels l'action s'applique (indiquez les noms d'attributs de donn&eacute;es).Vous pouvez indiquer plusieurs types de donn&eacute;es, &agrave; condition
de les s&eacute;parer par des virgules.Dans l'exemple de d&eacute;finition d'action suivante, on consid&egrave;re
que le type de donn&eacute;es Gif a &eacute;t&eacute; cr&eacute;&eacute;.ACTION Ouvrir_Gif 
{
   TYPE         COMMAND
   LABEL        "Afficher fichier GIF"
   WINDOW_TYPE  NO_STDIO
   ARG_TYPE     Gif
   ICON         xgif
   DESCRIPTION  Permet d'afficher les fichiers GIF.
   EXEC_STRING  xgif 
}Restriction d'une action en fonction du nombre d'argumentsActionsnombre d'argumentsZoneARG_COUNTPour
indiquer le nombre d'arguments support&eacute;s par l'action, utilisez la
zoneARG_COUNT. Les valeurs possibles sont les suivantes
:*(d&eacute;faut) Nombre d'arguments
illimit&eacute;. Les autres valeurs sont prioritaires par rapport &agrave;
*.nToute valeur enti&egrave;re, y compris
0.>nPlus de n arguments.<nMoins de n arguments.La zoneARG_COUNTpermet d'indiquer diff&eacute;rents
comportements pour l'ic&ocirc;ne d'action, selon que l'utilisateur clique
deux fois dessus ou y pose un fichier. Pour plus de d&eacute;tails, reportez-vous
&agrave; la section suivante.D&eacute;finition de comportements diff&eacute;rents
pour la pose et le double clicActionspose et double clicZoneARG_COUNTLa proc&eacute;dure suivante permet de cr&eacute;er une action prenant
en charge les fichiers pos&eacute;s, mais n'invitant pas &agrave; indiquer
un fichier lors d'un double clic utilisateu:Cr&eacute;ez une d&eacute;finition d'action pour la fonction
double clic.Indiquez la valeur 0 dans la zoneARG_COUNT. Dans
la zoneEXEC_STRING, sp&eacute;cifiez une syntaxe ne
supportant pas les arguments pos&eacute;s.Cr&eacute;ez une d&eacute;finition d'action pour la fonction
pose.Indiquez la valeur >0 dans la zoneARG_COUNT. Dans
la zoneEXEC_STRING, sp&eacute;cifiez une syntaxe supportant
les arguments pos&eacute;s.Dans les exemples ci-dessous, les commandes suivantes permettent de
lancer l'&eacute;diteurvedit.Pour lancer l'&eacute;diteur sans argument:veditPour lancer l'&eacute;diteur et ouvrir un fichier en lecture
seule:vedit -Rnom_fichierLes deux actions ci-dessous permettent de cr&eacute;er les fonctions
pose et double clic pour l'action Vedit. La premi&egrave;re action est prioritaire
lors de la recherche dans la base de donn&eacute;es; en effet, la d&eacute;finitionARG_COUNT 0est plus pr&eacute;cise que (ARG_COUNT *).# Fonction double clic
ACTION Vedit 
{
   TYPE          COMMAND
   ARG_COUNT     0
   WINDOW_TYPE   PERM_TERMINAL
   EXEC_STRING   vedit 
}

# Fonction pose
ACTION Vedit
{
   TYPE         COMMAND
   WINDOW_TYPE  PERM_TERMINAL
   EXEC_STRING  vedit -R %Arg_1% 
}Restriction d'une action en fonction du mode de l'argumentPour indiquer le mode de lecture-&eacute;criture de l'argument, utilisez
la zoneARG_MODE. Les valeurs possibles sont les suivantes:*(d&eacute;faut) Mode quelconque.!wNon accessible en &eacute;criture.wAccessible en &eacute;criture.Cr&eacute;ation d'actions ex&eacute;cutant des
applications sur des syst&egrave;mes &eacute;loign&eacute;sActionslancement d'applications &eacute;loign&eacute;sVous devez conna&icirc;tre la signification des termes suivants:H&ocirc;te de base
de donn&eacute;esH&ocirc;te de base de donn&eacute;esSyst&egrave;me contenant la d&eacute;finition
de l'action.H&ocirc;te d'ex&eacute;cutioncr&eacute;ation d'actionsH&ocirc;te d'ex&eacute;cutionSyst&egrave;me sur lequel le programme
s'ex&eacute;cute.Dans la plupart des cas, les actions et les applications associ&eacute;es
sont install&eacute;es sur le m&ecirc;me syst&egrave;me; &eacute;tant donn&eacute;
que l'h&ocirc;te d'ex&eacute;cution par d&eacute;faut d'une action est l'h&ocirc;te
de base de donn&eacute;es, aucune syntaxe particuli&egrave;re n'est requise.Cependant, lorsque l'h&ocirc;te d'ex&eacute;cution est diff&eacute;rent
de l'h&ocirc;te de base de donn&eacute;es, le syst&egrave;me sur lequel la
cha&icirc;ne d'ex&eacute;cution sera lanc&eacute;e doit &ecirc;tre indiqu&eacute;
dans la d&eacute;finition de l'action.La fonction de recherche des actions et des applications sur diff&eacute;rents
syst&egrave;mes fait partie de l'architecture client/serveur du Bureau. Pour
plus de d&eacute;tails sur les applications en r&eacute;seau, reportez-vous
&agrave; la section.Cr&eacute;ation d'une action ex&eacute;cutant
une application &eacute;loign&eacute;eZoneEXEC_HOSTZoneEXEC_HOSTH&ocirc;te d'ex&eacute;cutionzone EXEC_HOSTPour d&eacute;finir l'emplacement de l'application,
utilisez la zoneEXEC_HOSTde la d&eacute;finition de
l'action.Vous pouvez indiquer les valeurs suivantes:Mots
cl&eacute;&sigma;DataBaseHost%DatabaseHost%Syst&egrave;me h&ocirc;te sur lequel
l'action est d&eacute;finie.%LocalHost%Syst&egrave;me h&ocirc;te sur lequel
l'action est lanc&eacute;e (serveur de session).Mots
cl&eacute;&sigma;DisplayHost%DisplayHost%Syst&egrave;me h&ocirc;te sur lequel
le serveur X s'ex&eacute;cute (non autoris&eacute; dans le cas des terminaux
X).Mots
cl&eacute;&sigma;SessionHost%SessionHost%Syst&egrave;me h&ocirc;te sur lequel
le Gestionnaire de connexion en cours s'ex&eacute;cute.nom_h&ocirc;teUtilisez cette valeur pour les environnements
dans lesquels l'action doit toujours &ecirc;tre ex&eacute;cut&eacute;e sur
un syst&egrave;me h&ocirc;te donn&eacute;.%"invite"%Invite l'utilisateur &agrave; indiquer
le nom h&ocirc;te lors de chaque ex&eacute;cution de l'action.La valeur par d&eacute;faut est%DatabaseHost%,%LocalHost%.ZoneEXEC_HOSTvaleur par d&eacute;fautAinsi,
lorsque la zoneEXEC_HOSTn'est pas pr&eacute;cis&eacute;e,
une tentative d'ex&eacute;cution de la commande est effectu&eacute;e sur le
syst&egrave;me h&ocirc;te contenant la d&eacute;finition de l'action. En cas
d'&eacute;chec, le serveur de sessions est utilis&eacute;.ExemplesLa zone suivante d&eacute;signe le syst&egrave;me h&ocirc;teddsyd:EXEC_HOST ddsydLa zone suivante invite &agrave; indiquer un syst&egrave;me
h&ocirc;te:EXEC_HOST %"H&ocirc;te contenant l'application :"%La zone suivante indique que l'action tente de lancer l'application
sur le syst&egrave;me h&ocirc;te qui contient sa d&eacute;finition. En cas
d'&eacute;chec, elle tente de la lancer sur le syst&egrave;me h&ocirc;teddsyd.EXEC_HOST %DatabaseHost%, ddsydUtilisation de variables dans les d&eacute;finitions
d'actions et de types de donn&eacute;esVariablesd&eacute;finitions d'actionsActionsutilisation de variablesTypes de donn&eacute;esutilisation de variablesVous pouvez indiquer des variables d'environnement et des variables
cha&icirc;nes de caract&egrave;res dans les fichiers de d&eacute;finition
d'actions et de types de donn&eacute;es.Variables cha&icirc;nes de caract&egrave;res (actions)Variablescha&icirc;nes de caract&egrave;resActionsvariables cha&icirc;nes de caract&egrave;resCe type de variable entre en vigueur lorsqu'elle est d&eacute;finie
et le reste jusqu'&agrave; la fin du fichier. Il n'existe aucune variable
globale pour la base de donn&eacute;es.Si une variable d'environnement et une variable cha&icirc;ne de caract&egrave;res
portent le m&ecirc;me nom, cette derni&egrave;re est prioritaire.D&eacute;finition d'une variable cha&icirc;ne de caract&egrave;resUtilisez la syntaxe:setnom_variable=valeurLes noms de variables peuvent contenir des caract&egrave;res alphanum&eacute;riques
et le caract&egrave;re de soulignement &ldquo;__&rdquo;. Chaque d&eacute;finition
de variable doit figurer sur une ligne distincte.Par exemple:set Remote_Application_Server=sysapp
set Remote_File_Server=sysdataR&eacute;f&eacute;rence &agrave; une variable cha&icirc;ne de caract&egrave;res
:Utilisez la syntaxe:$[{]nom_variable[}]Par exemple:EXEC-HOST   $Remote_Application_Server
CWD /net/   ${Remote_File_Server}/doc/projetVariables d'environnement (actions et types de
donn&eacute;es)Variablesd'environnementd&eacute;finitions d'actionsActionsvariables d'environnementUtilisez la syntaxe suivante pour faire r&eacute;f&eacute;rence
&agrave; une variable d'environnement:$[{]variable[}].La variable est remplac&eacute;e par sa valeur lors du chargement de
la base de donn&eacute;es. Si une variable d'environnement et une variable
cha&icirc;ne de caract&egrave;res portent le m&ecirc;me nom, cette derni&egrave;re
est prioritaire.Par exemple, la cha&icirc;ne d'ex&eacute;cution suivante permet d'imprimer
un fichier avec une banni&egrave;re indiquant le nom de connexion:EXEC-STRING lp  -t$LOGNAME  %(File)Arg_1%Ex&eacute;cution d'actions &agrave; partir de
la ligne de commandeActionsex&eacute;cution
d'autres actionsPour effectuer cette op&eacute;ration, utilisez la commande du Bureaudtaction. Les actions peuvent &ecirc;tre ex&eacute;cut&eacute;es
&agrave; partir:de scriptsd'autres actionsde la ligne de commande d'une fen&ecirc;tre d'&eacute;mulation
de terminal.Commande dtactiondtactionsyntaxedtaction [-usernom_utilisateur] [-execHostnom_h&ocirc;te]nom_action[argument[argument]&hellip;]-usernom_utilisateurPermet &agrave; un autre utilisateur
d'ex&eacute;cuter l'action. Sidtactionest lanc&eacute;e
par un utilisateur diff&eacute;rent denom_utilisateur,il est invit&eacute; &agrave; indiquer un mot de passe.-execHostnom_h&ocirc;teActions de typeCOMMANDuniquement; indique le syst&egrave;me h&ocirc;te d'ex&eacute;cution de la
commande.argumentArguments associ&eacute;s &agrave;
l'action; il s'agit g&eacute;n&eacute;ralement de fichiers.Le clientdtactiondispose d'options de ligne de
commande suppl&eacute;mentaires. Pour plus de d&eacute;tails, consultez la
page de manueldtaction(1).Cr&eacute;ation d'une action ex&eacute;cutant une autre actionActionsex&eacute;cution d'autres actionsIndiquezdtactiondans la zoneEXEC_STRINGde l'action.Par exemple, l'action ci-dessous utilise l'action int&eacute;gr&eacute;e
Spell, dont le libell&eacute; est V&eacute;rifier orthographe dans le Gestionnaire
d'applications. La nouvelle action lance l'Editeur de texte et Spell, puis
affiche les erreurs d'orthographe dans une fen&ecirc;tre d'&eacute;mulation
de terminal distincte.ACTION Editer_et_v&eacute;rifier
{
   WINDOW_TYPE   NO_STDIO
   EXEC_STRING   /bin/sh -c 'dtaction Spell \
                 %Arg_1"Fichier :"%; dtpad %Arg_1%'
}Cr&eacute;ation d'une action ex&eacute;cut&eacute;e
par un autre utilisateurActionsex&eacute;cution par un autre utilisateurdtactionmodification de l'utilisateurUtilisez la syntaxe suivante dans la zoneEXEC_STRING:EXEC_STRING dtaction -usernom_utilisateurnom_action[argument_fichier]Pour avoir acc&egrave;s au syst&egrave;me, le nouvel utilisateur (nom_utilisateur) doit disposer d'une des autorisations
suivantes:autorisation de lecture sur le fichier.Xauthorityde l'utilisateur de connexionouautorisationxhostPar exemple, les actions suivantes permettent de devenir utilisateur
root et d'&eacute;diter un fichier app-defaults.ACTION AppDefaults
{
   WINDOW_TYPE  NO_STDIO
   EXEC_STRING  /usr/dt/bin/dtaction -user root \
                EditerAppDefaults %Arg_1"Fichier :"%
}

ACTION EditerAppDefaults
{
   WINDOW_TYPE  TERMINAL
   EXEC_STRING  /bin/sh -c 'chmod +w %Arg_1%; \
                vi %Arg_1%; chmod -w %Arg_1%'
}Cr&eacute;ation d'actions internationalis&eacute;esActionslocalisationLocalisationactionsLe chemin de recherche de types de donn&eacute;es comporte des emplacements
li&eacute;s &agrave; la langue utilis&eacute;e. Le Bureau utilise la valeur
deLANGpour identifier les r&eacute;pertoires dans
lesquels rechercher les d&eacute;finitions de types de donn&eacute;es.Emplacements des actions internationalis&eacute;esLes d&eacute;finitions des actions adapt&eacute;es au pays doivent &ecirc;tre
situ&eacute;es dans les r&eacute;pertoires associ&eacute;s &agrave; la langue
utilis&eacute;e, dans le chemin de recherche des actions.Les chemins de recherche par d&eacute;faut sont les suivants:actions personnelles:R&eacute;p_personnel/.dt/typesactions syst&egrave;me:/etc/dt/appconfig/types/langueactions int&eacute;gr&eacute;es:/usr/dt/appconfig/types/langue.Internationalisation d'une action existanteActionslibell&eacute;sLibell&eacute;sactionsLocalisationlibell&eacute;s d'actionsCr&eacute;ez un fichier dans le r&eacute;pertoire correspondant
&agrave; la langue (par exemple,/etc/dt/appconfig/types/fr_FR).Copiez la d&eacute;finition de l'action dans le fichier de
configuration li&eacute; &agrave; la langue.Par exemple, vous pouvez copier une d&eacute;finition d'action deracine_app/dt/appconfig/types/C/fichier.dtversracine_app/dt/appconfig/types/fr_FR/nouveau_fichier.dtAjoutez une zoneLABELou modifiez celle
qui existe.LABELcha&icirc;neLes Gestionnaires d'applications et de fichiers utilisent cette cha&icirc;ne
pour identifier l'ic&ocirc;ne d'action.Localisez un ou plusieurs des &eacute;l&eacute;ments suivants
:ic&ocirc;nes: zoneICONaide sur l'&eacute;l&eacute;ment: zoneDESCRIPTIONinvites localis&eacute;es: texte entre guillemets dans la
zoneEXEC_STRINGCr&eacute;ation d'actions pour les applications
ToolTalkActionsTT_MSGcr&eacute;ationToolTalkapplications<$nopage>ToolTalkaction, Voir ActionsLes informations suivantes ne s'appliquent qu'aux programmes qui supportent
la messagerie ToolTalk.Les actions permettant d'envoyer des messages ToolTalk, sont du typeTT_MSG.ACTION nom_action 
{
   TYPE   TT_MSG 
   &hellip;
}Zones addressing et dispositionLa valeur de la zone ToolTalkaddressingest toujoursTT_PROCEDURE.Par d&eacute;faut, la valeur de la zonedispositionest la sp&eacute;cification de forme de message statique.Messages non pris en chargeLes messages suivants ne sont pas pris en charge par les actions de
typeTT_MSG:messages ToolTalk orient&eacute;s objetarguments contextuels des messagesMots cl&eacute;s des actions TT_MSGActionsTT_MSGmots cl&eacute;sMot cl&eacute;UtilisationTT_CLASSD&eacute;finit la valeur de la zone
ToolTalkclass.TT_SCOPED&eacute;finit la valeur de la zone
ToolTalkscope.TT_OPERATIOND&eacute;finit la valeur de la zone
ToolTalkoperation.TT_FILED&eacute;finit la valeur de la zone
ToolTalkfile.TT_ARGn_MODED&eacute;finit la valeur de l'attribut
ToolTalkmodepour leni&egrave;me
message.TT_ARGn_VTYPED&eacute;finit la valeur de l'attribut
ToolTalkvtypepour leni&egrave;me
message.TT_ARGn_VALUED&eacute;finit la valeur duni&egrave;me message.