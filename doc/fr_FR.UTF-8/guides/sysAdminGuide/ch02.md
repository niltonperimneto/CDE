Configuration du Gestionnaire de sessionsLe Gestionnaire de sessions permet de lancer le Bureau et d'enregistrer
et de r&eacute;tablir automatiquement les applications en cours, les couleurs,
les polices, le comportement de la souris, le volume sonore et les impulsions
du clavier.&Agrave; l'aide du Gestionnaire de sessions, vous pouvez:personnaliser la session initiale de tous les utilisateurs
du Bureau,personnaliser l'environnement et les ressources de tous les
utilisateurs,modifier le message de lancement de la session,modifier les param&egrave;tres des outils de lancement de
la session et des d&eacute;mons,personnaliser l'utilisation des couleurs sur le Bureau pour
tous les utilisateurs.En quoi consiste une session ?Gestionnaire de sessionspr&eacute;sentationSessiond&eacute;finitionUne session est l'ensemble des applications, des param&egrave;tres et
des ressources disponibles sur le bureau de l'utilisateur. La gestion des
sessions repr&eacute;sente l'ensemble des conventions et des protocoles permettant
au Gestionnaire de sessions d'enregistrer et de r&eacute;tablir la session
d'un utilisateur. Un utilisateur peut se connecter au syst&egrave;me et acc&eacute;der
&agrave; un ensemble d'applications, de param&egrave;tres et de ressources
identique &agrave; celui dont il disposait la derni&egrave;re fois qu'il s'est
d&eacute;connect&eacute;. Lorsqu'un utilisateur se connecte au Bureau pour
la premi&egrave;re fois, uneSessionpar d&eacute;fautsession initiale par d&eacute;faut
est charg&eacute;e. Par la suite, le Gestionnaire de sessions peut distinguer
les notions deSessionen courssession en cours et deSessioninitiale personnalis&eacute;eSessioninitiale personnalis&eacute;esession
initiale personnalis&eacute;e.Session initiale par d&eacute;fautSessioninitiale par d&eacute;fautSessioninitiale par d&eacute;fautLorsqu'un utilisateur se connecte au syst&egrave;me pour la premi&egrave;re
fois, le Gestionnaire de sessions g&eacute;n&egrave;re la session initiale
de l'utilisateur &agrave; l'aide des valeurs par d&eacute;faut du syst&egrave;me.
Par d&eacute;faut, le Gestionnaire de fichiers et le volume d'aide &ldquo;Introduction
au Bureau&ldquo; seront lanc&eacute;s.Session en coursSessionen
coursSessionen coursLa session en cours d'ex&eacute;cution est toujours consid&eacute;r&eacute;e
comme la session courante, qu'il s'agisse d'une session r&eacute;tablie, lors
de la connexion, &agrave; partir d'une session initiale personnalis&eacute;e
sauvegard&eacute;e, d'une session en cours enregistr&eacute;e ou de la session
initiale par d&eacute;faut du syst&egrave;me. Selon les param&egrave;tres
de lancement du Gestionnaire de configuration d&eacute;finis par l'utilisateur,
lorsque ce dernier met fin &agrave; la session, le Gestionnaire de sessions
peut enregistrer automatiquement la session en cours. La prochaine fois que
l'utilisateur se connectera au Bureau, le Gestionnaire de sessions lancera
donc la session en cours pr&eacute;c&eacute;demment sauvegard&eacute;e. Cela
signifie que le Bureau sera r&eacute;tabli dans le m&ecirc;me &eacute;tat
que lorsque l'utilisateur s'est d&eacute;connect&eacute; pour la derni&egrave;re
fois.Session initiale personnalis&eacute;eSessioninitiale personnalis&eacute;eSessioninitiale personnalis&eacute;eLe Bureau peut &eacute;galement &ecirc;tre r&eacute;tabli dans le m&ecirc;me
&eacute;tat &agrave; chaque connexion, quel que soit son &eacute;tat au moment
de la d&eacute;connexion pr&eacute;c&eacute;dente. L'utilisateur peut en effet
enregistrer l'&eacute;tat de la session en cours, puis, &agrave; l'aide des
param&egrave;tres de connexion du Gestionnaire de configuration, faire en
sorte que le Gestionnaire de sessions lance cette session &agrave; chaque
connexion.Sessions sp&eacute;cifiques de l'&eacute;cranSessionsp&eacute;cifique de l'&eacute;cranPour lancer une session propre &agrave; un &eacute;cran donn&eacute;,
l'utilisateur peut cr&eacute;er une session sp&eacute;cifique de l'&eacute;cran.
Pour ce faire, il peut copier le r&eacute;pertoireR&eacute;pPersonnel/.dt/sessionsvers le r&eacute;pertoireR&eacute;pPersonnel/.dt/&eacute;cran, o&ugrave;&eacute;cranrepr&eacute;sente le nom r&eacute;el de l'h&ocirc;te
(par exemple,pablo:0est correct,pablo.gato.com:0ouunix:0ne l'est pas). Lorsque l'utilisateur
se connecte &agrave; l'&eacute;cranpablo:0, le Gestionnaire
de sessions lance la session sp&eacute;cifique &agrave; cet &eacute;cran.Lancement d'une sessionSessionlancementGestionnaire de sessionslancement<$nopage>Gestionnaire de sessionsvoir aussi,
sessionLe Gestionnaire de sessions est lanc&eacute; par la commande/usr/dt/bin/Xsession.FichierXsessionlancement du Gestionnaire de sessionsLorsque l'utilisateur se connecte &agrave; l'aide du Gestionnaire
de connexion,Xsessionest lanc&eacute; par d&eacute;faut.L'utilisateur peut &eacute;ventuellement se connecter en utilisant la
connexion en mode caract&egrave;re traditionnelgetty(getty), et en lan&ccedil;ant le
Gestionnaire de sessions manuellement gr&acirc;ce aux outils tels quexinitqui lancent un serveur X. Par exemple:xinit /usr/dt/bin/Xsession.D&eacute;marrage d'une sessionLorsque le Gestionnaire de sessions est lanc&eacute;, il passe par un
certain nombre d'&eacute;tapes pour lancer la session de l'utilisateur.Il lance le script deR&eacute;pPersonnel/.dtprofile.Fichier.dtprofilefournitureIl lance les scriptsXsession.d.R&eacute;pertoireXsession.dIl affiche unGestionnaire de sessionsmessage de bienvenueMessage de bienvenueaffichagemessage
de bienvenue.Il configureChemin de rechercheBureaules chemins de recherche du Bureau.Il rassemble les applications disponibles.Il ex&eacute;cute &eacute;ventuellement les commandes des
fichiersR&eacute;pPersonnel/.profileFichier.profileouR&eacute;pPersonnel/.loginFichier.login.Il lance leToolTalkd&eacute;mon de messageried&eacute;mon de messagerie
ToolTalk&reg;.Il charge lesSessionressourcesRessourcessessionressources de la session.Il lance leServeurcouleursserveur de couleurs.Il lance leGestionnaire de l'espace de
travailGestionnaire de l'espace de travail.Il lance lesApplicationslancement &agrave; la connexionapplications de la
session.Les sections suivantes d&eacute;crivent les &eacute;tapes list&eacute;es
ci-dessus.Lancement duFichier.dtprofilelancementscript .dtprofileLors du d&eacute;marrage d'une session, le scriptFichierXsessionXsessionlance le scriptR&eacute;pPersonnel/.dtprofileVariablesd'environnementdans .dtprofilede
l'utilisateur. Le scriptR&eacute;pPersonnel/.dtprofileest un script ex&eacute;cutable par/bin/shou/bin/kshpermettant aux utilisateurs de configurerVariablesd'environnementdans .dtprofileles variables d'environnement pour leurs
sessions. Pour plus de d&eacute;tails sur la configuration des variables d'environnement,
reportez-vous &agrave; la section.Si le scriptR&eacute;pPersonnel/.dtprofilen'existe pas, par exemple, lorsqu'un utilisateur se
connecte au Bureau pour la premi&egrave;re fois,Xsessioncopie le scriptsys.dtprofilepar d&eacute;faut du bureau
dansShellpersonnalisationR&eacute;pPersonnel/.dtprofile.Variablesd'environnementvaleurs par d&eacute;fautLe fichier de valeurs
par d&eacute;faut du Bureau est/usr/dt/config/Fichiersys.dtprofilesys.dtprofile. Pour le personnaliser,Shellpersonnalisation au niveau syst&egrave;mecopiez-le de/usr/dt/configvers/etc/dt/configet modifiez le nouveau fichier.Lancement des scriptsR&eacute;pertoireXsession.dscriptsXsession.dApr&egrave;s le lancement du scriptR&eacute;pPersonnel/.dtprofile, le scriptXsessionlance les scriptsXsession.d. Ceux-ci sont g&eacute;n&eacute;ralement
utilis&eacute;s pour configurer d'autres variables d'environnement et lancer
des d&eacute;mons facultatifs pour la session de l'utilisateur. Les scriptsXsession.dpar d&eacute;faut sont:0010.dtpathsDocumente les chemins de recherche
personnalisables du Bureau.0020.dtimsLance le serveur de m&eacute;thode
de saisie facultatif.0030.dttmpdirCr&eacute;e un r&eacute;pertoire temporaire
par utilisateur et par session.0040.xmbindConfigure$XMBINDDIRcomme valeur par d&eacute;faut du Bureau.Il peut exister d'autres scripts propres aux fournisseurs dansXsession.d.Xsessionlance tout d'abord tous les fichiers dans
le r&eacute;pertoire/usr/dt/config/Xsession.d, suivis
de ceux du r&eacute;pertoire/etc/dt/config/Xsession.d.Les scriptsXsession.dpar d&eacute;faut du Bureau
se trouvent dans le r&eacute;pertoire/usr/dt/config/Xsession.d. Pour personnaliser un scriptXsession.d, copiez-le
de/usr/dt/config/Xsession.dvers/etc/dt/config/Xsession.det modifiez le nouveau fichier. Vous devez disposer des droits
d'ex&eacute;cution n&eacute;cessaires pour effectuer cette t&acirc;che.FichierXsessionpersonnalisation au niveau syst&egrave;meGestionnaire de sessionspersonnalisation au
niveau syst&egrave;mePour queXsessionlance automatiquement l'un de vos scripts, copiez ce dernier vers/etc/dt/config/Xsession.d.Lorsque vous modifiez ou cr&eacute;ez un scriptXsession.d, v&eacute;rifiez que toutes les commandes de premier plan &eacute;mises
sont de courte dur&eacute;e, car le temps n&eacute;cessaire &agrave; leur
ex&eacute;cution aura un effet direct sur le temps de lancement de la session.
Si l'une de ces commandes ne peut pas prendre fin, le lancement de la session
s'interrompt. Si certaines commandes du scriptXsession.ddoivent continuer de s'ex&eacute;cuter pendant la session, leur lancement
devra s'effectuer en arri&egrave;re-plan.Message de bienvenueaffichageAffichage du message de bienvenueApr&egrave;s le lancement des scriptsR&eacute;pPersonnel/.dtprofileetXsession.d,Xsessionaffiche un message de bienvenue plein &eacute;cran. Vous
pouvez le personnaliser ou le d&eacute;sactiver. Le processus clientdthellosert &agrave; afficher ce message.Message de bienvenuepersonnalisationPour modifier le texte du message, modifiez les options
dedthelloen changeant la variabledtstart_hello[0].Pour modifierdtstart_hello[0], cr&eacute;ez un
script/etc/dt/config/Xsession.dd&eacute;finissant la
nouvelle valeur. Pour afficher le message du jour pour tous les utilisateurs,
cr&eacute;ez un scriptshoukshex&eacute;cutable,
par exemple/etc/dt/config/Xsession.d/mesvars, et configurezdtstart_hello[0]comme suit:dtstart_hello[0]="/usr/dt/bin/dthello -file /etc/motd &"De m&ecirc;me, les utilisateurs peuvent modifier le message de bienvenue
de leurs sessions en d&eacute;finissantdtstart_hello[0]dansR&eacute;pPersonnel/.dtprofile.Pour d&eacute;sactiver ce message, indiquezdtstart_hello[0]="".Pour plus de d&eacute;tails surdthello, reportez-vous
&agrave; la page de manuel correspondante.Gestionnaire de sessionsd&eacute;finition
des chemins de rechercheChemin
de recherched&eacute;finition par le Gestionnaire de
sessionsConfiguration des chemins de recherche du
BureauLes chemins de recherche du Bureau sont cr&eacute;&eacute;s lors de
la connexion pardtsearchpathdtsearchpath.dtsearchpathutilise deux cat&eacute;gories
de variables d'environnement:Variables en entr&eacute;eVariables d'environnement de niveau
syst&egrave;me et personnel dont les valeurs sont d&eacute;finies par l'administrateur
syst&egrave;me ou l'utilisateur.Variables en sortieVariables cr&eacute;&eacute;es pardtsearchpathet auxquelles ce dernier attribue des valeurs. La valeur
de chaque variable correspond au chemin de recherche de la session du Bureau.Pour modifier les options de ligne de commande dedtsearchpath, modifiez la variabledtstart_searchpath.
Pour modifier cette variableVariabledtstart_searchpathpour tous les utilisateurs, cr&eacute;ez
un scriptshoukshex&eacute;cutable,
(par exemple/etc/dt/config/Xsession.d/mesvars), et d&eacute;finissezdtstart_searchpathcomme
suit:dtstart_searchpath="/usr/dt/bin/dtsearchpath"Les utilisateurs peuvent, de la m&ecirc;me mani&egrave;re, modifier
les optionsdtsearchpathpour leurs sessions en d&eacute;finissant
simplementdtstart_searchpathdansR&eacute;pPersonnel/.dtprofile.Pour plus de d&eacute;tails surdtsearchpath, reportez-vous
au. Pour
plus de d&eacute;tails sur les optionsdtsearchpath, reportez-vous
&agrave; la page de manuel correspondante.Rassemblement des applications disponiblesL'&eacute;tape qui suit la configuration des chemins de recherche du
Bureau consiste &agrave; rassembler les applications disponibles &agrave;
l'aide dedtappgather. Pour modifier les options de la
ligne de commande deGestionnaire d'applicationsrassemblement des applicationsGestionnaire de sessionsrassemblement des applicationsApplicationsrassembl&eacute;es par le Gestionnaire
de sessionsdtappgatherdtappgather, modifiez la variabledtstart_appgather. Pour modifier cette variableVariabledtstart_appgatherpour
tous les utilisateurs, cr&eacute;ez un scriptshoukshex&eacute;cutable (par exemple/etc/dt/config/Xsession.d/mesvars), et d&eacute;finissezdtstart_appgathercomme indiqu&eacute; ci-apr&egrave;s.dtstart_appgather="/usr/dt/bin/dtappgather &"Les utilisateurs peuvent, de la m&ecirc;me mani&egrave;re, modifier
les optionsdtappgatherpour leurs propres sessions en
d&eacute;finissant simplementdtstart_appgatherdansR&eacute;pPersonnel/.dtprofile.Pour plus de d&eacute;tails, reportez-vous &agrave; la page de manueldtappgather(4).Variablesd'environnementlancement dans .login ou .profileLancement facultatif du script .profile ou .loginShelllancement dans .profile ou .loginFichier.profilelancementFichier.loginlancementXsessionpermet de lancer les scriptsR&eacute;pPersonnel/.profileouR&eacute;pPersonnel/.logintraditionnels d'un
utilisateur. Par d&eacute;faut, cette fonction est d&eacute;sactiv&eacute;e.
Pour permettre &agrave;Xsessionde lancer le script.profileou.login, indiqueztruecomme valeur pour la variableVariableDTSOURCEPROFILEDTSOURCEPROFILE.Pour modifierDTSOURCEPROFILEpour tous les
utilisateurs, cr&eacute;ez un script/etc/dt/config/Xsession.dqui d&eacute;finit la nouvelle valeur. Pour attribuer la valeurtrue&agrave;DTSOURCEPROFILEpour tous
les utilisateurs, cr&eacute;ez un scriptshoukshex&eacute;cutable, par exemple/etc/dt/config/Xsession.d/mesvars,et d&eacute;finissezDTSOURCEPROFILEcomme suit:DTSOURCEPROFILE=trueLes utilisateurs peuvent, de la m&ecirc;me mani&egrave;re, modifierDTSOURCEPROFILEpour leurs propres sessions en conf&eacute;rant
&agrave;DTSOURCEPROFILEla valeurtruedansR&eacute;pPersonnel/.dtprofile.Lancement duToolTalkd&eacute;mon
de messageried&eacute;mon de messagerie ToolTalkLe d&eacute;mon de messagerie ToolTalk,ttsession,
permet &agrave; des applications ind&eacute;pendantes de communiquer entre
elles, sans op&eacute;rations d'identification directe pr&eacute;alables.
Les applications cr&eacute;ent et envoient des messages ToolTalk pour communiquer
entre elles.ttsessioncommunique sur le r&eacute;seau
pour transmettre les messages.Pour modifier les options de ligne de commande dettsessionlancementttsession, modifiez la variabledtstart_ttsession. Pour
modifier cette variableVariabledtstart_ttsessionpour tous les utilisateurs, cr&eacute;ez
un scriptshoukshex&eacute;cutable
(par exemple/etc/dt/config/Xsession.d/mesvars), et d&eacute;finissezdtstart_ttsessionde la mani&egrave;re indiqu&eacute;e ci-apr&egrave;s:dtstart_ttsession=&ldquo;/usr/dt/bin/ttsession -s"Les utilisateurs peuvent, de la m&ecirc;me mani&egrave;re, modifier
les options dettsessionpour leurs propres sessions en
d&eacute;finissantdtstart_ttsessiondansR&eacute;pPersonnel/.dtprofile.Pour plus de d&eacute;tails sur les options dettsession,
reportez-vous &agrave; la page de manuel correspondante. Pour plus de d&eacute;tails
surttsession, reportez-vous &agrave; la section D&eacute;marrage
&agrave; l'aide de la messagerie ToolTalk.Gestionnaire de sessionsclientLancement du client Gestionnaire de sessions&Agrave; ce stade,Xsessionlance/usr/dt/bin/dtsession, qui poursuit le processus de lancement de la session.Chargement des ressources d'une sessionGestionnaire de sessionschargement des ressourcesRessourceschargementLe Gestionnaire de sessions utilise la propri&eacute;t&eacute;RESOURCE_MANAGERdu serveur X pour rendre les ressources du Bureau
accessibles &agrave; toutes les applications. Le Gestionnaire de sessions
activeRESOURCE_MANAGERen:chargeant les ressources par d&eacute;faut du syst&egrave;me
;fusionnant les ressources syst&egrave;me indiqu&eacute;es
par l'administrateur syst&egrave;me;fusionnant les ressources pr&eacute;cis&eacute;es par l'utilisateur.Les ressources par d&eacute;faut du Bureau se trouvent dans/usr/dt/config/langue/sys.resources.Fichiersys.resourcesRessourcesvaleurs par d&eacute;faut du BureauCes
ressources sont accessibles &agrave; chaque session utilisateur par l'interm&eacute;diaire
de la propri&eacute;t&eacute;RESOURCE_MANAGER. Ce
fichier ne doit pas &ecirc;tre modifi&eacute;, puisqu'il est remplac&eacute;
&agrave; chaque nouvelle installation du Bureau.Vous pouvez enrichir les ressources par d&eacute;faut du syst&egrave;me
en cr&eacute;ant/etc/dt/config/langue/sys.resources.Fichiersys.resourcesDans ce fichier, vous pouvez remplacer
les valeurs par d&eacute;faut ou indiquer des ressources suppl&eacute;mentaires
pour tous les utilisateurs du Bureau. Etant donn&eacute; que ce fichier est
fusionn&eacute; dans les ressources par d&eacute;faut du Bureau lors du lancement
de la session, seules les sp&eacute;cifications de ressources nouvelles ou
modifi&eacute;es doivent y &ecirc;tre inscrites. Les ressources indiqu&eacute;es
dans ce fichier sont accessibles &agrave; chaque session utilisateur par l'interm&eacute;diaire
de la propri&eacute;t&eacute;RESOURCE_MANAGER. Elles
sont prioritaires par rapport &agrave; celles du fichier de ressources par
d&eacute;faut du Bureau.Les utilisateurs peuvent enrichir les ressources par d&eacute;faut du
Bureau et les ressources syst&egrave;me en utilisant leur fichierR&eacute;pPersonnel/.Xdefaults.
Les ressources indiqu&eacute;es dans ce fichier sont accessibles &agrave;
cette session utilisateur gr&acirc;ce &agrave; la propri&eacute;t&eacute;RESOURCE_MANAGER. Elles sont prioritaires par rapport &agrave;
celles des fichiers de ressources par d&eacute;faut du Bureau ou de l'administrateur
syst&egrave;me.L'utilitaire X Toolkit Intrinsics indique qu'il va charger des ressources
pour une application &agrave; partir deCaract&eacute;ristiqueRESOURCE_MANAGERRESOURCE_MANAGERou deR&eacute;pPersonnel/.Xdefaults, mais pas des deux. G&eacute;n&eacute;ralement,
cela signifie que le fichierR&eacute;pPersonnel/.Xdefaultsde l'utilisateur est ignor&eacute;. Cependant, le Gestionnaire
de sessions prend en charge le fichierR&eacute;pPersonnel/Fichier.Xdefaults.Xdefaultsen le fusionnant avecRESOURCE_MANAGERlors du lancement de la session, comme d&eacute;crit
pr&eacute;c&eacute;demment. Si un utilisateur modifieR&eacute;pPersonnel/.Xdefaults, ces modifications
ne seront pas prises en compte pour les nouvelles applications tant que l'utilisateur
n'aura invoqu&eacute; l'action &ldquo;Recharger ressources&rdquo;.ActionsRecharger ressourcesCette
action indique au Gestionnaire de sessions de rechargerRESOURCE_MANAGERavec les ressources par d&eacute;faut, les ressources syst&egrave;me
et celles indiqu&eacute;es par l'utilisateur. Les modifications ainsi apport&eacute;es
aux fichiers de ressources syst&egrave;me et personnels sont accessibles &agrave;
toutes les applications.Pour plus de d&eacute;tails, reportez-vous &agrave;:&numsp;;la page de manueldtresourcesfile(4).Lancement du serveur de couleursServeurcouleurslancementLe Gestionnaire de sessions sert deServeurcouleursressourcesserveur
de couleurs pour le Bureau et propose le jeu de ressources suivantdtsessionqui peuvent &ecirc;tre utilis&eacute;es pour le configurer.fRessourcesforegroundColororegroundColorV&eacute;rifie si un pixel est attribu&eacute;
&agrave; la couleur de l'avant-plan.RessourcesdynamicColordynamicColorIndique si des couleurs en lecture
seule sont attribu&eacute;es.RessourcesshadowPixmapsshadowPixmapsIndique si des couleurs sont attribu&eacute;es
&agrave; l'ombrage du haut ou du bas.colorUseLimite l'attribution de couleurs.RessourceswriteXrdbColorswriteXrdbColorsIndique si les ressources*backgroundet*foregroundsont plac&eacute;es
dans la base de donn&eacute;es des ressources.Vous pouvez d&eacute;finir les ressources du serveur de couleurs pour
tous les utilisateurs en cr&eacute;ant/etc/dt/config/langue/sys.resourceset en indiquant les ressources
du serveur de couleurs dans ce fichier.Les utilisateurs peuvent, de la m&ecirc;me mani&egrave;re, d&eacute;finir
les ressources du serveur de couleurs pour leurs propres sessions en indiquant
les ressources correspondantes dansR&eacute;pPersonnel/.Xdefaults.Pour plus de d&eacute;tails sur la d&eacute;finition des ressources
du serveur de couleurs, reportez-vous &agrave; la section.Gestionnaire de l'espace de travaillancementGestionnaire de sessionslancement du Gestionnaire de l'espace de travailLancement du Gestionnaire de l'espace de travailLe Gestionnaire de sessions permet le lancement du Gestionnaire de l'espace
de travail. Par d&eacute;faut,/usr/dt/bin/dtwmGestionnaire de l'espace de travaillancementest lanc&eacute;. Un autre gestionnaire de fen&ecirc;tres
peut &ecirc;tre indiqu&eacute; par la ressourceRessourcewmStartupCommandGestionnaire de fen&ecirc;tresmodificationwmStartupCommand.Pour indiquer un autre gestionnaire de fen&ecirc;tres accessibles &agrave;
tous, cr&eacute;ez le fichier/etc/dt/config/langue/sys.resources. Indiquez ensuite le chemin
d'acc&egrave;s complet et les options de ce gestionnaire &agrave; l'aide de
la ressourceDtsession*wmStartupCommanddu fichier.Les utilisateurs peuvent, de la m&ecirc;me mani&egrave;re, indiquer
un autre gestionnaire de fen&ecirc;tres pour leurs propres sessions en d&eacute;finissant
simplement la ressourceDtsession*wmStartupCommanddansR&eacute;pPersonnel/.Xdefaults.Pour plus de d&eacute;tails sur le Gestionnaire de fen&ecirc;tres, reportez-vous
auLancement des applications de la sessionApplicationslancement &agrave; la connexionGestionnaire de sessionslancement des applicationsLors du lancement d'une session, le Gestionnaire de sessions relance
toutes les applications sauvegard&eacute;es comme composants de la session
pr&eacute;c&eacute;dente. Le fichier/usr/dt/config/langue/Fichiersys.sessionsys.sessionr&eacute;pertorie
les applications syst&egrave;me &agrave; r&eacute;tablir par d&eacute;faut
pour toute session. Ce fichier ne doit pas &ecirc;tre modifi&eacute; &eacute;tant
donn&eacute; qu'il est remplac&eacute; &agrave; chaque nouvelle installation
du Bureau.Pour plus de d&eacute;tails, reportez-vous &agrave; la page de manueldtsessionfile(4).Gestionnaire de sessionspersonnalisation
du lancement des applicationsL'administrateur syst&egrave;me
peut remplacer le jeu d'applications lanc&eacute;es lors de la session initiale
de l'utilisateur en copiant/usr/dt/config/langue/sys.sessiondans/etc/dt/config/langue/sys.sessionet en modifiant ce dernier. Contrairement aux fichiers de ressources, ce fichier
remplace int&eacute;gralement le fichier par d&eacute;faut du Bureau.Vous
pouvez donc faire une copie de ce dernier et effectuer toutes les modifications
n&eacute;cessaires.Personnalisations suppl&eacute;mentaires du lancement
d'une sessionCette section traite des sujets suivants:d&eacute;finition des variables d'environnementd&eacute;finition des ressourcesutilisation de sessions d&eacute;pendantes de l'&eacute;cranex&eacute;cution de scripts lors de la connexionr&eacute;cup&eacute;ration d'une session de sauvegardeVariablesd'environnementd&eacute;finitionVariablesd'environnementD&eacute;finition
de variables d'environnementVariablesd'environnementniveau syst&egrave;mePour d&eacute;finir
des variables d'environnement syst&egrave;me, cr&eacute;ez un fichier dans
le r&eacute;pertoire/etc/dt/config/Xsession.dR&eacute;pertoireXsession.dpermettant de d&eacute;finirVariablesd'environnementexportationet
d'exporter la variable.Par exemple, si vous cr&eacute;ez un scriptkshex&eacute;cutable,/etc/dt/config/Xsession.d/mesvars,contenant:export VARIABLE="valeur"alors, la variableVARIABLEsera d&eacute;finie dans
chaque environnement utilisateur &agrave; la prochaine connexion.Variablesd'environnementpersonnellesPour d&eacute;finir
des variables d'environnement personnelles, d&eacute;finissez-les dansR&eacute;pPersonnel/.dtprofile.Fichier.dtprofiled&eacute;finition
de variables d'environnement.dtprofileFichier.dtprofilesyntaxesupporte
uniquement la syntaxe/bin/shou/bin/kshPar exemple:export VARIABLE="valeur"d&eacute;finit la variableVARIABLEdans chaque
environnement utilisateur &agrave; la prochaine connexion.Le Gestionnaire de sessions ne lit pas automatiquement le fichier.login..profileFichier.profilenon lu par le Gestionnaire
de connexionouFichier.loginnon lu par le Gestionnaire de connexion<$nopage>ShellVoir aussi variables d'environnement, .profile, .login, .dtprofileCependant, il peut &ecirc;tre configur&eacute; de fa&ccedil;on
&agrave; utiliser ces fichiers. Reportez-vous &agrave; la section.D&eacute;finition des ressourcesRessourcesd&eacute;finitionPour d&eacute;finir les ressources au niveau syst&egrave;me,
ajoutez-les au fichier/etc/dt/config/langue/sys.resources.Fichiersys.resourcesIl vous sera peut-&ecirc;tre
demand&eacute; de cr&eacute;er ce fichier.Par exemple, si dans/etc/dt/config/C/sys.resources,
vous indiquez:AnApplication*resource:valeuralors la ressourceAnApplication*resourcesera
d&eacute;finie dans la caract&eacute;ristiqueRESOURCE_MANAGERCaract&eacute;ristiqueRESOURCE_MANAGERde chaque utilisateur &agrave; la prochaine connexion.Pour d&eacute;finir des ressources personnelles, ajoutez les
ressources au fichierR&eacute;pPersonnel/.Xdefaults.D&eacute;finition de ressources sp&eacute;cifiques &agrave; un poste
de travailRessourcessp&eacute;cifiques
de l'&eacute;cranRessourcessp&eacute;cifiques de l'&eacute;cranVous pouvez d&eacute;finir des ressources sp&eacute;cifiques &agrave;
un poste de travail pour tous les utilisateurs du syst&egrave;me. Les utilisateurs
peuvent &eacute;galement d&eacute;finir des ressources sp&eacute;cifiques
&agrave; leur poste de travail, mais celles-ci sont limit&eacute;es &agrave;
leur session. Vous pouvez ainsi faire varier les ressources selon le poste
de travail utilis&eacute; pour la connexion au Bureau.Pour d&eacute;finir des ressources sp&eacute;cifiques &agrave;
un poste de travail pour tous les utilisateurs du syst&egrave;me, cr&eacute;ez
un fichier/etc/dt/config/langue/sys.resourcesd&eacute;finissant ces ressources.Pour d&eacute;finir des ressources sp&eacute;cifiques de l'&eacute;cran
pour un utilisateur donn&eacute;, d&eacute;finissez les ressources dansR&eacute;pPersonnel/.Xdefaults.Ces ressources doivent &ecirc;tre incluses dans des instructions conditionnelles
de typeInstructions cppcpp. Une macroMacro DISPLAY_nom_&eacute;cranDISPLAY_nom_&eacute;cranest d&eacute;finie en fonction de la valeur de la variable$DISPLAY. Cette macro convertit tous les . (points) et les : (deux points)
en _ (caract&egrave;res de soulignement), supprime toute mention de num&eacute;ro
d'&eacute;cran (un poste de travail peut &eacute;ventuellement comporter plusieurs
&eacute;crans graphiques g&eacute;r&eacute;s par un seul et m&ecirc;me serveur
X) et attribue le pr&eacute;fixeDISPLAY_au r&eacute;sultat.Par exemple, une valeur d'&eacute;cran$DISPLAYde:0donneraitDISPLAY_0, et une
autre valeur d'&eacute;cran$DISPLAYblanco.gato.com:0.0donneraitDISPLAY_blanco_gato_com_0. Le r&eacute;sultat
peut &ecirc;tre utilis&eacute; comme partie d'un testcppdans un fichier de ressources de la session. Par exemple, si dans/etc/dt/config/C/sys.resourcesvous indiquez:Myapp*resource: valeur

#ifdef DISPLAY_blanco_gato_com_0
MyApp*resource: valeur1
#endif

#ifdef DISPLAY_pablo_gato_com_0
Myapp*resource: valeur2
#endifla ressourceMyApp*resourceaura, dansRESOURCE_MANAGER, la valeurvaleur1lorsque
l'utilisateur se connecte &agrave; l'&eacute;cranblanco.gato.com:0;valeur2lorsqu'il se connecte &agrave;pablo.gato.com:0;etvaleur0dans tous les
autres cas.Modification des applications de la session initialeSessioninitialeVous pouvez int&eacute;grer d'autres applications &agrave; la session
initiale de l'utilisateur.Copiez/usr/dt/config/langue/sys.sessiondans/etc/dt/config/langue/sys.session.Modifiez le nouveau fichierFichiersys.sessionsys.session.Chaque entr&eacute;e desys.sessionappara&icirc;t
sous la forme:dtsmcmd -cmdcommande_et_optionsCommandesdtsmcmdPour ajouter une application &agrave; la session initiale d'un utilisateur,
cr&eacute;ez une nouvelle entr&eacute;esys.sessionavec
son chemin d'acc&egrave;s complet. Par exemple, pour lancer/usr/bin/X11/xclockdans la session initiale d'un utilisateur, ajoutez une entr&eacute;exclock&agrave;/etc/dt/config/C/sys.session:# 
# Lancement de xclock... 
# 
dtsmcmd -cmd &ldquo;/usr/bin/X11/xclock-digital&rdquo;Configuration d'une session sp&eacute;cifique &agrave; un poste de
travailSessionsp&eacute;cifique
de l'&eacute;cranSessionsp&eacute;cifique de l'&eacute;cranL'utilisateur peut configurer une session sp&eacute;cifique pour adapter
une session &agrave; un poste de travail particulier.Copiez le r&eacute;pertoireR&eacute;pPersonnel/.dt/R&eacute;pertoiresessionssessionsdansR&eacute;pPersonnel/.dt/displayo&ugrave;&eacute;crancorrespond
au nom r&eacute;el de l'h&ocirc;te (pablo:0est correct,pablo.gato.com:0ouunix:0ne l'est pas).Par exemple, pour cr&eacute;er une session sp&eacute;cifique au poste
de travailpablo.gato.com:0:cp -rR&eacute;pPersonnel/.dt/sessionsR&eacute;pPersonnel/.dt/pablo:0Lors de la prochaine connexion de l'utilisateur depuis le poste de travailpablo.gato.com:0, le Gestionnaire de sessions lancera la session
sp&eacute;cifique de l'&eacute;cran.Ex&eacute;cution de commandes suppl&eacute;mentaires lors du lancement
de la session et lors de la d&eacute;connexionL'utilisateur peut demander le lancement de commandes suppl&eacute;mentaires
lorsqu'il se connecte &agrave; sa session du Bureau. Cela est particuli&egrave;rement
utile pour configurer des param&egrave;tres X qui ne sont pas sauvegard&eacute;s
par le Gestionnaire de sessions. Par exemple, il peut utiliserxsetrootpour personnaliser l'aspect du pointeur de la souris dans la fen&ecirc;tre
racine (c'est-&agrave;- dire, dans l'espace de travail). Une autre utilisation
possible est de lancer des applications ne pouvant &ecirc;tre enregistr&eacute;es
et r&eacute;tablies par le Gestionnaire de sessions. Si une application n'est
pas relanc&eacute;e lorsque la session est r&eacute;tablie, l'utilisateur
peut la lancer &agrave; l'aide de cette m&eacute;thode.Gestionnaire de sessionsex&eacute;cution
de commandes suppl&eacute;mentairesSessionex&eacute;cution de commandes au lancementEx&eacute;cution de commandes suppl&eacute;mentaires lors du lancement
de la sessionCr&eacute;ez le fichierR&eacute;pPersonnel/.dt/sessions/Fichiersessionetcsessionetccontenant les commandes.G&eacute;n&eacute;ralement, ce fichier est un script et doit disposer
des droits d'ex&eacute;cution appropri&eacute;s. Les proc&eacute;dures lanc&eacute;es
danssessionetcdoivent &ecirc;tre ex&eacute;cut&eacute;es
en arri&egrave;re-plan.N'utilisez passessionetcpour lancer des clients
r&eacute;tablis automatiquement par le Gestionnaire de sessions. Sinon, vous
risqueriez de lancer plusieurs copies d'une m&ecirc;me application. Vous ne
le remarquerez peut-&ecirc;tre pas tout de suite, car les fen&ecirc;tres des
copies peuvent se chevaucher.Ex&eacute;cution de commandes suppl&eacute;mentaires lors de la d&eacute;connexionSessionex&eacute;cution de commande lors de
la d&eacute;connexionGestionnaire
de sessionsex&eacute;cution de commandes lors de la d&eacute;connexionsessionexitest un fichier associ&eacute; &agrave;sessionetcFichiersessionexit. Utilisez ce fichier pour effectuer certaines op&eacute;rations
non support&eacute;es par le Gestionnaire de sessions, lorsque vous quittez
une session.Cr&eacute;ez le fichierR&eacute;pPersonnel/.dt/sessions/sessionexit.Commesessionetc, ce fichier est g&eacute;n&eacute;ralement
un script muni des droits d'ex&eacute;cution appropri&eacute;s.R&eacute;tablissement d'une session pr&eacute;alablement enregistr&eacute;eSessionr&eacute;tablissementGestionnaire de sessionsenregistrement de sessionsSessionenregistrementLorsque le Gestionnaire de sessions enregistre une session, les informations
s'y rapportant sont inscrites dans le r&eacute;pertoireR&eacute;pPersonnel/.dt/sessionsouR&eacute;pPersonnel/.dt/&eacute;cransi vous utilisez une session sp&eacute;cifique &agrave;
un poste de travail. Le Gestionnaire de sessions cr&eacute;e, dans ces r&eacute;pertoires,
un sous- r&eacute;pertoire appel&eacute;currentouhomepermettant de stocker les informations respectives des sessions
en cours ou initiales personnalis&eacute;es. Avant le stockage des informations,
le Gestionnaire de sessions enregistre la session pr&eacute;c&eacute;dente
sous ce nom et la m&eacute;morise dansR&eacute;pertoirecurrent.oldcurrent.oldouR&eacute;pertoirehome.oldhome.old.Connectez-vous en utilisant la session de maintenance ou la
connexion &agrave; partir de la ligne de commande &agrave; partir de l'&eacute;cran
de connexion.Copiez le r&eacute;pertoire de la session de sauvegarde vers
le nom courant. Par exemple, pour r&eacute;tablir une session initiale personnalis&eacute;e
de sauvegarde:cp -rR&eacute;pPersonnel/.dt/sessions/home.oldR&eacute;pPersonnel/.dt/sessions/homeLes sessions sp&eacute;cifiques de l'&eacute;cran peuvent &ecirc;tre
r&eacute;tablies de la m&ecirc;me mani&egrave;re.Analyse des incidents lors du lancement d'une sessionGestionnaire de sessionsjournal des erreursGestionnaire de sessionsidentification et r&eacute;solution des incidentsV&eacute;rifiez le fichierR&eacute;pPersonnel/.dt/startlog.FichierstartlogSessionerreurs de connexionLe fichierstartlogcontiendra les informations
de sortie (stderr) des applications lanc&eacute;es par
le Gestionnaire de session (sur l'h&ocirc;te du Gestionnaire de session