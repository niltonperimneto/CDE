Configuration du Gestionnaire de connexionGestionnaire de connexionGestionnaire de connexiond&eacute;finitionLe Gestionnaire de connexion est le serveurServeurde connexionaffichage de
l'&eacute;cran de connexionqui permet l'affichage
de l'&eacute;cran de connexion, l'identification des utilisateursServeurde connexionidentification
des utilisateurset le lancement des sessionsServeurde connexionlancement
d'une session. Sur les &eacute;crans graphiques, la
fen&ecirc;tre de connexion repr&eacute;sente une variante plus conviviale
de la connexion habituelle en mode caract&egrave;re. Les &eacute;crans g&eacute;r&eacute;s
par le serveur de connexion peuvent &ecirc;tre connect&eacute;s soit directement
&agrave; ce dernier,Serveurde connexionconnexion d'&eacute;cranssoit
&agrave; un terminal X ou &agrave; une station de travail du r&eacute;seau.Seul l'utilisateur root peut lancer, arr&ecirc;ter ou personnaliser
le serveur de connexion.Gestionnaire de connexionpersonnalisationLe serveur de connexion peut effectuer les op&eacute;rations suivantesServeurde connexiong&eacute;n&eacute;ralit&eacute;s:affichage d'une fen&ecirc;tre de connexion sur les &eacute;crans
graphiques (locaux ou &eacute;loign&eacute;s), automatiquement ou sur demandeprise en charge des terminaux &agrave; caract&egrave;res en
connexion directeaffichage d'un &eacute;cran permettant aux utilisateurs de
s&eacute;lectionner les fen&ecirc;tres de connexion provenant d'autres serveurs
du r&eacute;seaucontr&ocirc;le de l'acc&egrave;s &agrave; ce serveur de connexionaffichage de l'invite traditionnelle de connexion en mode
caract&egrave;reLes &eacute;crans g&eacute;r&eacute;s par le Gestionnaire de connexion
peuvent &ecirc;tre connect&eacute;s soit directement au serveur sur lequel
il s'ex&eacute;cute, soit &agrave; un terminal X ou &agrave; une station de
travail du r&eacute;seau. Sur les &eacute;crans locaux, le serveur de connexion
lance automatiquement un serveur X et affiche une fen&ecirc;tre de connexion.
Dans le cas des &eacute;crans &eacute;loign&eacute;s, tels que les terminaux
X, il supporte le protocole XDMCP (X Display Manager Protocol),XDMCPversion 1.0, qui permet aux &eacute;crans
de demander l'affichage de la fen&ecirc;tre de connexion.Lancement du serveur de connexionG&eacute;n&eacute;ralement,Serveurde connexionlancementle serveur
de connexion est lanc&eacute; &agrave; l'amor&ccedil;age du syst&egrave;me.
Vous pouvez cependantde connexionlancement &agrave; partir de la ligne de commandele
lancer &agrave; partir de la ligne de commande.Pour effectuer le lancement &agrave; l'amor&ccedil;age du
syst&egrave;me, tapez/usr/dt/bin/dtconfig -eLe serveur de connexion d&eacute;marrera automatiquement au prochain
lancement du syst&egrave;me.Pour lancer le serveur de connexion &agrave; partir de la
ligne de commande, tapez/usr/dt/bin/dtlogin -daemonN'utilisez le lancement &agrave; partir de la ligne de commande qu'&agrave;
des fins de test de la configuration. En mode de fonctionnement normal, choisissez
le lancement &agrave; l'amor&ccedil;age.Gestion des &eacute;crans locaux et &eacute;loign&eacute;sLamontre un exemple de configuration du serveur de connexion.Configuration type du serveur de connexionTerminaux Xconfiguration du serveur de connexionRecherche de l'ID processusServeurde connexionID processusdu serveur
de connexionPar d&eacute;faut, l'ID processus du serveur de connexion est m&eacute;moris&eacute;
dans le fichier/var/dt/Xpid.FichiersXpidPour modifier son emplacement, utilisez la ressourceDtlogin.pidFiledu fichierXconfig.FichiersXconfigLe r&eacute;pertoire
indiqu&eacute; doit exister au lancement du serveur de connexion.Pour &eacute;diter le fichierXconfig, copiez-le
de/usr/dt/configdans/etc/dt/config.Une fois la modification effectu&eacute;e (dans/etc/dt/config/Xconfig), entrez la commande suivante pour que le serveur de connexion
reliseXconfig:/usr/dt/bin/dtconfig -resetCette op&eacute;ration lance la commandekill -HUPID_processus_serveur_connexion.Par exemple, pour placer l'ID processus du serveur de connexion dans/var/mes_serveurs/Dtpid, d&eacute;finissez le param&egrave;tre
suivant dans le fichierXconfig:Dtlogin.pidFile: /var/mes_serveurs/DtpidAu prochain lancement du serveur de connexion, son ID processus sera
plac&eacute; dans/var/mes_serveurs/DtpidFichiersDtpid(le r&eacute;pertoire/var/mes_serveursdoit exister lors du red&eacute;marrage du serveur
de connexion).Affichage d'une fen&ecirc;tre de connexion sur un &eacute;cran localAu lancement, le serveur de connexion v&eacute;rifie dans le fichierXserversFichiersXserverssi un serveur X doit &ecirc;tre lanc&eacute; localement.
Il d&eacute;termine &eacute;galement le nombre et le type des fen&ecirc;tres
de connexion &agrave; afficher sur des &eacute;crans locaux ou &eacute;loign&eacute;s.Pour modifier le fichierXservers, copiez-le de/usr/dt/configdans/etc/dt/config. Une fois
la modification effectu&eacute;e (dans/etc/dt/config/Xservers),
entrez la commande suivante pour que le serveur de connexion reliseXservers:/usr/dt/bin/dtconfig -resetCette op&eacute;ration lance la commandekill -HUPID_processus_serveur_connexion.Le format des lignes du fichierXserversest le
suivant:nom_&eacute;cran classe_&eacute;cran type_&eacute;cran commande_serveur_Xo&ugrave;nom_&eacute;cranIndique au serveur de connexion le
nom &agrave; utiliser lors de l'acc&egrave;s au serveur X (dans l'exemple
ci-dessous, :0). Si vous entrez un ast&eacute;risque, la valeurnom_h&ocirc;te:0 est prise en compte. Le num&eacute;ro indiqu&eacute;
doit correspondre &agrave; celui decommande_serveur_X.classe_&eacute;cranIdentifie les ressources sp&eacute;cifiques
de l'&eacute;cran (Localdans l'exemple qui suit).type_&eacute;cranIndique au serveur de connexion si
l'&eacute;cran est local ou &eacute;loign&eacute;, et d&eacute;finit le mode
de traitement de l'option Connexion &agrave; partir de la ligne de commande
de l'&eacute;cran de connexion (local@consoledans l'exemple
suivant).commande_serveur_XD&eacute;finit la commande, le num&eacute;ro
de connexion et les autres options utilis&eacute;es par le serveur de connexion
pour lancer le serveur X (/usr/bin/X11/X:0dans l'exemple ci-dessous). Le num&eacute;ro de connexion indiqu&eacute;
doit correspondre &agrave; celui denom_&eacute;cran. Lorsque des applications graphiques 3D doivent &ecirc;tre affich&eacute;es
dans l'environnement CDE sur l'&eacute;cran local, il est n&eacute;cessaire
d'ajouter ici les options ad&eacute;quates du serveur X (par exemple,-xmbx -xabx -x...). Pour plus de d&eacute;tails, reportez-vous
&agrave; la description de la commande X.Par d&eacute;faut, les lignes du fichiersXserversont le format suivant::0 Local local@console /usr/bin/X11/X :0Lancement du serveur de connexion sans &eacute;cran localEcran graphique en mode pointlancement du serveur
de connexionSi le syst&egrave;me sur lequel s'ex&eacute;cute le serveur de connexion
ne dispose pas d'unServeurde connexionsans &eacute;cran graphique en mode point&eacute;cran graphique, lancez le serveur de connexion sans &eacute;cran
local.Serveurde connexionlancement sans &eacute;cran localPour ce
faire, mettez en commentaire la ligne du fichierXserversFichierXserverspar d&eacute;fautassoci&eacute;e &agrave; l'&eacute;cran local, en
la faisant pr&eacute;c&eacute;der du signe di&egrave;se (#).
Par exemple:# :0 Local local@console /usr/bin/X11/X :0Une fois lanc&eacute;, le serveur de connexion s'ex&eacute;cute en arri&egrave;re-plan,
attendant les requ&ecirc;tes &eacute;mises par les &eacute;crans du r&eacute;seau.Connexion &agrave; partir de la ligne de commande sur un &eacute;cran
localLorsque l'utilisateur s&eacute;lectionne &ldquo;Connexion &agrave; partir
de la ligne de commande&rdquo;Serveurde connexionconnexion &agrave; partir de la ligne de
commandedans le menu &ldquo;Options&rdquo; de la fen&ecirc;tre
de connexion, le serveur de connexion arr&ecirc;te provisoirement le serveur
X local et l'invite de connexion en mode caract&egrave;res s'affiche. Le serveur
X est relanc&eacute; lorsque la connexion prend fin ou au terme d'un d&eacute;lai
donn&eacute;.L'optionConnexion &agrave; partir de la ligne de
commande&ldquo;Connexion &agrave; partir de la ligne
de commande&rdquo; n'est pas disponible sur les &eacute;crans en r&eacute;seau.Le param&egrave;tretype_&eacute;crand&eacute;finit le type de connexion. Son format est le suivant:local@&eacute;cranType d'&eacute;cranlocallocalType d'&eacute;cranforeignforeignLorsquelocal@&eacute;cranest indiqu&eacute;, le serveur de connexion consid&egrave;re que
le serveur X et/dev/&eacute;cranr&eacute;sident sur la m&ecirc;me unit&eacute; physique, sur laquelle
une connexion &agrave; partir de la ligne de commande (g&eacute;n&eacute;ralement,getty) s'ex&eacute;cute. Lorsque l'utilisateur s&eacute;lectionne
Connexion &agrave; partir de la ligne de commande, le serveur X est arr&ecirc;t&eacute;,
ce qui autorise l'acc&egrave;s &agrave; la proc&eacute;dure de connexion &agrave;
partir de la ligne de commande (getty) en cours sur/dev/&eacute;cran.Pour d&eacute;sactiver l'option de connexion &agrave; partir de la ligne
de commande sur un &eacute;cran, indiquez la valeurnonepour&eacute;cran(la valeur par d&eacute;faut
estconsole). Si vous indiquezlocal,
la valeur par d&eacute;faut devientconsole. Si vous indiquezforeign, l'option de connexion &agrave; partir de la ligne de commande
est d&eacute;sactiv&eacute;e.La d&eacute;sactivation sera effective sur l'&eacute;cran local au prochain
lancement du serveur de connexion &agrave; partir de la ligne de commande.Prise en charge d'une console &agrave; caract&egrave;resConsole &agrave; caract&egrave;resSi le syst&egrave;me sur lequel s'ex&eacute;cute le serveur de connexion
dispose d'une console de type terminal &agrave; caract&egrave;resServeurde connexionconsole
&agrave; caract&egrave;res, connect&eacute;e directement
au syst&egrave;me, vous pouvez &eacute;galement attribuer la valeurnoneau param&egrave;tre&eacute;cranpour d&eacute;sactiver la connexion &agrave; partir de la ligne de commande
sur l'&eacute;cran graphique.Si une connexion &agrave; partir de la ligne de commande (gettygetty) est en cours &agrave;
la fois sur le terminal &agrave; caract&egrave;res (utilis&eacute; comme console)
et sur l'&eacute;cran graphique, vous pouvez attribuer &agrave;&eacute;cranla valeur correspondant au terminal &agrave; caract&egrave;res
utilis&eacute; comme console, pour l'associer &agrave; l'&eacute;cran graphique
lors de la connexion &agrave; partir de la ligne de commande.Par exemple, si la connexion &agrave; partir de la ligne de commande
(getty) est en cours sur l'&eacute;cran/dev/tty01, attribuez la valeurlocal@tty01&agrave;type_&eacute;cran.Affichage d'un &eacute;cran de connexionEcran de connexionaffichage sur un &eacute;cran
&eacute;loign&eacute;sur un &eacute;cran du r&eacute;seauLe serveur de connexion peut afficher un &eacute;cran de connexion sur
tout &eacute;cran du r&eacute;seau (terminal X ou station de travail) qui
en fait la demande.Pour g&eacute;rer ce type de requ&ecirc;te, le serveur de connexion
utilise le protocole XDMCP (X Display Manager Protocol)XDMCPd&eacute;finitionversion
1.0, qui lui permet d'analyser les demandes, puis de les accepter ou de les
rejeter. Sur la plupart des terminaux X, ce protocole est install&eacute;
par d&eacute;faut.Requ&ecirc;tes XDMCP directeXDMCPrequ&ecirc;tes directessTerminaux
Xrequ&ecirc;tes XDMCPLorsque vous configurez un terminal X pour qu'il utilise XDMCP en mode
directXDMCPmode requ&ecirc;te(requ&ecirc;te), vous lui indiquez le nom h&ocirc;te du syst&egrave;me
sur lequel le serveur de connexion est install&eacute;. A l'amor&ccedil;age,
le terminal X se connecte au serveur, qui affiche une fen&ecirc;tre de connexion
sur le terminal X. Pour plus de d&eacute;tails sur cette configuration, reportez-vous
&agrave; la documentation relative au terminal X.La plupart des serveurs X prennent &eacute;galement en charge l'option-queryOption-query. Dans ce mode, le serveur X se comporte comme un terminal X:
il se connecte directement au serveur de connexion et demande l'affichage
d'une fen&ecirc;tre de connexion. Par exemple, si vous lancez le serveur X
sur un &eacute;cran graphique sur la station de travailmarinaet souhaitez que le serveur de connexionnellyaffiche
un &eacute;cran de connexion sur le serveur X, tapez la commande suivante
:X -query nellyRequ&ecirc;tes XDMCP indirecteXDMCPrequ&ecirc;tes indirectessTerminaux
Xrequ&ecirc;tes XDMCPLorsque vous configurez un terminal X pour qu'il utilise XDMCP en mode
indirect, vous lui indiquez le nom h&ocirc;te du syst&egrave;me sur lequel
le serveur de connexion est install&eacute;. A l'amor&ccedil;age, le terminal
X se connecte au serveur de connexion, qui affiche un &eacute;cran de s&eacute;lection
contenant une liste des autres serveurs de connexion du r&eacute;seau. L'utilisateur
peut alors choisir un h&ocirc;te qui affiche une fen&ecirc;tre de connexion
sur son terminal X. Pour plus de d&eacute;tails sur cette configuration, reportez-vous
&agrave; la documentation relative au terminal X.La plupart des serveurs X prennent en charge le mode-indirect,Option-indirectqui leur permet de se connecter au serveur de connexion en mode
XDMCP indirect.Gestion des &eacute;crans &eacute;loign&eacute;s non XDMCPTerminaux Xnon XDMCPIl est possible que XDMCP ne soit pas support&eacute; sur les mod&egrave;les
de terminaux X les plus anciens. Pour que le serveur affiche un &eacute;cran
de connexion sur un terminal de ce type, indiquez son nom dans le fichierXservers.ExempleLes lignes suivantes du fichierXserverspermettent
au serveur de connexion d'afficher une fen&ecirc;tre de connexion sur deux
terminaux X non XDMCP,rubyetwolfie:ruby.blackdog.com:0 AcmeXsta foreign 
wolfie:0 PandaCo foreignEtant donn&eacute; que l'&eacute;cran est reli&eacute; au r&eacute;seau,nom_&eacute;crancomprend &eacute;galement le nom
h&ocirc;te. La valeurclasse_&eacute;cranpeut &ecirc;tre utilis&eacute;e pour indiquer des ressources propres &agrave;
une classe donn&eacute;e de terminaux X (pour plus de d&eacute;tails, reportez-
vous &agrave; la documentation relative &agrave; votre terminal X). La valeurforeignpourtype_&eacute;cranindique au serveur de connexion de se connecter &agrave; un serveur X existant
plut&ocirc;t que d'en lancer un nouveau. Dans ce cas, il est inutile d'indiquer
une commande de typecommande_serveur_X.Contr&ocirc;le de l'acc&egrave;s auServeurde connexioncontr&ocirc;le d'acc&egrave;sserveur de connexionPar d&eacute;faut, tout h&ocirc;te du r&eacute;seau ayant acc&egrave;s
au serveur de connexion peut demander l'affichage d'un &eacute;cran de connexion.
Pour limiter l'acc&egrave;s &agrave; votre serveur de connexion, modifiez
le fichierXaccessFichiersXaccess.Pour ce faire, copiez-le de/usr/dt/configdans/etc/dt/config. Une
fois la modification effectu&eacute;e (dans/etc/dt/config/Xaccess), entrez la commande suivante pour que le serveur de connexion
reliseXaccess:/usr/dt/bin/dtconfig -resetCette op&eacute;ration lance la commandekill -HUPID_processus_serveur_connexion.Connexion directe via XDMCPTerminaux Xrequ&ecirc;tes XDMCPLorsqu'un syst&egrave;me h&ocirc;te ou un terminal X tente de se connecter
directement au serveur de connexionXDMCPacc&egrave;s directvia XDMCP, son nom est compar&eacute;
auxTerminaux Xliste Xaccessentr&eacute;es du fichierXaccess, afin de
d&eacute;terminer s'il est autoris&eacute; &agrave; effectuer cette op&eacute;ration.
Les entr&eacute;es de ce fichier sont des noms h&ocirc;tes, dans lesquels
les caract&egrave;res g&eacute;n&eacute;riques*(ast&eacute;risque)
et?(point d'interrogation) sont autoris&eacute;s. L'ast&eacute;risque
repr&eacute;sente z&eacute;ro ou plusieurs caract&egrave;res et le point d'interrogation,
un caract&egrave;re quelconque. Un nom h&ocirc;te pr&eacute;c&eacute;d&eacute;
d'un point d'exclamation (!) est inaccessible. Si aucun
point d'exclamation n'est indiqu&eacute;, il est accessible.Par exemple, si le fichierXaccesscontient les
entr&eacute;es suivantes:amazone.waterloo.com
*.serv5.waterloo.com
!*La premi&egrave;re entr&eacute;e signifie que le syst&egrave;me h&ocirc;teamazone.waterloo.coma acc&egrave;s au serveur de connexion, tout
comme les h&ocirc;tes dont le nom de domaine se termine parserv5.waterloo.com(deuxi&egrave;me entr&eacute;e), et la troisi&egrave;me entr&eacute;e
signifie que l'acc&egrave;s est interdit &agrave; tous les autres h&ocirc;tes.Connexion indirecte via XDMCPTerminaux Xrequ&ecirc;tes XDMCPLorsqu'un syst&egrave;me h&ocirc;te tente de se connecter indirectement
au serveur de connexionXDMCPacc&egrave;s
indirectvia XDMCP, son nom est compar&eacute; aux
entr&eacute;es du fichierXaccess, afin de d&eacute;terminer
s'il est autoris&eacute; &agrave; effectuer cette op&eacute;ration. Ces entr&eacute;es
sont semblables &agrave; celles d&eacute;crites dans la section pr&eacute;c&eacute;dente
(les caract&egrave;res g&eacute;n&eacute;riques sont &eacute;galement autoris&eacute;s),
si ce n'est qu'elles sont associ&eacute;es &agrave; uneCha&icirc;neCHOOSERd&eacute;finitioncha&icirc;neTerminaux
Xcha&icirc;ne CHOOSERCHOOSER. Par exemple:amazone.waterloo.com CHOOSER BROADCAST
*.serv5.waterloo.com CHOOSER BROADCAST
!*     CHOOSER BROADCASTComme indiqu&eacute; pr&eacute;c&eacute;demment, la premi&egrave;re
entr&eacute;e signifie que le syst&egrave;me h&ocirc;teamazone.waterloo.coma acc&egrave;s au serveur de connexion, tout comme les h&ocirc;tes
dont le nom de domaine se termine parserv5.waterloo.com(deuxi&egrave;me entr&eacute;e), et la troisi&egrave;me entr&eacute;e signifie
que l'acc&egrave;s est interdit &agrave; tous les autres h&ocirc;tes.L'une des valeurs suivantes peut &ecirc;tre indiqu&eacute;e apr&egrave;s
la cha&icirc;neCHOOSERCha&icirc;neCHOOSERidentification:XDMCPBROADCASTBROADCASTListe de noms h&ocirc;tesBROADCASTindique au serveur de connexion qu'une
liste des h&ocirc;tes serveurs de connexion disponibles sur le sous-r&eacute;seau
doit &ecirc;tre &eacute;tablie. Cette liste doit &ecirc;tre utilis&eacute;e
par le serveur de connexion pour d&eacute;signer les h&ocirc;tes de connexion
disponibles. Par exemple:amazone.waterloo.com CHOOSER shoal.waterloo.com alum.waterloo.com
*.serv5.waterloo.com CHOOSER BROADCAST
!* CHOOSER BROADCASTSiamazone.waterloo.comse connecte indirectement
via XDMCP, une liste contenantshoaletalumlui est propos&eacute;e. Sialice.serv5.waterloo.comse connecte, une liste contenant tous les h&ocirc;tes serveurs de connexion
disponibles sur le sous-r&eacute;seau du serveur de connexion lui est pr&eacute;sent&eacute;e.
Les autres requ&ecirc;tes indirectes XDMCP seront rejet&eacute;es.Vous avez &eacute;galement la possibilit&eacute; de d&eacute;finir une
ou plusieurs macros contenant la liste de noms h&ocirc;tes. Par exemple:%liste1 shoal.waterloo.com alum.waterloo.com
amazone.waterloo.com CHOOSER %liste1Consignation des erreursServeurde connexionidentification des
incidentsGestionnaire de connexionerreursPar d&eacute;faut, le serveur de connexion enregistre les erreurs dans
le fichierFichiersXerrors/var/dt/Xerrors. Pour indiquer un autre fichier,
modifiez la ressourceDtlogin.errorLogFiledans le fichierXconfig. Le r&eacute;pertoire sp&eacute;cifi&eacute; doit exister
au lancement du serveur de connexion.Par exemple, pour que les erreurs soient consign&eacute;es dans le fichier/var/mes_erreurs/Dterrors, d&eacute;finissez la ressource suivante
dansXconfig:Dtlogin.errorLogFile: /var/mes_erreurs/DterrorsAu prochain lancement du serveur de connexion, les erreurs seront enregistr&eacute;es
dans le fichier/var/mes_erreurs/DterrorsFichiersDterrors(le
r&eacute;pertoire/var/mes_erreursdoit exister au red&eacute;marrage
du serveur de connexion).Arr&ecirc;t du serveur de connexionServeurde connexionarr&ecirc;tPour que le serveur de connexionServeurde connexiond&eacute;sactivationne soit pas lanc&eacute; lors de l'amor&ccedil;age
du syst&egrave;me, entrez:/usr/dt/bin/dtconfig -dCette commande indique que le serveur de connexion ne devra pas &ecirc;tre
lanc&eacute; au prochain amor&ccedil;age du syst&egrave;me.Pour arr&ecirc;ter le serveur de connexion par son ID processus,
entrez:/usr/dt/bin/dtconfig -killCette op&eacute;ration lance la commandekillID_processus_serveur_connexion.Lorsque vous supprimezServeurde connexionsuppression de l'ID processusle processus serveur de connexion, toutes les sessions utilisateur
g&eacute;r&eacute;es par ce serveur sont arr&ecirc;t&eacute;es.Vous pouvez &eacute;galement lancer directement la commande kill sur
l'ID processus (au lieu de l'ex&eacute;cuter indirectement, comme dans l'exemple
pr&eacute;c&eacute;dent). L'ID processus du serveur de connexion est stock&eacute;
dans/var/dt/Xpidou dans le fichier indiqu&eacute; par
la ressourceDtlogin.pidFiledu fichierXconfig.Si vous &ecirc;tes connect&eacute; au Bureau lorsque vous arr&ecirc;tez
le serveur de connexion, la session prend fin imm&eacute;diatement.Fen&ecirc;tre de connexionLa fen&ecirc;tre affich&eacute;e par le serveur de connexion est une
variante plus conviviale de l'invite de connexion en mode caract&egrave;re.
Elle permet en outre d'effectuer un plus grand nombre d'op&eacute;rations.Fen&ecirc;tre de connexion au BureauComme avec l'invite en mode caract&egrave;re, l'utilisateur doit taper
son nom et son mot de passe. Si la v&eacute;rification d'identit&eacute; aboutit,
le serveur de connexion ouvre une session de Bureau. Lorsque l'utilisateur
met fin &agrave; cette session, une nouvelle fen&ecirc;tre de connexion s'affiche.Pour personnaliser la fen&ecirc;tre de connexion, vous pouvezEcran de connexionpersonnalisation:modifier sa pr&eacute;sentationconfigurer les droits d'acc&egrave;s au serveur Xmodifier la langue par d&eacute;fautex&eacute;cuter des commandes avant l'affichage de l'&eacute;cran
de connexionmodifier les options du menu Langueindiquer la commande de lancement de la session utilisateurex&eacute;cuter des commandes avant l'ouverture de la session
utilisateurex&eacute;cuter des commandes apr&egrave;s la fermeture de
la session utilisateurCes op&eacute;rations peuvent &ecirc;tre effectu&eacute;es sur tous
les &eacute;crans.Modification de la pr&eacute;sentation de la fen&ecirc;tre
de connexionVous pouvezEcran de connexionpr&eacute;sentationmodifier le logo ou l'image, les
messages de bienvenue et les polices.Pour &eacute;diter le fichierXresources, copiez-le
de/usr/dt/config/languedans/etc/dt/config/langue.
Les modifications seront prises en compte au prochain affichage de la fen&ecirc;tre
de connexion. Pour que les modifications soient prises en compte imm&eacute;diatement,
s&eacute;lectionnez &ldquo;Restauration de la fen&ecirc;tre de connexion&rdquo;
dans le menu &ldquo;Options&rdquo;.Les param&egrave;tres de la fen&ecirc;tre de connexion et les ressources
du fichierXresourcespermettant de les d&eacute;finir
sont les suivants:Gestionnaire de
connexionressources&Eacute;cran de connexionressourcesDtlogin*logo*bitmapFileFichier bitmap ou pixmap &agrave; utiliser
comme logo.Dtlogin*greeting*labelStringMessage de bienvenue.Dtlogin*greeting*persLabelStringMessage de bienvenue personnalis&eacute;.Dtlogin*greeting*fontListPolice des messages de bienvenue.Dtlogin*labelFontPolice des boutons de fonction et des
libell&eacute;s.Dtlogin*textFontPolice de l'aide et des messages d'erreur.Dtlogin*langue*languageNameAutre nom pour l'environnement local
(langue).Modification du logoD&eacute;finissez la ressourceDtlogin*logo*bitmapFiledans le fichierXresources.Le logo peut &ecirc;tre un fichier pixmap en couleur ou un fichier bitmap.Dans l'exemple suivant, le fichier bitmapmon_logoest utilis&eacute; comme logo:Dtlogin*logo*bitmapFile: /usr/local/lib/X11/dt/bitmaps/mon_logo.bmModification du message de bienvenEcran de connexionmessage de bienvenueueMessage de bienvenuepersonnalisationMessage de bienvenuepar d&eacute;fautPar d&eacute;faut, le serveur de connexion affiche
dans la fen&ecirc;tre de connexion le messageBienvenue surnom_h&ocirc;te. Pour modifier ce
texte:D&eacute;finissez la ressourceDtlogin*greeting*labelStringdans le fichierXresources.Les valeurs de cette ressource peuvent &ecirc;tre %LocalHost% (nom h&ocirc;te du serveur de connexion) et %DisplayName% (nom d'&eacute;cran du serveur X).L'exemple suivant permet de modifier le message de bienvenue enVous &ecirc;tes surnom_h&ocirc;te!:Dtlogin*greeting*labelString: Vous &ecirc;tes sur %LocalHost%!Une fois que l'utilisateur a entr&eacute; son nom, le serveur de connexion
affiche le message par d&eacute;fautBienvenuenom_utilisateur. Pour modifier ce message, d&eacute;finissez
la ressourceDtlogin*greeting*persLabelStringdans
le fichierXresources. La valeur de cette ressource peut
&ecirc;tre %s (nom de l'utilisateur).L'exemple suivant permet de modifier le message de bienvenue enBonjournom_utilisateur:Dtlogin*greeting*persLabelString: Bonjour %sModification desEcran de connexionpolicespolicesPour personnaliser les polices de la fen&ecirc;tre de connexion, d&eacute;finissez
l'une des ressources ci-dessous dans le fichierXresources.FichiersXresourcesPour afficher la liste des polices disponibles, entrez:xlsfonts [-options] [-fnforme]Dtlogin*greeting*fontListPolice des messages de bienvenue.Dtlogin*labelFontPolice des boutons de fonction et des
libell&eacute;s.Dtlogin*textFontPolice de l'aide et des messages d'erreur.L'exemple suivant de d&eacute;finir une police plus grande pour les
messages de bienvenue (la valeur indiqu&eacute;e doit tenir sur une seule
ligne):Dtlogin*greeting*fontList: -dt-interface system-medium-r-normal-xxl*-*-*-*-*-*-*-*-*:Affichage d'un texteEcran de connexionlocalisation&agrave; la place du nom de
l'environnement localLocalisation&eacute;cran de connexionPour d&eacute;finir une cha&icirc;ne de caract&egrave;res &agrave; afficher
dans le menu Langue de la fen&ecirc;tre de connexion, &agrave; la place du
nom de l'environnement local (affich&eacute; par d&eacute;faut), modifiez
la ressourceDtlogin*langue*languageNamedans le fichierXresources:Dtlogin*Fr_FR*languageName: Fran&ccedil;aisLe nom de l'environnement localFr_FRsera remplac&eacute;
par la cha&icirc;neFran&ccedil;ais.Modification du comportementEcran de connexioncomportementde la fen&ecirc;tre
de connexionPour personnaliser le comportement de l'&eacute;cran de connexion, modifiez
les ressources du fichierXconfig.Pour &eacute;diter le fichierXconfig, copiez-le
de/usr/dt/configdans/etc/dt/config.Une fois la modification effectu&eacute;e (dans/etc/dt/config/Xconfig), entrez la commande suivante pour que le serveur de connexion
reliseXconfig:/usr/dt/bin/dtconfig -resetCette op&eacute;ration lance la commandekill -HUPID_processus_serveur_connexion.Gestionnaire de connexionressourcesLes ressources d&eacute;finies dans le fichierXconfigcomprennentFichierXconfigressources:Dtlogin*authorizeSp&eacute;cification du fichierXaccess.Dtlogin*environmentEnvironnement du serveur X.Dtlogin*languageLangue par d&eacute;faut.Dtlogin*languageListListe de langues pour le menu Langue
de la fen&ecirc;tre de connexion.Dtlogin*resourcesSp&eacute;cification du fichierXresources.Dtlogin*setupSp&eacute;cification du fichierXsetup.Dtlogin*startupSp&eacute;cification du fichierXstartup.Dtlogin*sessionSp&eacute;cification du fichierXsession.Dtlogin*failsafeClientSp&eacute;cification du scriptXfailsafe.Dtlogin*resetSp&eacute;cification du scriptXreset.Dtlogin*userPathVariable PATH pourXsessionetXfailsafe.Dtlogin*systemPathVariable PATH pourXsetup,XstartupetXfailsafe.Dtlogin*systemShellVariable SHELL pourXsetup,XstartupetXfailsafe.Dtlogin.timeZoneVariable TZ pour les scripts.Modification du comportement de la fen&ecirc;tre de connexion pour
certains &eacute;cransEcran de connexioncomportementEcrans multiplesGestionnaire de connexionDans les exemples ci-dessous, la personnalisation de la ressourceXconfigentra&icirc;ne la modification du comportement de la
fen&ecirc;tre de connexion sur tous les &eacute;crans. Les ressources comportant
un ast&eacute;risque peuvent &ecirc;tre d&eacute;finies pour certains &eacute;crans
seulement. Une ressource associ&eacute;e &agrave; un &eacute;cran donn&eacute;
doit &ecirc;tre indiqu&eacute;e sous la formeDtlogin*nom_&eacute;cran*ressource. Par exemple, pour d&eacute;sactiver le contr&ocirc;le
d'acc&egrave;s utilisateur pour l'&eacute;cranexpo:0uniquement, entrez:Dtlogin*expo_0*authorize: FalseLes caract&egrave;res sp&eacute;ciaux indiqu&eacute;s dans le nom de
l'&eacute;cran, tels que les deux points (:) ou le point (.) sont remplac&eacute;s
par des caract&egrave;res de soulignement (_).Modification de l'acc&egrave;sEcran de connexionacc&egrave;s au serveur Xau serveurServeur Xacc&egrave;sXPar d&eacute;faut, le contr&ocirc;le d'acc&egrave;s au serveur X s'effectue
utilisateur par utilisateur, en fonction des donn&eacute;es m&eacute;moris&eacute;es
et prot&eacute;g&eacute;es dans le fichierR&eacute;p_personnel/.Xauthority. Seuls les utilisateurs autoris&eacute;s
&agrave; lire ce fichier ont acc&egrave;s au serveur X. Il s'agit de la m&eacute;thode
de contr&ocirc;le la plus utilis&eacute;e.Il est &eacute;galement possible de contr&ocirc;ler l'acc&egrave;s au
serveur X h&ocirc;te par h&ocirc;te: tout utilisateur d'un syst&egrave;me
h&ocirc;te autoris&eacute; &agrave; acc&eacute;der au serveur X peut se connecter
&agrave; ce dernier. Les raisons susceptibles de vous amener &agrave; choisir
cette solution sont les suivantes:les clients X R2 et R3 ne supportent pas la connexion au serveur
X &agrave; l'aide de la premi&egrave;re m&eacute;thodesur les r&eacute;seaux non s&eacute;curis&eacute;s, les donn&eacute;es
&eacute;chang&eacute;es entre le client et le serveur X peuvent &ecirc;tre
intercept&eacute;es par des personnes non autoris&eacute;eLa ressourceXconfig Dtlogin*authorizeRessourcesauthorizeindique
au serveur de connexion de contr&ocirc;ler l'acc&egrave;s au serveur X utilisateur
par utilisateur. Pour utiliser la m&eacute;thode de contr&ocirc;le d'acc&egrave;s
&ldquo;par h&ocirc;te&rdquo;, attribuez la valeurFalse&agrave; la ressourceauthorize:Dtlogin*authorize: FalseModification de l'environnement duServeur XenvironnementserveurEcran de connexionenvironnement du serveur XXPour affecter au serveur X une ou plusieurs variables d'environnement,
lors de son lancement par le serveur de connexion, vous pouvez d&eacute;finir
la ressourceDtlogin*environmentdu fichierXconfig. Par exemple:Dtlogin*environment: VAR1=foo VAR2=barCette ressource permet au serveur X local de b&eacute;n&eacute;ficier
des variablesVAR1etVAR2. Celles-ci
seront &eacute;galement export&eacute;es vers les scriptsXsessionetXfailsafe.Modification de laEcran de connexionlanguelangue par d&eacute;fautLorsqu'un utilisateur ouvre une session de Bureau &agrave; partir de
la fen&ecirc;tre de connexion, celle-ci s'ex&eacute;cute dans l'environnement
local s&eacute;lectionn&eacute; dans le sous-menu Langue du menu Options.
Si aucune langue n'est s&eacute;lectionn&eacute;e, la langue par d&eacute;faut
du serveur est utilis&eacute;e. Pour modifier la langue par d&eacute;faut,
utilisez la ressourceDtlogin*languageRessourcesDtlogin*languagedu fichierXconfig. Par exemple:Dtlogin*language: En_USPour conna&icirc;tre les langues install&eacute;es sur votre syst&egrave;me,
consultez la documentation correspondante.Modification du menu Langue de la fen&ecirc;tre deEcran de connexionmodification du menu LangueconnexionLanguepersonnalisationPar d&eacute;faut, le serveur de connexion cr&eacute;e un menu Langue
contenant la liste des environnement locaux install&eacute;s sur le syst&egrave;me.
Lorsque l'utilisateur s&eacute;lectionne un environnement local, le serveur
de connexion r&eacute;affiche l'&eacute;cran de connexion dans la langue correspondante.
La prochaine session de l'utilisateur s'ex&eacute;cutera &eacute;galement
dans cet environnement.Pour d&eacute;finir votre propre liste de langues, modifiez la ressourceDtlogin*languageListdans le fichierXconfig:Dtlogin*languageList: En_US De_DEUne fois la modification effectu&eacute;e, le menu Langue de l'&eacute;cran
de connexion ne contient plus que les langues indiqu&eacute;es (En_USetDe_DE).Ex&eacute;cution de commande avant l'affichage de la fen&ecirc;tre
de connexionGestionnaire de connexionex&eacute;cution de commandesUne fois le serveur X lanc&eacute;, mais avant l'affichage de la fen&ecirc;tre
de connexion, le serveur de connexion ex&eacute;cute le scriptXsetup.FichiersXsetupCelui-ci dispose des droits d'acc&egrave;s de niveau root; il
lance des commandes devant &ecirc;tre ex&eacute;cut&eacute;es avant l'affichage
de l'&eacute;cran de connexion.Pour modifierXsetup, copiez-le de/usr/dt/configdans/etc/dt/config. Les
modifications seront prises en compte au prochain affichage de la fen&ecirc;tre
de connexion.Ex&eacute;cution de commande avant l'ouverture de la session utilisateurUne fois que l'utilisateur a entr&eacute; son nom et son mot de passe
et que son identit&eacute; a &eacute;t&eacute; v&eacute;rifi&eacute;e, mais
avant qu'une session ne soit lanc&eacute;e, le serveur de connexion ex&eacute;cute
le scriptXstartup.FichiersXstartupCelui-ci dispose des droits d'acc&egrave;s
de niveau root; il lance des commandes &agrave; ex&eacute;cuter avant l'ouverture
de la session utilisateur.Pour modifier le fichierXstartup, copiez-le de/usr/dt/configdans/etc/dt/config. Les modifications
entreront en vigueur &agrave; la prochaine connexion de l'utilisateur.Lancement d'une session de BureauPar d&eacute;faut, pour ouvrir une session utilisateur, le serveur de
connexion ex&eacute;cute le scriptXsession.FichierXsessionex&eacute;cution
par le serveur de connexionCelui-ci dispose des droits
d'acc&egrave;s de niveau root; il ex&eacute;cute les commandes n&eacute;cessaires
au lancement du Bureau.Le scriptXsessionne doit pas &ecirc;tre modifi&eacute;
manuellement.Pour plus de d&eacute;tails sur la personnalisation du lancement des
sessions utilisateur, reportez-vous au.Ouverture d'une session monofen&ecirc;treSessionmonofen&ecirc;treLorsque l'utilisateur s&eacute;lectionne Session monofen&ecirc;treSessionmonofen&ecirc;tredans
le sous-menu Sessions du menu Options de la fen&ecirc;tre de connexion, le
serveur de connexion lance le scriptXfailsafeFichiersXfailsafe.
Celui-ci dispose des droits d'acc&egrave;s root et ex&eacute;cute les commandes
permettant de lancer un environnement &agrave; fen&ecirc;trage minimal (&agrave;
savoir, une fen&ecirc;tre de terminal et, &eacute;ventuellement, un Gestionnaire
de fen&ecirc;tres).Pour modifier le fichierXfailsafe, copiez-le de/usr/dt/configdans/etc/dt/config. Les modifications
seront prises en compte &agrave; la prochaine connexion de l'utilisateur.Fin de la session utilisateurSessionscriptUne fois la session de Bureau ou monofen&ecirc;tre termin&eacute;e,
le serveur de connexion ex&eacute;cute le scriptXreset.FichiersXresetCelui-ci
dispose des droits d'acc&egrave;s de niveau root; il lance des commandes
&agrave; ex&eacute;cuter &agrave; la fin de la session utilisateur.Pour modifier le fichierXreset, copiez-le de/usr/dt/configdans/etc/dt/config. Les modifications
seront prises en compte &agrave; la prochaine connexion de l'utilisateur.Environnement du serveur de connexionL'environnement fourni par le serveur X est export&eacute; vers les
scriptsXsetup,Xstartup,Xsession,XfailsafeetXreset.
Lefournit une description de cet environnement. Des
variables suppl&eacute;mentaires peuvent &eacute;galement &ecirc;tre export&eacute;es
par le serveur de connexion.Environnement du serveur de connexionServeurde connexionenvironnementVariabled'environnementXsetupXstartupXfailsafeXresetDescriptionVariableLANGd&eacute;finition par le Gestionnair de
connexionLANGXXXXLangue par d&eacute;faut ou langue
s&eacute;lectionn&eacute;eVariableXAUTHORITYd&eacute;finition par le Gestionnair de connexionXAUTHORITYXXXXFichier d'autorisations X secondaire
(facultatif)VariablePATHd&eacute;finition par le Gestionnair de
connexionPATHXXXXValeur de la ressourceDtlogin*userPath(Xsession,Xfailsafe) ouDtlogin*systemPath(Xsetup,Xstartup,Xreset)VariableDISPLAYd&eacute;finition par le Gestionnaire de
connexionDISPLAYXXXXNombre de connexions au serveur XVariableSHELLd&eacute;finition par le Gestionnaire de connexionSHELLXXXXShell sp&eacute;cifi&eacute; dans le
fichier/etc/passwd(Xsession,Xfailsafe) ou par la ressourceDtlogin*systemShell(Xsetup,Xstartup,Xreset)VariablesTZTZXXXXValeur de la ressourceDtlogin.timeZoneou fuseau horaire d&eacute;termin&eacute; par le syst&egrave;meVariablesUSERUSERXXXNom d'utilisateurVariablesHOMEHOMEXXXR&eacute;pertoire personnel sp&eacute;cifi&eacute;
dans le fichier/etc/passwdVariablesLOGNAMELOGNAMEXXXNom d'utilisateurModification du chemin d'acc&egrave;s utilisateur ou syst&egrave;meLe serveur de connexion d&eacute;finit la variable d'environnement PATHServeurde connexionchemin
utilisateurlors de l'ex&eacute;cution des scriptsXsessionFichierXsessiond&eacute;finition
de PATHetFichiersXfailsafeXfailsafe. Vous pouvez
indiquer un autre chemin d'acc&egrave;s pour ces scripts.Chemin d'acc&egrave;s utilisateurChemin d'acc&egrave;sutilisateurD&eacute;finissez la ressourceDtlogin*userPathRessourcesuserPathdans le fichierXconfig. Par
exemple:Variablesd'environnementGestionnaire de connexionDtlogin*userPath:/usr/bin:/etc:/usr/sbin:/usr/ucb:/usr/bin/X11Chemin d'acc&egrave;s syst&egrave;meChemin d'acc&egrave;ssyst&egrave;meD&eacute;finissez la ressourceDtlogin*systemPathRessourcessystemPathdans le fichierXconfig. Par
exemple:Dtlogin*systemPath: /usr/bin/X11:/etc:/bin:/usr/bin:/usr/ucbModification du shell syst&egrave;meLe serveur de connexion d&eacute;finit la variable d'environnement SHELL
lors de l'ex&eacute;cution des scriptsXsetup,XstartupetXfailsafe.Serveurde connexionshell syst&egrave;meLe shell par d&eacute;faut est/bin/sh.
Pour le modifier, d&eacute;finissez la ressourceDtlogin*systemShelldans le fichierXconfig. Par exemple:Dtlogin*systemShell: /bin/kshModification du fuseau horaireLe serveur de connexion d&eacute;finit la variable d'environnement TZVariablesTZlors de l'ex&eacute;cution
des scriptsXsetup,Xstartup,Xsession,Xfailsafe, etXreset.
La valeur par d&eacute;faut &eacute;tant d&eacute;termin&eacute;e par le syst&egrave;me,
il n'est g&eacute;n&eacute;ralement pasServeurde connexionfuseau horaireFuseau horairemodificationn&eacute;cessaire de la modifier. Cependant, si vous souhaitez indiquer un
autre fuseau horaire pour ces scripts, d&eacute;finissez la ressourceDtlogin. timeZoneRessourcestimeZonedans le fichierXconfig.
Par exemple:Dtlogin.timeZone: CST6CDTAdministration du Gestionnaire de connexionLors du d&eacute;marrage du serveur de connexion, un processusdtloginest lanc&eacute;. Il lit le fichierXconfigpour identifier la configuration initiale du serveur de connexion et localiser
les autres fichiers de configuration. Le serveur de connexion lit ensuite
les fichiersXservers(indiquant les &eacute;crans qu'il
doit g&eacute;rer de fa&ccedil;on explicite) etXaccess(permettant de contr&ocirc;ler l'acc&egrave;s au Gestionnaire de connexion).Si le serveur de connexion doitFichierXserversgestion des &eacute;crans locauxg&eacute;rer un &eacute;cran local,
il lance un serveur X, conform&eacute;ment aux instructions du fichierXservers, puis affiche une fen&ecirc;tre de connexion sur l'&eacute;cran.Si le serveur de connexion doit g&eacute;rer un &eacute;cran &eacute;loign&eacute;,
il consid&egrave;re qu'un serveur X associ&eacute; est d&eacute;j&agrave;
en cours d'ex&eacute;cution et affiche une fen&ecirc;tre de connexion sur
l'&eacute;cran.Ensuite, le serveur de connexion attend les requ&ecirc;tes XDMCP en
provenance du r&eacute;seau.Pour chaque &eacute;cran g&eacute;r&eacute;, le serveur de connexion
cr&eacute;e un processusdtlogin. Par exemple, pour un
serveur g&eacute;rantn&eacute;crans,n+1 processusdtloginseront lanc&eacute;s
(car un processus dtlogin suppl&eacute;mentaire est lanc&eacute; au d&eacute;marrage
du serveur de connexion). Tout d'abord, le serveur de connexion ex&eacute;cute
le scriptXsetup, puis il charge le fichierXresources. Il lance ensuitedtgreetpour afficher l'&eacute;cran
de connexion. Lorsque l'utilisateur a entr&eacute; son nom et son mot de passe,
et que son identit&eacute; a &eacute;t&eacute; v&eacute;rifi&eacute;e, le
serveur de connexion ex&eacute;cute le scriptXstartup,
puis le scriptXsessionouXfailsafeFichiersXfailsafe.
Une fois la session termin&eacute;e, le serveur de connexion lance le scriptXreset.Lorsqu'une requ&ecirc;teXDMCPrequ&ecirc;tes indirectesXDMCP indirecte parvient
au serveur de connexion, il ex&eacute;cutedtchooserpour
afficher la liste des h&ocirc;tes serveurs de connexion disponibles sur l'&eacute;cran.
Celui-ci sera ensuite g&eacute;r&eacute; par le serveur de connexion de l'h&ocirc;te
s&eacute;lectionn&eacute; par l'utilisateur.Par d&eacute;faut, dans le cas des fichiers de configurationXaccess,Xconfig,Xfailsafe,Xreset,langue/Xresources,Xservers,XsetupetXstartup, le serveur de connexion consulte tout d'abord/etc/dt/config, puis/usr/dt/config, et utilise
le premier fichier d&eacute;tect&eacute;.Fichiers du Gestionnaire de connexionFichiersde configurationGestionnaire de connexionPar d&eacute;faut, les fichiers du Gestionnaire de connexionGestionnaire de connexionfichiers de configurationse trouvent dans les r&eacute;pertoires suivants:/usr/dt/bin/dtlogin<$nopage>dtlogin, voir
Gestionnaire de connexionServeur de connexion et Gestionnaire
d'&eacute;cran./usr/dt/bin/dtgreetFichiersdtgreetAffiche une fen&ecirc;tre de connexion
sur un &eacute;cran./usr/dt/bin/dtchooserFichiersdtchooserAffiche une fen&ecirc;tre de s&eacute;lection
sur un &eacute;cran./usr/dt/bin/XsessionLance une session de Bureau./usr/dt/config/XfailsafeLance une session monofen&ecirc;tre./usr/dt/config/XconfigFichier de configuration du serveur
de connexion./usr/dt/config/XserversFichier de description de l'&eacute;cran
du serveur de connexion./usr/dt/config/XaccessFichier de description de l'acc&egrave;s
au serveur de connexion./usr/dt/config/langue/XresourcesRessources de pr&eacute;sentation de l'&eacute;cran./usr/dt/config/XsetupFichier de configuration de l'&eacute;cran./usr/dt/config/XstartupFichier de lancement pr&eacute;-session./usr/dt/config/XresetFichier de r&eacute;tablissement post-session./var/dt/XpidID processus du Gestionnaire de connexion./var/dt/XerrorsJournal des erreurs du serveur de
connexion.