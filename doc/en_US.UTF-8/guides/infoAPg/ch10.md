Using Architectural Formsdocument type definitionapplying architectural forms toYour SGML documents conform to a particular document type definition
(DTD). To make the Information Manager understand how to treat the
elements defined in your DTD, you apply attributes to basic elements
in the DTD. These attributes correspond to Information Manager
architectural forms, which are semantics that Information Manager
interprets to build documents into an on-line library.The examples in this section are from version 2.2.1 of the DocBook DTD.Information Manager architectural forms are based on the
organizational model of documentation in the Information Manager.
The Information Manager groups an information library into bookcases
containing books with sections whose titles are arranged in a hypertext
table of contents. It includes access to specific elements such as tables
and graphics.Bookcases, books, sections, titles, links, tables, and graphics,
are examples of important elements that the browser must identify
to manage the information. Information Manager provides architectural
forms that correspond to each of these types of information.
To identify these pieces for the Information Manager,
you apply the corresponding architectural forms to your DTD.
Specifically, you add attributes to each element that has characteristics
you want to identify. To make it easier to maintain your DTD,
use parameter entity references provided by the Information Manager.Using Parameter Entity ReferencesThe Information Manager provides parameter entity references
as a quick (and recommended) way to use Information Manager
architectural forms. The entity names for Information Manager
architectural forms are stored in/usr/dt/infolib/<lang>/SGML/dtinfo.af.
By using parameter entity references in your attributes list
rather than entering complete attributes, you'll be able to take
advantage of new features of the Information Manager,
while minimizing changes to your DTD. For example:To apply the complete attribute:&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        DTINFO.TITLE CDATA #FIXED &ldquo;#CONTENT&rdquo;
>To use the parameter entity reference:&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        %DTINFO.Title; &ldquo;#CONTENT&rdquo;
>SeeApplying Architectural FormsandDescription of Information Manager
Architectural Formsfor more information on editing your DTD.Description of DTINFO Architectural FormsThe descriptions of architectural forms identify related forms,
forms that are commonly used in conjunction with the architectural
form being described. A related form is identified in the documentation
using its corresponding attribute name. This section discusses:Section FormsValue FormScope FormsHypertext FormsStyle FormAlthough it is easier to create tables of contents, bookcase
specifications and style sheets from scratch, you can apply Information
Manager architectural forms to existing bookcase, style sheet,
and table of contents DTDs. For more information see Bookcase Forms,
Style Sheet Forms, andTable of Contents
Forms.These architectural forms must be applied before mostdtdocbook2infolibsubcommands can be used.Understanding ValuesFor Information Manager architectural forms that take data values,
a simple functional language provides a mechanism to assemble combinations
of element content, attribute values, and literals. The arguments
are defined in the tableSyntax for Creating Values.
# Syntax for Creating ValuesSyntaxMeaningattr()attr() returns the value of the attribute
name used as the argument. IMPLIED attributes return an empty string.
attr() references attributes on the current element only.concat()concat() concatenates string arguments
(literals, contents of elements, attribute values, or values of the other
functions).firstof()firstof() returns the first non-empty
string in its arguments. It chooses the value from the order of
possibilities defined by its arguments.element nameelement nameuses, as the value, the name of an element that is a member of the current
element's content model.literal stringliteral stringuses either a pair of '...' or "..." enclosing quotes to signify a literal
string#CONTENT#CONTENT uses all of the current element's
content as the value.You can combine the syntax explained in the table to create the
value you want, and you can add literal strings as needed.Examples of specifying values for architectural forms are:DTINFO.Title  CDATA             #FIXED
                                    "concat( attr(Label), RefTitle, ManVolNum )"
DTINFO.Graphic  CDATA           #FIXED
                                  "firstof( attr(Fileref), attr(Other), #CONTENT )"Section Formsarchitectural formssection formsFor the Information Manager to understand the structure of your SGML
files, you must apply section architectural forms. The use and meaning
of a form's value depends on the type of form it is. For example, when
specified for a chapter title, the value is displayed in the hypertext
table of contents. ForDTINFO.Graphic, the
value is the name of the file containing the graphic data. These
relationships are described in the tableMeaning of the Form Values.Meaning of the Form ValuesSection FormMeaning of Value Form,
When AppliedDTINFO.SectionThe value of a section is what would be
displayed in the Information Manager Reading window.
The default is #CONTENT.DTINFO.TitleThe value of a title for
DTINFO.Section is displayed in the Information Manager Book List.DTINFO.GraphicThe value of a graphic is the file name
containing the graphical data. This value can also be derived from
entity references.DTINFO.IgnoreThis information will not be stored
in the database or in the FulText Index (so it won't be displayed).DTINFO.ShortTitleThe value of a shorttitle is the
text used in certain places in the Reading window where a full title
might be truncated.DTINFO.SectionApply theDTINFO.Sectionform to container
elements that separate pieces of information such as chapters.
UseDTINFO.Sectionto define which elements
you want displayed to readers as a unit of information in a reading window
of the Information Manager.dtdocbook2infolibcan derive
the hierarchy by containment usingDTINFO.Section.Entity name:DTINFO.SectionAttribute template:DTINFO.Section CDATA FIXED &ldquo;#CONTENT&rdquo;Related Forms:DTINFO.ID(Required),DTINFO.Scope,DTINFO.ShortTitle,DTINFO.Style,DTINFO.Title(Required),DTINFO.ValueExample:&lt;!ELEMENT Preface - - (DocInfo?, Title, TitleAbbrev?, (%sect1.gp;)) >
&lt;!ATTLIST Preface
        %commonatts;

        %DTINFO.Section;            &ldquo;#CONTENT&rdquo;
        %DTINFO.Style;              &ldquo;sty1&rdquo;
        %DTINFO.Title;              &ldquo;#CONTENT&rdquo;
        %DTINFO.ID;                 &ldquo;attr(id)&rdquo;
>DTINFO.TitleYou typically applyDTINFO.Titleto any type of title, including chapter titles, headings, captions,
figure titles, table titles, and example titles.Entity name:DTINFO.TitleAttribute template:DTINFO.Title CDATA #FIXEDRelated Forms:DTINFO.Scope,DTINFO.ValueExample:&lt;!ELEMENT RefMeta - - (RefEntryTitle, ManVolNum?,RefMiscInfo*) >
&lt;!ATTLIST RefMeta
        %commonatts;

        %DTINFO.Title;          #&ldquo;CONTENT&rdquo;
        %DTINFO.Value;          &ldquo;concat( RefEntryTitle, ManVolNum)&rdquo;
>DTINFO.ShortTitleIf your existing DTD has an abbreviated form of a title, apply theDTINFO.ShortTitleto that element. The content
of this element is never displayed in a reading window, but may appear
as a list item in a dialog. The content does not appear in the FulText
index.Entity name:DTINFO.ShortTitleAttribute template:DTINFO.ShortTitle CDATA #FIXEDRelated Forms:DTINFO.ValueExample:&lt;!ELEMENT TitleAbbrev - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST TitleAbbrev
        %commonatts;

        %DTINFO.ShortTitle;  &ldquo;#CONTENT&rdquo;
>DTINFO.GraphicApplyDTINFO.Graphicto elements that designate graphics, mathematical equations, or certain types of tables.Entity name:DTINFO.GraphicAttribute template:DTINFO.Graphic CDATA #FIXEDRelated Forms:DTINFO.Scope,DTINFO.ID.Example:&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref   ENTITY   #IMPLIED
        Fileref     CDATA    #IMPLIED
        Format      NOTATION
                    %notationtypes; #IMPLIED
        Id          ID       #IMPLIED

        %DTINFO.Graphic; &ldquo;#CONTENT&rdquo;
        %DTINFO.ID;      &ldquo;:attr( ID )&rdquo;
        %DTINFO.Scope.Graphic;
>
* **`DTINFO.Table`** We may not support DTINFO.Table - so it may be commented
out in future documentation.Elements that designate SGML-encoded tables according to the CALS table
model should receive the`DTINFO.Table`attribute.
Otherwise they should receive`DTINFO.Graphic`.Entity name:`DTINFO.Table`Attribute template:`DTINFO.Table CDATA #FIXED`Related Forms:`Scope.Table`.Example:&lt;!ELEMENT InformalTable - - ((%tblcontent.gp;)) -(Table|InformalTable)&gt;
&lt;!ATTLIST InformalTable
        %commonatts;

        Colsep   %yesorno;                          #IMPLIED
        Frame    (Top|Bottom|Topbot|All|Sides|None) #IMPLIED
        Orient   (Port | Land)                      #IMPLIED
        Pgwide   %yesorno;                          #IMPLIED
        Rowsep   %yesorno;                          #IMPLIED
        Tabstyle NMTOKEN                            #IMPLIED

        %DTINFO.Table;      &ldquo;#CONTENT&rdquo;
        %DTINFO.Scope.Table;
&gt;DTINFO.IgnoreApplyDTINFO.Ignoreto elements that contain
information you do not want to have displayed. If the elements contain
useful hypertext information, it will be used during the build process.
For example, you can provide aDTINFO.Valuethat is passed up and used to create a hypertext value.Entity name:DTINFO.IgnoreAttribute template:DTINFO.Ignore CDATA #FIXEDRelated Forms:DTINFO.ValueExample:&lt;!ELEMENT InternalComment - - ((%inlinechar.gp;)+)>
&lt;!ATTLIST InternalComment
        %DTINFO.Ignore; &ldquo;#CONTENT&rdquo;
        %DTINFO.Value;          &ldquo;#CONTENT&rdquo;
>Value Formarchitectural formssection value formTheDTINFO.Valueform defines the return value
of an architectural form.DTINFO.Valuereturns
a value to a higher-level element. For example, assume elementfoohas a content model ofa?,b,
andfoouses the architectural formDTINFO.Title firstof &ldquo;(a,b)&rdquo;.
The value ofamight be constructed
by concatenating itsLabelattribute
and its content. This construction can be processed and given
tofoousingDTINFO.Value.
Only oneDTINFO.Valuecan be placed on
any element.The value architectural form is:DTINFO.ValueTheDTINFO.Valueattribute specifies a
return value for an architectural form. The value forDTINFO.Valueis a functional language
that creates a stream to be used as a value. The value takes the
form of an implied concatenation. The arguments are defined in the
tableSyntax for Referencing Values.Entity name:DTINFO.ValueAttribute template:DTINFO.Value CDATA #FIXED &ldquo;Value&rdquo;Related Forms: All section formsExample:&lt;!ELEMENT RefMeta - - (RefEntryTitle, ManVolNum?,RefMiscInfo*) >
&lt;!ATTLIST RefMeta
        %commonatts;

        %DTINFO.Title;
        %DTINFO.Value; &ldquo;concat( RefEntryTitle,'(`,
ManVolNum,')')&rdquo;
>Scope Formsarchitectural formsscope formsIn the Information Manager, users can define the scope of searches.
They can tell the browser which books to include in a search, and
can specify whether to search all components of the books, body text,
examples, indexes, graphics, tables, titles, or some combination thereof.
Scope architectural forms determine which elements are included in a
search scope in the Information Manager. Specifically, they determine
which scope information is indexed within the FulText index. The scope
applies to any element contained within an element to whichDTINFO.Scopehas been applied.To apply scope forms to an element, you apply theDTINFO.Scopeattribute with any of five values.
If you do not apply a scope form to an element the data has the default
scope ofBody Text.Possible values forDTINFO.Scopeinclude Example,
Graphic, Index, Table and Title, and are represented by these entities:DTINFO.Scope.ExampleApply theDTINFO.Scopeattribute with a
value ofExampleto elements that contain data
you want to include in searches that are scoped to include examples.Entity name:DTINFO.Scope.ExampleAttribute template:DTINFO.Scope Name #FIXED ExampleExample:<!ELEMENT Example - - (Title, TitleAbbrev?, (%para.gp; |
                        %list.gp; | %object.gp;)+) >
<!ATTLIST Example
        %commonatts;
        Label  CDATA  #IMPLIED

        %DTINFO.Scope.Example;
>DTINFO.Scope.GraphicApply theDTINFO.Scopeattribute with a
value ofGraphicto elements you want included
in searches that are scoped to include graphics. The effect of applying
this architectural form is that any strings contained within certain
graphic types may be extracted and indexed for searching.Entity name:DTINFO.Scope.GraphicAttribute template:DTINFO.Scope Name #FIXED GraphicRelated Forms:DTINFO.Graphic,DTINFO.ID,DTINFO.ValueExample:&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref   ENTITY               #IMPLIED
        Fileref      CDATA               #IMPLIED
        Format      NOTATION
                         %notationtypes  #IMPLIED
        Id                 ID                   #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.ID;             &ldquo;attr( Id )&rdquo;
        %DTINFO.Scope.Graphic;
        %DTINFO.Value;          &ldquo;attr( Fileref )&rdquo;
>DTINFO.Scope.IndexApply theDTINFO.Scopeattribute with a
value ofIndexto elements you want included
in searches that are scoped to include book indexes.Entity name:DTINFO.Scope.IndexAttribute template:DTINFO.Scope Name #FIXED IndexRelated Forms:DTINFO.SectionExample:<!ELEMENT (SetIndex | Index) - - (DocInfo?, (Title,
                       TitleAbbrev?)?, (%component.gp;)*, (IndexDiv+ |
                       IndexEntry+)) >
<!ATTLIST (SetIndex | Index)
        %commonatts;

        %DTINFO.Section;
        DTINFO.Scope.Index;
>DTINFO.Scope.TableApply theDTINFO.Scopeattribute with a
value ofTableto elements you want included
in searches that are scoped to include tables. The effect of this
architectural form is that any strings contained within the CALS
SGML table model are indexed for searching.Entity name:DTINFO.Scope.TableAttribute template:DTINFO.Scope Name #FIXED TableRelated Forms:DTINFO.Table.Example:<!ELEMENT InformalTable - - ((%tblcontent.gp;)) -(Table|InformalTable)>
<!ATTLIST InformalTable
        %commonatts;
        Colsep       %yesorno;                          #IMPLIED
        Frame        (Top|Bottom|Topbot|All|Sides|None) #IMPLIED
        Orient      (Port | Land)                       #IMPLIED
        Pgwide      %yesorno;                           #IMPLIED
        Rowsep    %yesorno;                             #IMPLIED
        Tabstyle    NMTOKEN                             #IMPLIED

        %DTINFO.Table;
        %DTINFO.Scope.Table;
>DTINFO.Scope.TitleApply theDTINFO.Scopeattribute with a
value ofTitleto elements you want included
in searches that are scoped to include titles.Entity name:DTINFO.Scope.TitleAttribute template:DTINFO.Scope Name #FIXED TitleRelated Forms:DTINFO.Title,DTINFO.Value.Example:&lt;!ELEMENT RefMeta - - (RefEntryTitle, ManVolNum?, RefMiscInfo*) >
&lt;!ATTLIST RefMeta
        %commonatts;

        %DTINFO.Title;
        %DTINFO.Scope.Title;
        %DTINFO.Value; &ldquo;concat( RefEntryTitle, ManVolNum)&rdquo;
>Hypertext Formsarchitectural formslocation formsThe attributes corresponding to hypertext architectural forms
areDTINFO.IDandDTINFO.IDREF. For information on assigning
a value for these attributes see the tableSyntax for Referencing Values.SGML reference concrete syntax specifies that the value
ofDTINFO.IDandDTINFO.IDREFmust be no more
than 1024 characters long and must start with an alpha-numeric character.DTINFO.IDApply theDTINFO.IDattribute to any
element which specifies the destination of a link.Entity name:DTINFO.IDAttribute template:DTINFO.ID CDATA #FIXED &ldquo;Value&rdquo;Related Forms: AllExample:&lt;!ELEMENT Anchor - O EMPTY >
!ATTLIST Anchor
        Id              ID              #REQUIRED
        Pagenum         CDATA           #IMPLIED
        Remap           CDATA           #IMPLIED
        Role            CDATA           #IMPLIED
        XRefLabel       CDATA           #IMPLIED

        %DTINFO.ID;                     &ldquo;attr( Id )&rdquo;
>The value of eachDTINFO.IDmust be unique.DTINFO.IDREFApply theDTINFO.IDREFattribute to
any element that contains data to be used as a hot spot for
traversing to the location specified as the value forDTINFO.IDREF.Entity name:DTINFO.IDREFAttribute template:DTINFO.IDREF CDATA #FIXED &ldquo;Value&rdquo;Related Forms: AllExample:&lt;!ELEMENT Link - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST Link
        Endterm         IDREF           #IMPLIED
        Linkend         IDREF           #REQUIRED
        Type            CDATA           #IMPLIED

        %DTINFO.IDREF; &ldquo;attr( Linkend )&rdquo;
>The value ofDTINFO.IDREFshould be the
value of an existingDTINFO.ID.Style Formarchitectural formsstyle formThe attribute corresponding to the style architectural form is:DTINFO.StyleApply the Information Manager style architectural form,DTINFO.Style, to elements to which you have
already applied the structural formDTINFO.Sectionand for which you want to override their inherited style sheet.DTINFO.Stylecan be used only for elements
withDTINFOarchitectural formsBookcase,BookandDTINFO.Section.The value ofDTINFO.Styleis the name of
a style sheet (the value of a style sheet'sDTINFO.IDarchitectural form) and must
resolve to a style sheet specified in the bookcase specification document.
Style sheets are inherited by all subordinate sections unless
they are overridden with a new one.Because the content ofDTINFO.Styleis a
string that matches the ID of a stylesheet name (and is not an element)
it must be quoted twice, as in%DTINFO.Style; &ldquo;&lsquo;sty1&rsquo;&rdquo;or in the form%DTINFO.Style
&ldquo;concat(&lsquo;sty1&rsquo;)&rdquo;Entity name:DTINFO.StyleAttribute template:DTINFO.Style CDATA #FIXED &ldquo;Value&rdquo;Related Forms:DTINFO.SectionExample:&lt;!ELEMENT Preface - - (DocInfo?, Title, TitleAbbrev?, (%sect1.gp;)) >
&lt;!ATTLIST Preface
        %commonatts;

        %DTINFO.Section;
        %DTINFO.Style;  &ldquo;&lsquo;sty1&rsquo;&rdquo;
>Applying Architectural Formsarchitectural formsapplying to existing DTDUse this procedure to apply architectural forms to your DTD.
Refer toDescription of Information
Manager Architectural Formsfor information on when to apply
architectural forms to an element in your DTD:Applying the attributes for architectural forms does not
invalidate your document instance, nor does it require any
modifications to your document instance.At the top of your DTD, add the entity declaration and use statement
for Information Manager architectural forms:&lt;!ENTITY % DOCBOOK PUBLIC
 &ldquo;-//Common Desktop Environment//ENTITIES DtInfo Architectural Forms//EN&rdquo;
>
%DOCBOOK;Analyze your DTD to understand what you want to display.Identify container elements and the correspondingsection architectural formfor each. For example, an element for figure captions corresponds
to theTitleform.In the attributes list for the element you are modifying,
enter the parameter entity reference or complete attribute.To use the parameter entity reference:&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        %DTINFO.Title; &ldquo;#CONTENT&rdquo;
>To use the complete attribute:&lt;!ELEMENT caption - - ((%inlinechar.gp;)+) >
&lt;!ATTLIST caption
        %commonatts;

        DTINFO.Title CDATA #FIXED &ldquo;#CONTENT&rdquo;
>Some architectural forms have related, required forms.
For example, theDTINFO.Sectionform requires anDTINFO.Titleand
anDTINFO.ID.
SeeDescription of Information
Manager Architectural Formsfor details.For the element you are working with, determine whether to
apply ahypertext form:&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref       ENTITY          #IMPLIED
        Fileref         CDATA           #IMPLIED
        Format          NOTATION
                        %notationtypes  #IMPLIED
        Id              ID              #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.ID;                     &ldquo;attr( Id )&rdquo;
>You can build a bookcase after applying a minimum ofDTINFO.Section,DTINFO.Title, andDTINFO.IDforms.For the element you are working with, determine whether to apply adata form:&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref       ENTITY          #IMPLIED
        Fileref         CDATA           #IMPLIED
        Format          NOTATION
                        %notationtypes  #IMPLIED
        Id              ID              #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.ID;                     &ldquo;attr( Id )&rdquo;
        %DTINFO.Value;                  &ldquo;attr( Fileref )&rdquo;
>For the element you are working with, determine whether to apply ascope form:&lt;!ELEMENT Graphic - - CDATA>
&lt;!ATTLIST Graphic
        Entityref       ENTITY          #IMPLIED
        Fileref         CDATA           #IMPLIED
        Format          NOTATION
                        %notationtypes  #IMPLIED
        Id              ID              #IMPLIED

        %DTINFO.Graphic;
        %DTINFO.Scope.Graphic;
        %DTINFO.ID;                 &ldquo;attr( Id )&rdquo;
        %DTINFO.Value;              &ldquo;attr( Fileref )&rdquo;
>For elements to which you have applied theDTINFO.Sectionarchitectural form,
determine whether to use a style sheet other than the one inherited
by this section. To use a different style sheet, apply astyle form:&lt;!ELEMENT Preface - - (DocInfo?, Title, TitleAbbrev?, (%sect1.gp;)) >
&lt;!ATTLIST Preface
        %commonatts;

        %DTINFO.Section;
        %DTINFO.Style;     &ldquo;sty1&rdquo;
>Repeat steps 4 through 7 for each element which
requires an architectural form.