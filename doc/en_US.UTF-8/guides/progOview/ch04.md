Portability and MaintenanceThis chapter contains information you can use to write highly portable
applications and use to ensure that your application will be compatible with
future Common Desktop Environment releases.Portability Issuesportability
issues <$startrange>This section presents issues that might affect your application's portability
between different platforms that support the Common Desktop Environment.Standardsstandards <$startrange>To be Common Desktop Environment-compliant, your application mustMotif 2.1follow the Motif 2.1,ANSI CANSI-C, andX11R6.2X11R6.2 standards. If you are developing your application
in C++, use C++ version 2.0 or later. No further assumptions are made that
you adhere to any standards, such as POSIX, when you write a Common Desktop
Environment application. Applications that use the desktop application program
interfaces (APIs) will be portable to other Common Desktop Environment platforms.
However, using POSIX can enhance your software's portability.ThePOSIXPOSIX standard,
IEEE Std 1003.1-1990, is entitledIEEE Standard for Information
Technology&mdash;Portable Operating System Interface (POSIX)&mdash;Part 1:
System Application Program Interface (API) [C Language],ISBN
1-55937-061-0.The Motif 2.1 standard, IEEE Std 1295, is entitledStandard
for Information Technology&mdash;X Window System Graphical User Interface&mdash;Modular
Toolkit Environment.standards <$endrange>For information on ordering IEEE Std 1003.1-1990 and IEEE Std 1295,
see.Makefilesmakefiles <$startrange>Certain libraries that the Common Desktop Environment depends on, for
example X11, are likely to be installed in different locations on different
platforms. Include platform-specific references to accommodate this or write
a separate makefile for each platform.Also, themakeprogram functionality can differ across
platforms. If you want to write just one makefile for your application, use
the commonmakefunctionality used by the platforms to
which you want to port your program. Avoid platform-specificmakefeatures.The Common Desktop Environment requires no additional defined constants
(-Dparameters) to integrate with the desktop. If you
do follow a standard, such as POSIX, you might need to compile with additional
standard-specific flags. Read about the standard to find out if it includes
special compiler considerations.Each subdirectory of/usr/dt/examplescontains
sample makefile source files for different platforms. These makefiles take
into account system differences. In particular, see the/usr/dt/examples/dtdtsdirectoryfor generic examples of makefiles.Compile OptionsTo enable your application to find the desktopincludefiles, add:-I/usr/dt/includeto each makefile's compile line.Link OptionsTo enable your application to reference desktop libraries, add:-L/usr/dt/lib -l<libname1> -l<libname2>...to each makefile's link line, wherelibname1,libname2are the names of libraries
your application needs to reference.makefiles <$endrange>You can include as many desktop library names in this line as
you want. For example:-L/usr/dt/lib -lDtSvc -ltt -lXmenables your application to reference the Desktop Services, ToolTalk
Messaging System, and Motif 2.1 libraries.File-Naming Conventionsfile naming conventionsnaming conventionsfileYou should limit your application file names, and the file names your
application generates, to 14 characters. This will make your application
portable to platforms that have this limitation. Some platforms can be configured
to have this constraint.Do not place length limitations on file names that an end user generates.Display Supportdisplay supportYour application should support the following display options and configurations:Monochrome (including black-and-white
icons)Color (including color icons)Small screens, such asVGAVGA (640x480&mdash;scale application window or font
size to fit completely on the screen)If you use theIcon EditorIcon
Editor to create color icons, your application will share colors with other
desktop applications more readily. This helps conserve color cells when running
on aPseudo Color displayPseudo
Color display.portability issues <$endrange>Common Desktop Environment Motif Widget Binary Compatibility GuidelinesguidelinesCommon Desktop Environment Motif widget binary compatibilitycompatibilityguidelines,
for Common Desktop Environment widgetswidgetcompatibility guidelines <$startrange>Any widget subclass that you implement using the standard Xt APIs that
rely on the size of data structures of widgets from which you have subclassed
might not be compatible with any new version of Motif or the Common Desktop
Environment. The reason for this is that new fields may be added to the superclasses
in the new version of Motif. An example is that new fields have been added
to theXmManagerandXmPrimitiveclasses
in Motif 2.0.The incompatibility occurs because a subclass must contain compiled-in
references to its instance fields that are specified relative to the start
address of the widget instance. When you install a new Motif library for
a widget whose superclass instance structure has been extended, the compiled-in
references will point to the wrong memory location.To avoid this difficulty, Motif provides a mechanism for defining resources
and accessing widget fields that allows you to reference all fields in the
instance and constraint structures relative to the start of the widgetpartstructure, instead of the overall widget structure. (The overall
widget structure includes the superclass part structure.) The mechanism resolves
these relative references at run time, when the widget class is first initialized.
To resolve references, it factors in the size of the widget's superclass
instance structure, which it reads from the currently linked Motif library.If you implement subclassing, youmustuse the
Motif reference- resolving mechanism if you want your application to be binary
compatible with future releases of the Common Desktop Environment.For details regarding this Motif mechanism, consult the Motif 2.1XmResolvePartOffsets(3x)andXmResolveAllPartOffsets(3x)man pages and theMotif Programmer's Reference. You can find example source code in Motif's example codeguidelinesCommon
Desktop Environment Motif widget binary compatibilitycompatibilityguidelines, for Common Desktop
Environment widgetswidgetcompatibility guidelines <$endrange>.