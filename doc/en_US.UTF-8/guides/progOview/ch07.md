Optional IntegrationThe Common Desktop Environment components discussed in this chapter
enable you to leverage services provided by the desktop for achieving specialized
tasks.optional integration <$startrange>integrationoptionallevels of integrationoptional <$startrange>Information Manager ??In addition to incorporating any components described in this section
into your application, you should also follow the basic integration steps
outlined in.
The components discussed in,
are critical to making your application highly integrated with the desktop.For more information on optional integration, see theProgrammer's
Guide.Common Desktop Environment Motif Control WidgetsThe Common Desktop Environment MotifwidgetCommon Desktop Environment <$startrange>control widgets are designed to
ease portingOPEN LOOKOPEN LOOK
andMicrosoft WindowsMicrosoft
Windows applications to the Common Desktop Environment by providing equivalent
functionality in Common Desktop Environment Motif. The Common Desktop Environment
Motif widgets librarylibDtWidgetcontains widgets and
functions that are used to provide common functionality across all Common
Desktop Environment applications. The widgets provided include:Text field and arrow button
widget (DtSpinBox)text field and arrow button
widget (DtSpinBox)DtSpinBoxCommon Desktop Environment widgetsDtSpinBoxExample of text field and arrow button widget (DtSpinBox)Text field and list box widget
(DtComboBox)text field and list box widget (DtComboBox)DtComboBoxCommon Desktop Environment widgetsDtComboBoxExamples of text field and list box widget (DtComboBox)Menu button widget
(DtMenuButton)menu button widget (DtMenuButton)DtMenuButtonCommon Desktop Environment widgetsDtMenuButtonExample of menu button widget (DtMenuButton)The Common Desktop Environment Motif Widget librarylibDtWidgetsupports drivability between Common Desktop Environment applications
and legacy OPEN LOOK applications. That is, it enables you to write applications
that operate the same way OPEN LOOK applications do, in areas such as cut,
copy, paste, and mouse-button functionality.The Common Desktop Environment supports allMotifwidgetMotifMotif widgets.Common Desktop Environment Control WidgetsWidget NameDescriptionDtSpinBoxTextFieldwidget
with additional controls for incrementing and decrementing numeric values,
or browsing through and selecting from a list of text stringsDtComboBoxCombination ofTextFieldand pop-up List widgets that provides a list of valid choices for theTextFieldDtMenuButtonCommand widget that provides menu cascading
functionality of anXmCascadeButtonwidget outside of
a Menu Bar, or a Menu Pane (a pull-down menu, a pop-up menu, or an option
menu)Library and Header FilesCommon Desktop Environment
widgetslibrary and header filesThe librarylibDtWidgetprovides access to theDtSpinBox,DtComboBox, andDtMenuButtonwidgets. ThelibDtWidgetheader files for these
widgets are:Dt/SpinBox.hDt/ComboBox.hDt/MenuButton.hDemo ProgramsCommon Desktop Environment widgetsdemo programsdemo programsYou can find the Common Desktop Environment Motif control widgets demos
in/usr/dt/examples/dtwidget. Read theREADMEfile for detailed information on the demos.Related DocumentationFor more information on Common Desktop Environment Motif control widgets,
see the relevant man pages and theProgrammer's Guide.widgetCommon Desktop Environment <$endrange>Data TypingYou can define data types when you perform basic integration for your
application. This section focuses on a different aspect of data typing: extracting
information from the actions and data-types database.Data typing provides an extension to the attributes of files and data
beyond what is provided by traditionalUNIXUNIX file systems. These extensions include typing and attribute
management. Use the data-typing API if your application receives data from
external sources and must act on it. For example, your application might
want to display an icon or execute an action that has a system-wide definition.Data typing consist of two parts:data typingtwo parts ofA database that stores data
criteria and data attributesA collection of routines that query the databaseThe data-typing system determines a type for a file or byte vector based
on a set of criteria. These criteria include its name, permissions, symbolic
link value, and contents. The attributes associated with a type describe
its user-visible interfaces, including a description, the icon to represent
it graphically, and the actions that apply to it. Attributes also exist that
name the interchange formats to which the data conforms.The Common Desktop Environment File Manager and Common Desktop Environment
Mail attachment window use data typing to determine the icon and actions
associated with a file. For example, for a C filefilename.c, File Manager uses the.cextension to determine the file's data type, C_SOURCE. It then
uses C_SOURCE to determine the icon file name for the icon that it can use
forfilename.c.Database Loadingdatabaseloadingdata typingdatabase loadingThis section discusses the loading API for the actions and data-types
database. The syntax for this and any Common Desktop Environment databases
a developer defines is discussed in man pages in the/usr/dt/man/man4directory.The external database loading API consists of two functions:DtDbLoad()DtDbReloadNotify()DtDbLoad()reads in the actions and data-types
database. It determines the set of directories that are searched for database
files, and it loads into the database the.dtfiles
that are found. Your application must callDtDbLoad()before calling any of the routines that query the actions and data-types
database.DtDbLoad()databaseDtDbLoad()Use DtDbReLoadNotify()to request notification
of actions and data-types database reload events. It registers an application's
interest in database reload messages.DtDbReLoadNotify()databaseDtDbReLoadNotify()Your application should reload the database whenever it changes, so
that the end user will notice updates without having to restart the application.Database Queriesdatabasequery
functionsdata typingdatabase query functionsTo look up an attribute for a data object, you must first determine
the type of the object and then ask for the appropriate attribute value for
that type. The database query functions enable you to perform operations
such as retrieve type data and attributes, free memory, and load and unload
the database. These functions are documented in theProgrammer's
Guideand also in man pages in theman3directory.Library and Header Filesdata typinglibrary and header filesThe Desktop Services library,libDtSvc, provides
access to many desktop APIs, including that for data typing. Include theDt/Dt.hand Dt/Dts.hheader files to access
the data-typing API.If your application uses any of the data-typing APIs, or loads the
actions and data-types database, it must first initialize thelibDtSvclibrary by calling eitherDtInitialize()DtInitialize()orDtAppInitialize()DtAppInitialize(). Refer
to theDtInitialize(3) orDtAppInitialize(3) man page for more information.Demo Programsdata typingdemo
programsdemo programsYou can find the data typing demos in/usr/dt/examples/dtdts.
Read theREADMEfile for detailed information
on the demos.Related DocumentationFor more information on data typing, see the relevant man pages and
theProgrammer's Guide.Action InvocationThe action invocation API enables applications to invoke desktop actions
on file or buffer arguments. It chooses a suitable action for the file or
buffer based on theClass,Type,Mode, andNumberof the action arguments. For
example, an Open action might invoke an image viewer for GIF files, a word
processor for complex documents, and a simple text editor for ordinary ASCII
files. Your application need not concern itself with the details of action
selection or invocation.Use the action invocation API so that your application uses the same
mechanisms as the rest of the desktop. The user can then experience uniform
desktop behavior.The action functions in thelibDtSvclibrary provide
a way to invoke desktop actions (such as Open and Print) for files or buffers.
They contain parameters that enable you to modify an action's behavior. The
action invocation API consists of the following functions:action invocationAPI