
# Using TTSnoop to Debug Messages and Patterns


TTSnoopTTSnoop is a tool provided to create and send custom&hyphen;constructed ToolTalk
messages. You can also use TTSnoop as a tool to selectively monitor any or all
ToolTalk messages.
# About TTSnoop


TTSnoop is a useful interactive tool that you can use to become familiar with
TookTalk concepts and API calls as well as to perform demonstrations. In
addition, TTSnoop is a valuable debugging tool when you are developing
applications.

You can use TTSnoop to monitor for messages that match more than one
pattern. When a matched message is displayed, the name of the pattern that
matched the entry can also be displayed.

You can add, edit, or delete messages and patterns to scrollable lists. TTSnoop
allows the definitions of multiple patterns and messages to be saved and
loaded from files. You can also define, save, and reload patterns and messages
particular to a category of applications (for example, DeskSet&trade; tools) as well
as associate messages and patterns with a user-defined name.
# Where to Find TTSnoop


The TTSnoop program resides in the directory/usr/dt/bin/ttsnoop/usr/dt/bin.
# Starting TTSnoop


To start the program, enter the following command on the command line:ttsnoop [ -t ]

The-t option, of ttsnoop command[t]-toption displays the ToolTalk API calls that are being used to construct a
particular pattern or message.describes the menu options that are displayed
when TTSnoop starts.
# TTSnoop Menu Options


`Menu Option`

`Description`

Snoop

Turn on/off tracing; get version information

Message

Create, open, receive, and destroy messages

Pattern

Create, open, and destroy patterns

File

Numerous tasks, including joining a file

Session

Join a specific session; set the default session

Ptype

Declare and undeclare aptype; determine whether
aptypeexists

Types

Generate a list of declared types; generate a list of ToolTalk-based actions

Procid

Open, close, suspend, and resume a procid

libc

Callsystem(),putenv(),chdir(),pause(), andexit(); useexit()to exitttsnoop
# Composing and Sending Messages


When you selectMessage &hyphen;&gt; Create, a dialog is posted that
enables you toCreate and send a messageCreate a template for a ptypeCreate a template for a ToolTalk type actionCreate a C language template for a message reply handlerTo create a message, select theCreate &hyphen;&gt; Tt_messageoption. The following may be
specified for a message:The Scope (for example, File, Session, Both, or File in Session)The Session IdThe Class (for example, Notice or Request)The Address (for example, Object, Handler, or Procedure)The Disposition (Discard, Queue, or Start)The Arguments
# To Begin Snooping


To turn on the displaying of messages and pattern traffic, selectSnoop &hyphen;&gt; On.
# To Stop Snooping


To turn off the displaying of messages and pattern traffic, selectSnoop &hyphen;&gt; Off.